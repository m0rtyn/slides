(self.webpackChunkvk=self.webpackChunkvk||[]).push([[31350],{997864:function(e){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(u){if(t[u])return t[u].exports;var r=t[u]={i:u,l:!1,exports:{}};return e[u].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,u){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:u})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function u(e){if(!(this instanceof u))return new u(e);this._=e}var r=u.prototype;function i(e,t){for(var n=0;n<e;n++)t(n)}function o(e,t,n){return function(e,t){i(t.length,(function(n){e(t[n],n,t)}))}((function(n,u,r){t=e(t,n,u,r)}),n),t}function a(e,t){return o((function(t,n,u,r){return t.concat([e(n,u,r)])}),[],t)}function s(e,t){var n={v:0,buf:t};return i(e,(function(){var e;n={v:n.v<<1|(e=n.buf,e[0]>>7),buf:function(e){var t=o((function(e,t,n,u){return e.concat(n===u.length-1?Buffer.from([t,0]).readUInt16BE(0):u.readUInt16BE(n))}),[],e);return Buffer.from(a((function(e){return(e<<1&65535)>>8}),t))}(n.buf)}})),n}function D(){return"undefined"!=typeof Buffer}function c(){if(!D())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function d(e){c();var t=o((function(e,t){return e+t}),0,e);if(t%8!=0)throw new Error("The bits ["+e.join(", ")+"] add up to "+t+" which is not an even number of bytes; the total should be divisible by 8");var n,r=t/8,i=(n=function(e){return e>48},o((function(e,t){return e||(n(t)?t:e)}),null,e));if(i)throw new Error(i+" bit range requested exceeds 48 bit (6 byte) Number max.");return new u((function(t,n){var u=r+n;return u>t.length?b(n,r.toString()+" bytes"):v(u,o((function(e,t){var n=s(t,e.buf);return{coll:e.coll.concat(n.v),buf:n.buf}}),{coll:[],buf:t.slice(n,u)},e).coll)}))}function l(e,t){return new u((function(n,u){return c(),u+t>n.length?b(u,t+" bytes for "+e):v(u+t,n.slice(u,u+t))}))}function f(e,t){if("number"!=typeof(n=t)||Math.floor(n)!==n||t<0||t>6)throw new Error(e+" requires integer length in range [0, 6].");var n}function m(e){return f("uintBE",e),l("uintBE("+e+")",e).map((function(t){return t.readUIntBE(0,e)}))}function h(e){return f("uintLE",e),l("uintLE("+e+")",e).map((function(t){return t.readUIntLE(0,e)}))}function p(e){return f("intBE",e),l("intBE("+e+")",e).map((function(t){return t.readIntBE(0,e)}))}function F(e){return f("intLE",e),l("intLE("+e+")",e).map((function(t){return t.readIntLE(0,e)}))}function C(e){return e instanceof u}function g(e){return"[object Array]"==={}.toString.call(e)}function E(e){return D()&&Buffer.isBuffer(e)}function v(e,t){return{status:!0,index:e,value:t,furthest:-1,expected:[]}}function b(e,t){return g(t)||(t=[t]),{status:!1,index:-1,value:null,furthest:e,expected:t}}function k(e,t){if(!t)return e;if(e.furthest>t.furthest)return e;var n=e.furthest===t.furthest?function(e,t){if(function(){if(void 0!==u._supportsSet)return u._supportsSet;var e="undefined"!=typeof Set;return u._supportsSet=e,e}()&&Array.from){for(var n=new Set(e),r=0;r<t.length;r++)n.add(t[r]);var i=Array.from(n);return i.sort(),i}for(var o={},a=0;a<e.length;a++)o[e[a]]=!0;for(var s=0;s<t.length;s++)o[t[s]]=!0;var D=[];for(var c in o)({}).hasOwnProperty.call(o,c)&&D.push(c);return D.sort(),D}(e.expected,t.expected):t.expected;return{status:e.status,index:e.index,value:e.value,furthest:t.furthest,expected:n}}var y={};function w(e,t){if(E(e))return{offset:t,line:-1,column:-1};e in y||(y[e]={});for(var n=y[e],u=0,r=0,i=0,o=t;o>=0;){if(o in n){u=n[o].line,0===i&&(i=n[o].lineStart);break}("\n"===e.charAt(o)||"\r"===e.charAt(o)&&"\n"!==e.charAt(o+1))&&(r++,0===i&&(i=o+1)),o--}var a=u+r,s=t-i;return n[t]={line:a,lineStart:i},{offset:t,line:a+1,column:s+1}}function B(e){if(!C(e))throw new Error("not a parser: "+e)}function _(e,t){return"string"==typeof e?e.charAt(t):e[t]}function I(e){if("number"!=typeof e)throw new Error("not a number: "+e)}function A(e){if("function"!=typeof e)throw new Error("not a function: "+e)}function x(e){if("string"!=typeof e)throw new Error("not a string: "+e)}var N=2,M=3,S=8,R=5*S,P=4*S,T="  ";function j(e,t){return new Array(t+1).join(e)}function L(e,t,n){var u=t-e.length;return u<=0?e:j(n,u)+e}function U(e,t,n,u){return{from:e-t>0?e-t:0,to:e+n>u?u:e+n}}function O(e,t){var n,u,r,i,s,D=t.index,c=D.offset,d=1;if(c===e.length)return"Got the end of the input";if(E(e)){var l=c-c%S,f=c-l,m=U(l,R,P+S,e.length),h=a((function(e){return a((function(e){return L(e.toString(16),2,"0")}),e)}),function(e,t){var n=e.length,u=[],r=0;if(n<=t)return[e.slice()];for(var i=0;i<n;i++)u[r]||u.push([]),u[r].push(e[i]),(i+1)%t==0&&r++;return u}(e.slice(m.from,m.to).toJSON().data,S));i=function(e){return 0===e.from&&1===e.to?{from:e.from,to:e.to}:{from:e.from/S,to:Math.floor(e.to/S)}}(m),u=l/S,n=3*f,f>=4&&(n+=1),d=2,r=a((function(e){return e.length<=4?e.join(" "):e.slice(0,4).join(" ")+"  "+e.slice(4).join(" ")}),h),(s=(8*(i.to>0?i.to-1:i.to)).toString(16).length)<2&&(s=2)}else{var p=e.split(/\r\n|[\n\r\u2028\u2029]/);n=D.column-1,u=D.line-1,i=U(u,N,M,p.length),r=p.slice(i.from,i.to),s=i.to.toString().length}var F=u-i.from;return E(e)&&(s=(8*(i.to>0?i.to-1:i.to)).toString(16).length)<2&&(s=2),o((function(t,u,r){var o,a=r===F,D=a?"> ":T;return o=E(e)?L((8*(i.from+r)).toString(16),s,"0"):L((i.from+r+1).toString(),s," "),[].concat(t,[D+o+" | "+u],a?[T+j(" ",s)+" | "+L("",n," ")+j("^",d)]:[])}),[],r).join("\n")}function q(e,t){return["\n","-- PARSING FAILED "+j("-",50),"\n\n",O(e,t),"\n\n",(n=t.expected,1===n.length?"Expected:\n\n"+n[0]:"Expected one of the following: \n\n"+n.join(", ")),"\n"].join("");var n}function G(e){return void 0!==e.flags?e.flags:[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.unicode?"u":"",e.sticky?"y":""].join("")}function $(){for(var e=[].slice.call(arguments),t=e.length,n=0;n<t;n+=1)B(e[n]);return u((function(n,u){for(var r,i=new Array(t),o=0;o<t;o+=1){if(!(r=k(e[o]._(n,u),r)).status)return r;i[o]=r.value,u=r.index}return k(v(u,i),r)}))}function z(){var e=[].slice.call(arguments);if(0===e.length)throw new Error("seqMap needs at least one argument");var t=e.pop();return A(t),$.apply(null,e).map((function(e){return t.apply(null,e)}))}function H(){var e=[].slice.call(arguments),t=e.length;if(0===t)return X("zero alternates");for(var n=0;n<t;n+=1)B(e[n]);return u((function(t,n){for(var u,r=0;r<e.length;r+=1)if((u=k(e[r]._(t,n),u)).status)return u;return u}))}function W(e,t){return K(e,t).or(Q([]))}function K(e,t){return B(e),B(t),z(e,t.then(e).many(),(function(e,t){return[e].concat(t)}))}function V(e){x(e);var t="'"+e+"'";return u((function(n,u){var r=u+e.length,i=n.slice(u,r);return i===e?v(r,i):b(u,t)}))}function Y(e,t){!function(e){if(!(e instanceof RegExp))throw new Error("not a regexp: "+e);for(var t=G(e),n=0;n<t.length;n++){var u=t.charAt(n);if("i"!==u&&"m"!==u&&"u"!==u&&"s"!==u)throw new Error('unsupported regexp flag "'+u+'": '+e)}}(e),arguments.length>=2?I(t):t=0;var n=function(e){return RegExp("^(?:"+e.source+")",G(e))}(e),r=""+e;return u((function(e,u){var i=n.exec(e.slice(u));if(i){if(0<=t&&t<=i.length){var o=i[0],a=i[t];return v(u+o.length,a)}return b(u,"valid match group (0 to "+i.length+") in "+r)}return b(u,r)}))}function Q(e){return u((function(t,n){return v(n,e)}))}function X(e){return u((function(t,n){return b(n,e)}))}function J(e){if(C(e))return u((function(t,n){var u=e._(t,n);return u.index=n,u.value="",u}));if("string"==typeof e)return J(V(e));if(e instanceof RegExp)return J(Y(e));throw new Error("not a string, regexp, or parser: "+e)}function Z(e){return B(e),u((function(t,n){var u=e._(t,n),r=t.slice(n,u.index);return u.status?b(n,'not "'+r+'"'):v(n,null)}))}function ee(e){return A(e),u((function(t,n){var u=_(t,n);return n<t.length&&e(u)?v(n+1,u):b(n,"a character/byte matching "+e)}))}function te(e,t){arguments.length<2&&(t=e,e=void 0);var n=u((function(e,u){return n._=t()._,n._(e,u)}));return e?n.desc(e):n}function ne(){return X("fantasy-land/empty")}r.parse=function(e){if("string"!=typeof e&&!E(e))throw new Error(".parse must be called with a string or Buffer as its argument");var t,n=this.skip(oe)._(e,0);return t=n.status?{status:!0,value:n.value}:{status:!1,index:w(e,n.furthest),expected:n.expected},delete y[e],t},r.tryParse=function(e){var t=this.parse(e);if(t.status)return t.value;var n=q(e,t),u=new Error(n);throw u.type="ParsimmonError",u.result=t,u},r.assert=function(e,t){return this.chain((function(n){return e(n)?Q(n):X(t)}))},r.or=function(e){return H(this,e)},r.trim=function(e){return this.wrap(e,e)},r.wrap=function(e,t){return z(e,this,t,(function(e,t){return t}))},r.thru=function(e){return e(this)},r.then=function(e){return B(e),$(this,e).map((function(e){return e[1]}))},r.many=function(){var e=this;return u((function(t,n){for(var u=[],r=void 0;;){if(!(r=k(e._(t,n),r)).status)return k(v(n,u),r);if(n===r.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");n=r.index,u.push(r.value)}}))},r.tieWith=function(e){return x(e),this.map((function(t){if(function(e){if(!g(e))throw new Error("not an array: "+e)}(t),t.length){x(t[0]);for(var n=t[0],u=1;u<t.length;u++)x(t[u]),n+=e+t[u];return n}return""}))},r.tie=function(){return this.tieWith("")},r.times=function(e,t){var n=this;return arguments.length<2&&(t=e),I(e),I(t),u((function(u,r){for(var i=[],o=void 0,a=void 0,s=0;s<e;s+=1){if(a=k(o=n._(u,r),a),!o.status)return a;r=o.index,i.push(o.value)}for(;s<t&&(a=k(o=n._(u,r),a),o.status);s+=1)r=o.index,i.push(o.value);return k(v(r,i),a)}))},r.result=function(e){return this.map((function(){return e}))},r.atMost=function(e){return this.times(0,e)},r.atLeast=function(e){return z(this.times(e),this.many(),(function(e,t){return e.concat(t)}))},r.map=function(e){A(e);var t=this;return u((function(n,u){var r=t._(n,u);return r.status?k(v(r.index,e(r.value)),r):r}))},r.contramap=function(e){A(e);var t=this;return u((function(n,u){var r=t.parse(e(n.slice(u)));return r.status?v(u+n.length,r.value):r}))},r.promap=function(e,t){return A(e),A(t),this.contramap(e).map(t)},r.skip=function(e){return $(this,e).map((function(e){return e[0]}))},r.mark=function(){return z(ue,this,ue,(function(e,t,n){return{start:e,value:t,end:n}}))},r.node=function(e){return z(ue,this,ue,(function(t,n,u){return{name:e,value:n,start:t,end:u}}))},r.sepBy=function(e){return W(this,e)},r.sepBy1=function(e){return K(this,e)},r.lookahead=function(e){return this.skip(J(e))},r.notFollowedBy=function(e){return this.skip(Z(e))},r.desc=function(e){g(e)||(e=[e]);var t=this;return u((function(n,u){var r=t._(n,u);return r.status||(r.expected=e),r}))},r.fallback=function(e){return this.or(Q(e))},r.ap=function(e){return z(e,this,(function(e,t){return e(t)}))},r.chain=function(e){var t=this;return u((function(n,u){var r=t._(n,u);return r.status?k(e(r.value)._(n,r.index),r):r}))},r.concat=r.or,r.empty=ne,r.of=Q,r["fantasy-land/ap"]=r.ap,r["fantasy-land/chain"]=r.chain,r["fantasy-land/concat"]=r.concat,r["fantasy-land/empty"]=r.empty,r["fantasy-land/of"]=r.of,r["fantasy-land/map"]=r.map;var ue=u((function(e,t){return v(t,w(e,t))})),re=u((function(e,t){return t>=e.length?b(t,"any character/byte"):v(t+1,_(e,t))})),ie=u((function(e,t){return v(e.length,e.slice(t))})),oe=u((function(e,t){return t<e.length?b(t,"EOF"):v(t,null)})),ae=Y(/[0-9]/).desc("a digit"),se=Y(/[0-9]*/).desc("optional digits"),De=Y(/[a-z]/i).desc("a letter"),ce=Y(/[a-z]*/i).desc("optional letters"),de=Y(/\s*/).desc("optional whitespace"),le=Y(/\s+/).desc("whitespace"),fe=V("\r"),me=V("\n"),he=V("\r\n"),pe=H(he,me,fe).desc("newline"),Fe=H(pe,oe);u.all=ie,u.alt=H,u.any=re,u.cr=fe,u.createLanguage=function(e){var t={};for(var n in e)({}).hasOwnProperty.call(e,n)&&function(n){t[n]=te((function(){return e[n](t)}))}(n);return t},u.crlf=he,u.custom=function(e){return u(e(v,b))},u.digit=ae,u.digits=se,u.empty=ne,u.end=Fe,u.eof=oe,u.fail=X,u.formatError=q,u.index=ue,u.isParser=C,u.lazy=te,u.letter=De,u.letters=ce,u.lf=me,u.lookahead=J,u.makeFailure=b,u.makeSuccess=v,u.newline=pe,u.noneOf=function(e){return ee((function(t){return e.indexOf(t)<0})).desc("none of '"+e+"'")},u.notFollowedBy=Z,u.of=Q,u.oneOf=function(e){for(var t=e.split(""),n=0;n<t.length;n++)t[n]="'"+t[n]+"'";return ee((function(t){return e.indexOf(t)>=0})).desc(t)},u.optWhitespace=de,u.Parser=u,u.range=function(e,t){return ee((function(n){return e<=n&&n<=t})).desc(e+"-"+t)},u.regex=Y,u.regexp=Y,u.sepBy=W,u.sepBy1=K,u.seq=$,u.seqMap=z,u.seqObj=function(){for(var e,t={},n=0,r=(e=arguments,Array.prototype.slice.call(e)),i=r.length,o=0;o<i;o+=1){var a=r[o];if(!C(a)){if(g(a)&&2===a.length&&"string"==typeof a[0]&&C(a[1])){var s=a[0];if(Object.prototype.hasOwnProperty.call(t,s))throw new Error("seqObj: duplicate key "+s);t[s]=!0,n++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(0===n)throw new Error("seqObj expects at least one named parser, found zero");return u((function(e,t){for(var n,u={},o=0;o<i;o+=1){var a,s;if(g(r[o])?(a=r[o][0],s=r[o][1]):(a=null,s=r[o]),!(n=k(s._(e,t),n)).status)return n;a&&(u[a]=n.value),t=n.index}return k(v(t,u),n)}))},u.string=V,u.succeed=Q,u.takeWhile=function(e){return A(e),u((function(t,n){for(var u=n;u<t.length&&e(_(t,u));)u++;return v(u,t.slice(n,u))}))},u.test=ee,u.whitespace=le,u["fantasy-land/empty"]=ne,u["fantasy-land/of"]=Q,u.Binary={bitSeq:d,bitSeqObj:function(e){c();var t={},n=0,u=a((function(e){if(g(e)){var u=e;if(2!==u.length)throw new Error("["+u.join(", ")+"] should be length 2, got length "+u.length);if(x(u[0]),I(u[1]),Object.prototype.hasOwnProperty.call(t,u[0]))throw new Error("duplicate key in bitSeqObj: "+u[0]);return t[u[0]]=!0,n++,u}return I(e),[null,e]}),e);if(n<1)throw new Error("bitSeqObj expects at least one named pair, got ["+e.join(", ")+"]");var r=a((function(e){return e[0]}),u);return d(a((function(e){return e[1]}),u)).map((function(e){return o((function(e,t){return null!==t[0]&&(e[t[0]]=t[1]),e}),{},a((function(t,n){return[t,e[n]]}),r))}))},byte:function(e){if(c(),I(e),e>255)throw new Error("Value specified to byte constructor ("+e+"=0x"+e.toString(16)+") is larger in value than a single byte.");var t=(e>15?"0x":"0x0")+e.toString(16);return u((function(n,u){var r=_(n,u);return r===e?v(u+1,r):b(u,t)}))},buffer:function(e){return l("buffer",e).map((function(e){return Buffer.from(e)}))},encodedString:function(e,t){return l("string",t).map((function(t){return t.toString(e)}))},uintBE:m,uint8BE:m(1),uint16BE:m(2),uint32BE:m(4),uintLE:h,uint8LE:h(1),uint16LE:h(2),uint32LE:h(4),intBE:p,int8BE:p(1),int16BE:p(2),int32BE:p(4),intLE:F,int8LE:F(1),int16LE:F(2),int32LE:F(4),floatBE:l("floatBE",4).map((function(e){return e.readFloatBE(0)})),floatLE:l("floatLE",4).map((function(e){return e.readFloatLE(0)})),doubleBE:l("doubleBE",8).map((function(e){return e.readDoubleBE(0)})),doubleLE:l("doubleLE",8).map((function(e){return e.readDoubleLE(0)}))},e.exports=u}])},270608:e=>{e.exports=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g},95154:(e,t,n)=>{"use strict";n.d(t,{API_DEFAULT_TIMEOUT:()=>i,API_GET_INFO_FIELDS:()=>f,API_GROUP_FIELDS:()=>l,API_MAX_RETRY_TIMEOUT:()=>c,API_MIN_RETRY_TIMEOUT:()=>D,API_RATE_LIMIT:()=>a,API_RATE_LIMIT_WINDOW:()=>s,API_USER_FIELDS:()=>d,CALL_JOIN_LINK_URL_BASE:()=>R,CHANNELS_GLPH_TIMEOUT:()=>B,CHANNELS_PER_PAGE:()=>h,CHAT_INVITE_LINK_URL_BASE:()=>M,CLIENT_ID:()=>u,COMMENTS_PER_PAGE:()=>C,CONVOS_PER_PAGE:()=>m,ENGINE_VERSION:()=>r,HELPDESK_MINIAPP_ID:()=>j,ID_VK_COM_BASE:()=>U,INVITE_TO_CHAT_VISIBLE_MESSAGES_COUNT:()=>N,ISOLATED_CALL_JOIN_LINK_URL_BASE:()=>T,LIKE_PEERS_FIRST_LOAD:()=>y,LIKE_PEERS_PER_PAGE:()=>k,MAX_FORWARD_LEVEL:()=>_,MAX_MESSAGE_ATTACHES:()=>x,MAX_MESSAGE_SIZE:()=>A,MESSAGES_PER_PAGE:()=>p,POSTS_PER_PAGE:()=>F,REACTIONS_REFRESH_INTERVAL:()=>o,SEARCH_CONVOS_COUNT:()=>v,SEARCH_DEBOUNCE_MS:()=>b,SEARCH_MESSAGES_COUNT:()=>E,STORAGE_APP_UNAVAILABLE_KEY:()=>G,STORAGE_DB_NAME:()=>L,STORAGE_OWNER_ID_KEY:()=>O,STORAGE_VIEWER_ID_KEY:()=>q,THREAD_COMMENTS_COUNT:()=>g,TYPING_EXPIRATION_TIME:()=>w,VKME_APP_INSTALL_LINK:()=>P,VKME_CHAT_INVITE_LINK_URL_BASE:()=>S,VKME_LANDING_URL:()=>$,VK_PAY_APP_ID:()=>I});const u=7694673,r=19,i=1e4,o=15e3,a=9,s=3e3,D=500,c=2e4,d=["id","first_name","first_name_gen","first_name_acc","last_name","last_name_gen","last_name_acc","sex","has_photo","photo_id","photo_50","photo_100","photo_200","contact_name","occupation","bdate","city","screen_name","online_info","verified","blacklisted","blacklisted_by_me","can_call","can_write_private_message","can_send_friend_request","can_invite_to_chats","friend_status","followers_count","profile_type","contacts"],l=["id","name","screen_name","type","photo_id","photo_50","photo_100","members_count","member_status","verified","is_closed","can_message","deactivated","activity","ban_info","is_messages_blocked","can_post_donut","site"],f=["messages_recommendation_list_hidden","show_only_not_muted_messages","messages_multiline_input","messages_auto_unarchive","messages_transcript_auto_show","business_notify","messages_show_banner_teacher_verification"],m=30,h=30,p=50,F=40,C=50,g=2,E=20,v=100,b=500,k=30,y=6,w=5e3,B=3e4,_=5,I=7131443,A=4096,x=10,N=250,M="https://vk.me/join/",S="https://web.vk.me/#/join/",R="https://vk.com/call/join/",P="https://vk.me/app",T="https://web.vk.me/#/call/join/",j=6126832,L="reforged-storage-db-v1",U="https://id.vk.com",O="reforged-owner-id",q="reforged-viewer-id",G="reforged-app-unavailable",$="https://vk.me/app"},197934:(e,t,n)=>{"use strict";n.d(t,{addAttach:()=>D,generatePollBackgroundGradientStyle:()=>m,ids:()=>a,isCallJoinLink:()=>l,isChatInviteLink:()=>d,last:()=>s,preview:()=>o,rearrangeAttaches:()=>f,removeAttach:()=>c,resolveMiniAppId:()=>i});var u=n(89131),r=n(95154);const i=e=>e;function o(e,t=0,n=0,u=!1){var r;const i=["o","p","q","r"];if("Story"===e.kind)if(e.photo)e=e.photo;else{if(!e.video)return null;e=e.video}if("Video"===e.kind||"Gift"===e.kind||"PollBackgroundPhoto"===e.kind||"VideoMessage"===e.kind||"MiniApp"===e.kind){const u="MiniApp"===e.kind?e.images:e.image;return u.find((({width:e,height:u})=>e>=t&&u>=n))||u.reduce(((e,t)=>!e||t.width*t.height>e.width*e.height?t:e))||null}const o="Photo"===e.kind?e.sizes:e.image;return o?u?(null==(a=Array.from(o.entries()).find((([e,{width:u,height:r}])=>i.includes(e)&&u>=t&&r>=n)))?void 0:a[1])||o.get("r")||o.get("q")||o.get("p")||o.get("o")||null:(null==(r=Array.from(o.entries()).find((([e,{width:u,height:r}])=>!i.includes(e)&&u>=t&&r>=n)))?void 0:r[1])||o.get("w")||o.get("z")||o.get("y")||o.get("x")||o.get("m")||o.get("s")||null:null;var a}function a(e){const t=[];for(const n of e.photos||[])t.push(`photo${n.ownerId}_${n.id}`);for(const n of e.videos||[])t.push(`video${n.ownerId}_${n.id}`);for(const n of e.audios||[])t.push(`audio${n.ownerId}_${n.id}`);e.audioPlaylist&&t.push(`audio_playlist${e.audioPlaylist.ownerId}_${e.audioPlaylist.id}`),e.podcast&&t.push(`podcast${e.podcast.ownerId}_${e.podcast.id}`),e.market&&t.push(`market${e.market.ownerId}_${e.market.id}`);for(const n of e.docs||[])t.push(`doc${n.ownerId}_${n.id}`);return e.voice&&t.push(`doc${e.voice.ownerId}_${e.voice.id}`),e.wall&&t.push(`wall${e.wall.ownerId}_${e.wall.id}`),e.wallReply&&t.push(`wall_reply${e.wallReply.ownerId}_${e.wallReply.id}`),e.poll&&t.push(`poll${e.poll.ownerId}_${e.poll.id}`),e.story&&t.push(`story${e.story.ownerId}_${e.story.id}`),e.donutLink&&t.push(`donut_link${e.donutLink.ownerId}`),e.widget&&t.push(`widget${e.widget.id}`),e.ugcSticker&&t.push(`ugc_sticker${e.ugcSticker.item.owner_id}_${e.ugcSticker.id}`),t}function s(e){return 0===Object.keys(e).length?null:e.widget||e.wallReply||e.wall||e.poll||e.donutLink||e.moneyTransfer||e.moneyRequest||e.miniApps&&e.miniApps.slice(-1)[0]||e.article||e.audioPlaylist||e.podcast||e.audios&&e.audios.slice(-1)[0]||e.voice||e.docs&&e.docs.slice(-1)[0]||e.geo||e.story||e.market||e.inviteLink||e.link||e.graffiti||e.videos&&e.videos.slice(-1)[0]||e.photos&&e.photos.slice(-1)[0]||e.videoMessage||e.ugcSticker||e.sticker||e.finishedCall||e.activeCall||e.gift||null}function D(e,t){t.photos&&(e.photos=[...e.photos||[],...t.photos]),t.videos&&(e.videos=[...e.videos||[],...t.videos]),t.audios&&(e.audios=[...e.audios||[],...t.audios]),t.docs&&(e.docs=[...e.docs||[],...t.docs]),t.voice&&(e.voice=t.voice),t.poll&&(e.poll=t.poll)}function c(e,t){switch(t.kind){case"Audio":if(!e.audios)break;const n=(0,u.toNonEmpty)(e.audios.filter((e=>e.id!==t.id)));n?e.audios=n:delete e.audios;break;case"Doc":if(!e.docs)break;const r=(0,u.toNonEmpty)(e.docs.filter((e=>e.id!==t.id)));r?e.docs=r:delete e.docs;break;case"Photo":if(!e.photos)break;const i=(0,u.toNonEmpty)(e.photos.filter((e=>e.id!==t.id)));i?e.photos=i:delete e.photos;break;case"Video":if(!e.videos)break;const o=(0,u.toNonEmpty)(e.videos.filter((e=>e.id!==t.id)));o?e.videos=o:delete e.videos;break;case"Voice":e.voice&&delete e.voice;break;case"Poll":e.poll&&delete e.poll;break;default:(0,u.exhaustivenessCheck)(t)}}function d(e){return e.startsWith(r.CHAT_INVITE_LINK_URL_BASE)||e.startsWith(r.VKME_CHAT_INVITE_LINK_URL_BASE)}function l(e){return e.startsWith(r.CALL_JOIN_LINK_URL_BASE)}function f(e,{currentPosition:t,newPosition:n},r){switch(r){case"photos":const i=e[r];if(!i)return;const o=i[t];if(!o)return;i.splice(t,1),i.splice(n,0,o),e[r]=i;break;case"videos":const a=e[r];if(!a)return;const s=a[t];if(!s)return;a.splice(t,1),a.splice(n,0,s),e[r]=a;break;case"audios":const D=e[r];if(!D)return;const c=D[t];if(!c)return;D.splice(t,1),D.splice(n,0,c),e[r]=D;break;case"docs":const d=e[r];if(!d)return;const l=d[t];if(!l)return;d.splice(t,1),d.splice(n,0,l),e[r]=d;break;default:(0,u.exhaustivenessCheck)(r)}}function m(e){const t=e.angle-90,{points:n}=e,u=[];for(let e=0;e<n.length;e++){const t=n[e],r=100*e/(n.length-1);u.push(`${t} ${r}%`)}return`linear-gradient(${t}deg, ${u.join(", ")})`}},839963:(e,t,n)=>{"use strict";n.d(t,{CHANNELS_BASE_PATH:()=>D,appendPost:()=>v,cleanup:()=>B,deletePost:()=>k,findPostByCmid:()=>E,historyAround:()=>g,insertPosts:()=>w,isChannelId:()=>c,isEmpty:()=>m,isHidden:()=>p,isUnread:()=>h,lastPost:()=>C,link:()=>F,merge:()=>f,readUntil:()=>_,replacePost:()=>b,resolveId:()=>d,restorePost:()=>y,safeGet:()=>M,setArchived:()=>I,setMembership:()=>x,setMuted:()=>A,setSortId:()=>N,toRealGroupId:()=>l});var u=n(434788),r=n(723062),i=n(89131),o=n(96190),a=n(168465),s=n(95154);const D="/channels";function c(e){return r.Ranges.isGroupId(e)}function d(e){return c(e)||(e=0),e}function l(e){return o.toRealId(o.resolveId(e))}function f(e,t){if(e.id!==t.id)throw new Error("Channel.merge вызван на 2 разных каналах");const n=t.history;return t.history=e.history,w(t,n.confirmed),t}function m(e){return a.isEmpty(e.history)}function h(e){return e.unreadCount>0}function p(e){return e.majorSortId<=0&&e.minorSortId<=0}function F(e){return e.screenName?`/${e.screenName}`:`/club${Math.abs(e.id)}`}function C({channel:e,withPending:t}){var n;return null==(n=a.lastNode({history:e.history,withPending:t,withDeleted:!1}))?void 0:n.item}function g(e,t){return a.around(e.history,t)}function E(e,t){var n,u;const r=a.findNodeByCmid(e.history,t);if("Node"===(null==(n=r.node)?void 0:n.kind)||"DeletedNode"===(null==(u=r.node)?void 0:u.kind))return r.node}function v(e,t,n){const u=a.findNodeByCmid(e.history,t.cmid),r=a.lastCmid(e.history);void 0!==r&&r>=t.cmid&&"Deleted"===u.status&&"Normal"===t.kind?y(e,t.cmid,t):(!function(e,t){const n=e.history.pending.find((e=>e.item.cmid===t));void 0!==n&&a.removePending(e.history,n.item.randomId)}(e,t.cmid),a.append(e.history,t,n))}function b(e,t){const n=a.replace(e.history,t);void 0!==n&&"Normal"===t.kind&&(t.comments=(0,u._)({},t.comments,{history:n.comments.history,oneLevelCount:n.comments.oneLevelCount,order:n.comments.order}))}function k(e,t,n){a.remove(e.history,t,{isRestorable:n})}function y(e,t,n){a.restore(e.history,t,n)}function w(e,t){a.insert(e.history,t)}function B(e){a.cleanup(e.history,1.5*s.POSTS_PER_PAGE)}function _(e,t,n){if(void 0===n){const u=e.history.confirmed.filter((n=>"Node"===n.kind&&function(e,t){return t.cmid>e.inReadCmid}(e,n.item)&&n.item.cmid<=t)).length;n=Math.max(0,e.unreadCount-u)}e.inReadCmid=t,e.unreadCount=n}function I(e,t){e.isArchived=t,t&&(e.unreadCount=0)}function A(e,t){e.isMuted=t}function x(e,t){e.isMember=t}function N(e,t){void 0!==t.majorSortId&&(e.majorSortId=t.majorSortId),void 0!==t.minorSortId&&(e.minorSortId=t.minorSortId)}function M(e,t){const n=e.get(t);if(n)return n;if(i.isDev)throw new Error(`Канал ${t} не найден в кэше! Обрати внимание на то как загружаются недостающие данные в сторе.`);return e.get(d(0))}},185327:(e,t,n)=>{"use strict";n.d(t,{CASPER_MESSAGE_DELETE_TTL:()=>c,DEFAULT_CHAT_PERMISSIONS:()=>l,MAX_PINNED:()=>d,addAdmin:()=>Ie,addFolder:()=>ze,addMembers:()=>Be,allHistoryNodes:()=>m,allQueuedMessages:()=>G,allowWrite:()=>Ge,allСonfirmedHistoryNodes:()=>f,appendMessage:()=>ne,appendQueuedMessage:()=>ue,canAddToFolder:()=>x,canCreateChatBasedOnCurrent:()=>E,canDeleteMessageForAll:()=>S,canForwardFrom:()=>B,canForwardTo:()=>_,canInviteTo:()=>I,canPin:()=>M,canReadMembers:()=>V,canSendReactions:()=>X,canUseMassMentions:()=>A,changeQueuedMessageEntrypoint:()=>Ce,changeUserState:()=>$e,cleanup:()=>ce,clearChatDataOnLeave:()=>ke,deleteMessage:()=>oe,description:()=>Ve,findHistoryNodeByCmid:()=>p,findMessageByCmid:()=>F,findMessageById:()=>q,firstUnreadReactionCmid:()=>W,flowHistory:()=>h,fromAcceptedMessageRequest:()=>Le,fromCancelledMessageRequest:()=>Oe,fromRejectedMessageRequest:()=>Ue,getConvoFailedMessagesCount:()=>$,getFirstUnreadMentionCmid:()=>H,getMRSenderPeerId:()=>w,getPinnedMessage:()=>z,hasUnreadExpireables:()=>T,hasUnreadMentions:()=>L,hasUnreadReactions:()=>j,insertMessages:()=>se,isBusinessNotify:()=>y,isCasper:()=>g,isEmpty:()=>U,isHidden:()=>Y,isInFolder:()=>Q,isMR:()=>v,isMessageUnread:()=>K,isMuted:()=>C,isNew:()=>O,isPendingMR:()=>b,isPinned:()=>N,isRejectedMR:()=>k,isUnread:()=>R,isUnreadOut:()=>P,markRead:()=>de,merge:()=>Z,pinMessage:()=>Re,readInUntil:()=>le,readOutUntil:()=>fe,readReactions:()=>he,removeAdmin:()=>Ae,removeFolder:()=>He,removeMember:()=>_e,removePending:()=>te,replaceExpiredReplies:()=>ie,replaceInviteLinks:()=>Se,replaceMessage:()=>re,replaceUnreadReactions:()=>me,restoreMessage:()=>ae,restrictWrite:()=>qe,safeGet:()=>We,setChatPermissions:()=>Ne,setConvoState:()=>je,setDescription:()=>Me,setOwner:()=>xe,shouldShortPollReactions:()=>J,unpinMessage:()=>Pe,updateAcl:()=>ye,updateActiveCall:()=>Te,updateFlags:()=>ve,updateIsNew:()=>Ee,updateMembersCount:()=>we,updateMessageFlags:()=>be,updatePush:()=>ee,updateSendingFail:()=>Fe,updateSortId:()=>ge});var u=n(434788),r=n(820224),i=n(96190),o=n(777634),a=n(89131),s=n(95154),D=n(168465);const c=144e5,d=5,l={invite:"all",change_info:"all",change_pin:"all",use_mass_mentions:"all",see_invite_link:"all",call:"all",change_style:"all",change_admins:"owner"};function f(e){return e.history.confirmed.reduce(((e,t)=>("Node"===t.kind&&e.push(t),e)),[])}function m(e){return[...f(e),...e.history.pending]}function h(e,t,n,u){const r="DeletedNode"===e.kind?e.restorable:e.item,i="DeletedNode"===t.kind?t.restorable:t.item,o=["gift","graffiti","finishedCall"],s=!(0,a.isSameDate)(r.sentAt,i.sentAt),D="Queued"!==r.kind&&"Queued"!==i.kind&&!i.isOut&&i.cmid>n&&(r.isOut?r.cmid<=u:r.cmid<=n),c=!("Normal"!==r.kind||"Normal"!==i.kind||r.authorId!==i.authorId||r.expireTTL||i.expireTTL||i.replyMessage||o.some((e=>void 0!==r.attaches[e]))||o.some((e=>void 0!==i.attaches[e]))),d="Expired"===r.kind&&"Expired"===i.kind;return!s&&!D&&i.sentAt-r.sentAt<=3e5&&(c||d)?{kind:"continue"}:{kind:"split",atUnread:D,atDate:s}}function p(e,t){return D.findNodeByCmid(e.history,t)}function F(e,t){const{node:n}=p(e,t);return"Node"===(null==n?void 0:n.kind)?n.item:void 0}function C(e){return"everything"!==e.push.mode}function g(e){return("ChatConvo"===e.kind||"MessageRequestChatConvo"===e.kind)&&e.isCasper}function E(e,t){if("ChatConvo"!==e.kind)return!1;const n=e.adminIds.has(t),u=e.ownerId===t,r=e.membersCount>0;return!i.isFavorites(e.peerId,t)&&r&&(n||u)}function v(e){return"MessageRequestChatConvo"===e.kind||"MessageRequestUserConvo"===e.kind}function b(e){return("MessageRequestChatConvo"===e.kind||"MessageRequestUserConvo"===e.kind)&&"pending"===e.MRStatus}function k(e){return("MessageRequestChatConvo"===e.kind||"MessageRequestUserConvo"===e.kind)&&"rejected"===e.MRStatus}function y(e){return"BusinessNotify"===e.kind}function w(e){return"MessageRequestUserConvo"===e.kind?e.peerId:e.inviterPeerId}function B(e){return!g(e)}function _(e){return e.canWrite.allowed&&"MessageRequestChatConvo"!==e.kind&&!y(e)}function I(e){return"ChatConvo"===e.kind&&e.acl.canInvite}function A(e){return"ChatConvo"===e.kind&&e.acl.canUseMassMentions}function x(e){return!v(e)&&!y(e)}function N(e){return[4,5,6].some((t=>(e.majorSortId&1<<t)>0))}function M(e){return!(e.isArchived||U(e)||v(e)||g(e))}function S(e,t,n){const u=i.isUserPeerId(t.authorId)||i.isGroupPeerId(t.authorId),r="ChatConvo"===e.kind&&e.adminIds.has(n),a=t.authorId===n,s=!(!u||"ChatConvo"!==e.kind)&&e.adminIds.has(t.authorId),D="ChatConvo"!==e.kind||"in"===e.state;switch(!0){case Date.now()-t.sentAt>864e5:case!e.canWrite.allowed:case!D:case o.isCall(t):case i.isFavorites(e.peerId,n):return!1;case r&&!s:case a:return!0;default:return!1}}function R(e){return e.unreadCount>0||e.isMarkedUnread}function P(e){if("MessageRequestChatConvo"===e.kind)return!1;const t=D.lastNode({history:e.history,withDeleted:!0,withPending:!0}),n="DeletedNode"===(null==t?void 0:t.kind)?t.restorable:null==t?void 0:t.item;return void 0!==n&&(n.isOut&&K(e,n))}function T(e){return e.unreadExpireables.size>0}function j(e){return e.unreadReactions.size>0}function L(e){switch(e.kind){case"UserConvo":case"GroupConvo":case"ContactConvo":case"MessageRequestChatConvo":case"MessageRequestUserConvo":case"BusinessNotify":return!1;case"ChatConvo":return e.unreadMentions.size>0;default:return(0,a.exhaustivenessCheck)(e)}}function U(e){return D.isEmpty(e.history)}function O(e){return e.isNew}function q(e,t){const n=e.history.confirmed;for(let e of n){let n;if("DeletedNode"===e.kind&&(n=e.restorable),"Node"===e.kind&&(n=e.item),void 0!==n&&"id"in n&&n.id===t)return n}}function G(e){return e.history.pending.map((e=>e.item))}function $(e){return G(e).filter((e=>e.hasFailed)).length}function z(e){return"ChatConvo"===e.kind?e.pinnedMessage:void 0}function H(e){const t=Math.min(...e.unreadMentions.values());return t===1/0?void 0:o.resolveCmid(t)}function W(e){const t=Math.min(...e.unreadReactions.values());return t===1/0?void 0:o.resolveCmid(t)}function K(e,t){if(t.peerId!==e.peerId)throw new Error("Передано сообщение не принадлежащее беседе");return"Queued"===t.kind||(t.isOut?t.cmid>e.outReadBy:t.cmid>e.inReadBy)}function V(e){return e.canWrite.allowed||!e.canWrite.allowed&&"no_access"!==e.canWrite.reason}function Y(e){return e.majorSortId<=0&&e.minorSortId<=0&&U(e)}function Q(e,t){return e.folderIds.has(t)}function X(e){var t;if(g(e)||"message_request_banner"===(null==(t=e.convoBanner)?void 0:t.name))return!1;switch(e.kind){case"UserConvo":case"GroupConvo":return e.canWrite.allowed;case"ChatConvo":return"in"===e.state&&e.acl.canSendReactions&&e.canWrite.allowed&&!e.isGroupChannel;case"BusinessNotify":case"MessageRequestChatConvo":case"MessageRequestUserConvo":case"ContactConvo":return!1;default:(0,a.exhaustivenessCheck)(e)}}function J(e){return!("ChatConvo"!==e.kind||!e.shouldShortPollReactions)}function Z(e,t){if(void 0===t)return e;if((null==t?void 0:t.peerId)!==e.peerId)throw new Error("Convo.merge вызван на 2 разных чатах");const n=e.history;return e.history=t.history,De(e,n.confirmed),D.insert(e.history,n.confirmed),0===e.majorSortId&&(e.majorSortId=t.majorSortId),"ChatConvo"===e.kind&&"ChatConvo"===t.kind&&(e.memberIds=t.memberIds,e.members=t.members,e.membersCount=t.membersCount,e.invitedIds=t.invitedIds),e}function ee(e,t){e.push=t}function te(e,t){D.removePending(e.history,t)}function ne(e,t,n,u,r){if(t.peerId!==e.peerId)throw new Error("Передано сообщение не принадлежащее беседе");e.minorSortId<n&&(e.minorSortId=n);const i=D.lastCmid(e.history),o=void 0===i||i<t.cmid;if(!t.isOut&&o&&K(e,t)&&e.unreadCount++,pe(t.isOut,e),r){switch(r.kind){case"InputKeyboardUpsertEvent":e.currentKeyboard=r.keyboard;break;case"InputKeyboardDeleteEvent":delete e.currentKeyboard;break;default:return(0,a.exhaustivenessCheck)(r)}e.currentKeyboard="InputKeyboardUpsertEvent"===r.kind?r.keyboard:void 0}"ChatConvo"===e.kind&&u&&e.unreadMentions.add(t.cmid),"Normal"===t.kind&&t.expireTTL&&e.unreadExpireables.add(t.cmid),D.append(e.history,t,"randomId"in t?t.randomId:void 0)}function ue(e,t){D.appendPending(e.history,t),pe(t.isOut,e)}function re(e,t,n){"ChatConvo"===e.kind&&(e.unreadMentions.delete(t.cmid),n&&K(e,t)&&e.unreadMentions.add(t.cmid)),e.unreadExpireables.delete(t.cmid),("Normal"===t.kind&&t.expireTTL||"Expired"===t.kind)&&K(e,t)&&e.unreadExpireables.add(t.cmid),D.replace(e.history,t)}function ie(e,t){e.history.confirmed.forEach((e=>{if("Node"!==e.kind||"Normal"!==e.item.kind)return;const{replyMessage:n}=e.item;void 0!==n&&"ForeignExpired"!==n.kind&&n.cmid===t&&(e.item.replyMessage=o.expireForeign(n))}))}function oe(e,t,n){if(!t.isOut&&K(e,t)&&(e.unreadCount=Math.max(0,e.unreadCount-1)),"ChatConvo"===e.kind&&e.unreadMentions.delete(t.cmid),e.unreadExpireables.delete(t.cmid),e.unreadReactions.delete(t.cmid),e.inReadBy===t.cmid){const n=D.findNodeByCmid(e.history,t.cmid);if("Node"===n.status){const t=e.history.confirmed[n.index-1];void 0!==t&&"GapNode"!==t.kind&&(e.inReadBy=D.nodeCmid(t))}}D.remove(e.history,t.cmid,n)}function ae(e,t,n){D.restore(e.history,t.cmid,t),"ChatConvo"===e.kind&&n&&e.unreadMentions.add(t.cmid)}function se(e,t,n){const u=[];t.reverse().forEach(((t,r,i)=>{if(0===r&&t.cmid>1&&n.backward&&u.push({kind:"GapNode",fromCmid:o.resolveCmid(1),toCmid:o.resolveCmid(t.cmid-1)}),u.push({kind:"Node",item:t}),r===i.length-1&&n.forward){const n=D.lastCmid(e.history);void 0!==n&&t.cmid<n&&u.push({kind:"GapNode",fromCmid:o.resolveCmid(t.cmid+1),toCmid:o.resolveCmid(n)})}})),De(e,u),D.insert(e.history,u)}function De(e,t){t.forEach((t=>{const n="Node"===t.kind&&"randomId"in t.item?t.item.randomId:void 0;n&&te(e,n)}))}function ce(e){D.cleanup(e.history,1.5*s.MESSAGES_PER_PAGE)}function de(e){e.isMarkedUnread=!1}function le(e,t,n){if(!(e.inReadBy>t)){if(void 0===n){const u=e.history.confirmed.filter((n=>{if("Node"!==n.kind)return!1;const u=n.item;return!u.isOut&&K(e,u)&&u.cmid<=t})).length;n=Math.max(0,e.unreadCount-u)}switch(e.inReadBy=t,e.unreadCount=n,0===n&&(e.isMarkedUnread=!1),e.kind){case"UserConvo":case"GroupConvo":case"ContactConvo":case"MessageRequestUserConvo":case"MessageRequestChatConvo":case"BusinessNotify":break;case"ChatConvo":for(const n of e.unreadMentions)n<=t&&e.unreadMentions.delete(n);break;default:(0,a.exhaustivenessCheck)(e)}switch(e.kind){case"ContactConvo":case"MessageRequestUserConvo":case"MessageRequestChatConvo":case"BusinessNotify":break;case"ChatConvo":case"UserConvo":case"GroupConvo":for(const n of e.unreadReactions)n<=t&&e.unreadReactions.delete(n);break;default:(0,a.exhaustivenessCheck)(e)}for(const n of e.unreadExpireables)n<=t&&e.unreadExpireables.delete(n)}}function fe(e,t){e.outReadBy>=t||(e.outReadBy=t)}function me(e,t){e.unreadReactions=new Set(t)}function he(e,t){e.unreadReactions.delete(t)}function pe(e,t){var n;e&&(null==(n=t.currentKeyboard)?void 0:n.oneTime)&&delete t.currentKeyboard}function Fe(e,t,n){const u=D.findPendingNode(e.history,t);void 0!==u&&o.updateFail(u.item,n)}function Ce(e,t,n){const u=D.findPendingNode(e.history,t);void 0!==u&&o.updateEntrypoint(u.item,n)}function ge(e,t){"majorSortId"in t?e.majorSortId=t.majorSortId:e.minorSortId=t.minorSortId}function Ee(e,t){e.isNew=t}function ve(e,t,n){const u=Ke({isMarkedUnread:e.isMarkedUnread,isArchived:e.isArchived});let i;switch(t){case"unset":i=Ke(u&~n);break;case"replace":i=Ke(n);break;case"set":i=Ke(u|n);break;default:(0,a.exhaustivenessCheck)(t)}const{isMarkedUnread:o,isArchived:s,DONT_USE_isMuted:D}=i;(0,r._)(i,["isMarkedUnread","isArchived","DONT_USE_isMuted"]);e.isMarkedUnread=o,e.isArchived=s}function be(e,t,n,u){const r=D.findNodeByCmid(e.history,t).node;if(void 0===r||"GapNode"===r.kind)return;const{isDeleted:i,isDeletedForAll:a,isSpam:s}=o.updateFlags(r,n,u);if((i||s)&&"DeletedNode"!==(null==r?void 0:r.kind)||a){oe(e,"DeletedNode"===r.kind?r.restorable:r.item,{isRestorable:!1})}}function ke(e){e.membersCount=0,e.state="left",e.acl={canChangeInfo:!1,canChangeInviteLink:!1,canChangePin:!1,canInvite:!1,canPromoteUsers:!1,canSeeInviteLink:!1,canModerate:!1,canCopyChat:!1,canCall:!1,canUseMassMentions:!1,canChangeServiceType:!1,canChangeStyle:!1,canSendReactions:!1},e.adminIds=new Set,delete e.members,delete e.inviteLinks}function ye(e,t){e.acl=t}function we(e,t){e.membersCount=t}function Be(e,t){e.members||(e.members=new Map);for(const n of t){const{peerId:t,isMessageRequest:u}=n;e.members.set(t,n),u?e.invitedIds.add(t):i.isContactPeerId(t)||e.memberIds.add(t)}e.membersCount=e.memberIds.size}function _e(e,t){var n,u;const r=null==(n=e.members)?void 0:n.get(t);r&&(null==(u=e.members)||u.delete(t),r.isMessageRequest||i.isContactPeerId(t)?e.invitedIds.delete(t):e.memberIds.delete(t),e.membersCount=e.memberIds.size)}function Ie(e,t){var n;e.adminIds.add(t);const u=null==(n=e.members)?void 0:n.get(t);u&&(u.isAdmin=!0)}function Ae(e,t){var n;e.adminIds.delete(t);const u=null==(n=e.members)?void 0:n.get(t);u&&(u.isAdmin=!1)}function xe(e,t){e.ownerId=t}function Ne(e,t,n){e.permissions=t,e.isService=n}function Me(e,t){e.description=t}function Se(e,t){e.inviteLinks=t}function Re(e,t){e.pinnedMessage=t}function Pe(e){const t=e.pinnedMessage;return delete e.pinnedMessage,t}function Te(e,t){e.activeCall=t}function je(e,t){e.state=t}function Le(e,t){if("MessageRequestUserConvo"===e.kind){const{MRStatus:t}=e,n=(0,r._)(e,["MRStatus"]);return(0,u._)({},n,{kind:"UserConvo"})}const{inviterPeerId:n,MRStatus:i,canWrite:o}=e,a=(0,r._)(e,["inviterPeerId","MRStatus","canWrite"]);return(0,u._)({},a,{kind:"ChatConvo",canWrite:t?t.canWrite:!1===o.allowed&&"kicked"===o.reason?{allowed:!0}:o})}function Ue(e){return"UserConvo"===e.kind?(0,u._)({},e,{kind:"MessageRequestUserConvo",MRStatus:"rejected",canWrite:{allowed:!1,reason:"mr_rejected"}}):(0,u._)({},e,{MRStatus:"rejected",canWrite:{allowed:!1,reason:"mr_rejected"}})}function Oe(e){return"UserConvo"===e.kind?(0,u._)({},e,{kind:"MessageRequestUserConvo",MRStatus:"cancelled"}):(0,u._)({},e,{MRStatus:"cancelled"})}function qe(e,t){e.canWrite={allowed:!1,reason:t}}function Ge(e){e.canWrite={allowed:!0}}function $e(e,t){e.state=t}function ze(e,t){e.folderIds.add(t)}function He(e,t){e.folderIds.delete(t)}function We(e,t){const n=e.get(t);if(n)return n;if(a.isDev)throw new Error(`Беседа ${t} не найдена в кэше! Обрати внимание на то как загружаются недостающие данные в сторе.`);return e.get(i.resolveId())}function Ke(e){const t={DONT_USE_isMuted:4,isMarkedUnread:20,isArchived:23};if("number"==typeof e){const n={};for(const u of Object.keys(t))n[u]=(e&1<<t[u])>0;return n}let n=0;for(const u of Object.keys(e))e[u]&&(n|=1<<t[u]);return n}function Ve(e){switch(e.kind){case"ChatConvo":case"GroupConvo":return e.description;default:return}}},999504:(e,t,n)=>{"use strict";n.d(t,{FOLDER_NAME_LIMIT:()=>i,deleteFolder:()=>f,empty:()=>s,getLockId:()=>D,isLoaded:()=>a,push:()=>d,refresh:()=>l,reorderFolders:()=>C,replaceFolder:()=>F,resolveId:()=>o,setHasMore:()=>h,setName:()=>p,setUnreadCounters:()=>m,sorter:()=>c});var u=n(185327),r=n(168465);const i=16;function o(e){return e}function a(e,t){return e[t].boundaryMinorId!==1/0}function s(){return[]}function D(e,t){return`folder_${e}_${t}`}function c(e,t){var n,u;const i=null==(n=r.lastNode({history:e.history,withDeleted:!1,withPending:!0}))?void 0:n.item,o=null==(u=r.lastNode({history:t.history,withDeleted:!1,withPending:!0}))?void 0:u.item;var a,s;return"Queued"===(null==i?void 0:i.kind)||"Queued"===(null==o?void 0:o.kind)?(null!=(a=null==o?void 0:o.sentAt)?a:0)-(null!=(s=null==i?void 0:i.sentAt)?s:0):t.minorSortId-e.minorSortId}function d(e,t,n,r,i){const o=e.find((e=>e.id===t));if(o){for(const i of r)u.isInFolder(i,t)&&(g(o,n,i),l(e,i));o[n].hasMore=i,o[n].hasMore||(o[n].boundaryMinorId=0)}}function l(e,t){for(const n of e)n.all.peerIds.delete(t.peerId),n.unread.peerIds.delete(t.peerId),u.isInFolder(t,n.id)&&(t.minorSortId>=n.all.boundaryMinorId&&n.all.peerIds.add(t.peerId),u.isUnread(t)&&t.minorSortId>=n.unread.boundaryMinorId&&n.unread.peerIds.add(t.peerId))}function f(e,t){const n=e.findIndex((e=>e.id===t));-1!==n&&e.splice(n,1)}function m(e,t,n,u){const r=e.find((e=>e.id===t));r&&(r.unreadCount=n,r.unreadUnmutedCount=u)}function h(e,t,n){e[t].hasMore=n}function p(e,t){e.name=t}function F(e,t){const n=e.findIndex((e=>e.id===t.id));-1!==n&&e.splice(n,1,t)}function C(e,t){e.sort(((e,n)=>t.indexOf(e.id)-t.indexOf(n.id)))}function g(e,t,n){e[t].boundaryMinorId>n.minorSortId&&(e[t].boundaryMinorId=n.minorSortId),"all"===t&&g(e,"unread",n)}},168465:(e,t,n)=>{"use strict";n.d(t,{append:()=>f,appendPending:()=>p,around:()=>c,cleanup:()=>g,findClosestNodeInSlice:()=>l,findNodeByCmid:()=>D,findPendingNode:()=>d,insert:()=>E,isEmpty:()=>i,lastCmid:()=>a,lastConfirmedNode:()=>s,lastNode:()=>o,nodeCmid:()=>k,nodeSentAt:()=>y,remove:()=>h,removePending:()=>F,replace:()=>m,restore:()=>C});var u=n(89131),r=n(453934);function i(e){const{confirmed:t,pending:n}=e;return 0===t.length&&0===n.length}function o({history:e,withPending:t,withDeleted:n}){const{confirmed:r,pending:i}=e;if(t){const e=i[i.length-1];if(void 0!==e)return e}for(let e=r.length-1;e>=0;e--){const t=r[e];if(!t)throw new Error("item по индексу не существует");switch(t.kind){case"Node":return t;case"DeletedNode":if(n)return t;continue;case"GapNode":return;default:return(0,u.exhaustivenessCheck)(t)}}}function a(e){const t=s(e);if(void 0!==t)switch(t.kind){case"GapNode":return t.toCmid;case"Node":case"DeletedNode":return k(t);default:return(0,u.exhaustivenessCheck)(t)}}function s(e){const{confirmed:t}=e;return t[t.length-1]}function D(e,t){const{confirmed:n}=e,r=n.findIndex((e=>{switch(e.kind){case"GapNode":return e.fromCmid<=t&&e.toCmid>=t;case"Node":case"DeletedNode":return k(e)===t;default:return(0,u.exhaustivenessCheck)(e)}})),i=n[r];return"Node"===(null==i?void 0:i.kind)?{status:"Node",node:i,index:r}:void 0===i||"DeletedNode"===i.kind?void 0!==i&&void 0!==r?{status:"Deleted",node:i,index:r}:{status:"Deleted"}:{status:"NotLoaded",node:i,index:r}}function c(e,t){const{confirmed:n,pending:u}=e,r=n[0];if(!r)return{nodes:[],pendingNodes:u.length>0?u:void 0};if("GapNode"===r.kind&&r.toCmid>=t)return;let i,o=!1,a=0,s="GapNode"===r.kind?r:{kind:"GapNode",fromCmid:Math.min(t-1,0),toCmid:Math.min(t-1,0)};for(i=a;i<n.length;i++){const e=n[i];if(!e)throw new Error("item по индексу не существует");if("GapNode"===e.kind){if(s.toCmid<t&&e.fromCmid>t){o=!0;break}a=i,s=e}else if(i===n.length-1&&s.toCmid<t){o=!0;break}}return o?n.slice(a,i+1).reduce(((e,t,n,r)=>{if("GapNode"===t.kind){if(0===n)e.topGap=t;else{if(n!==r.length-1)throw new Error("В середине результата History.around не может быть гэпов");e.bottomGap=t}return e}return e.nodes.push(t),n===r.length-1&&void 0===e.bottomGap&&u.length>0&&(e.pendingNodes=u),e}),{nodes:[]}):void 0}function d(e,t){const{pending:n}=e;return n.find((e=>e.item.randomId===t))}function l(e,t,n=!1){for(let u=0;u<e.nodes.length;u++){const r=e.nodes[u];if(!r)continue;const i=k(r),o=e.nodes[u+1],a=o&&k(o);if(0===u&&t<i||u===e.nodes.length-1&&t>i||t===i)return r;if(a&&i<t&&t<a)return n?o:r}}function f(e,t,n){const i=(0,r.castDraft)(t),{confirmed:o}=e,a=o[o.length-1];if(void 0!==n&&F(e,n),!a)return i.cmid>1&&o.push({kind:"GapNode",fromCmid:1,toCmid:i.cmid-1}),void o.push({kind:"Node",item:i});switch(a.kind){case"GapNode":if(a.toCmid>i.cmid){if(u.isDev)throw new Error("Попытка вставить в конец истории узел с непоследним cmid гэпа");return}a.toCmid===i.cmid&&(a.fromCmid===a.toCmid?o.pop():a.toCmid=i.cmid-1),o.push({kind:"Node",item:i});break;case"DeletedNode":case"Node":if(k(a)>=i.cmid)break;o.push({kind:"Node",item:i});break;default:(0,u.exhaustivenessCheck)(a)}}function m(e,t){const{confirmed:n}=e,i=(0,r.castDraft)(t),{status:o,node:a,index:s}=D(e,i.cmid);if("NotLoaded"!==o){if("Deleted"!==o)return n[s]={kind:"Node",item:i},a.item;if(u.isDev)throw new Error("Попытка заменить удаленный узел истории")}}function h(e,t,n){const{confirmed:u}=e,{status:r,node:i,index:o}=D(e,t);"NotLoaded"!==r&&"Deleted"!==r&&(n.isRestorable?"Node"===i.kind&&(u[o]={kind:"DeletedNode",isSpam:n.isSpam,restorable:i.item}):u.splice(o,1))}function p(e,t){const{pending:n}=e;n.push({kind:"PendingNode",item:(0,r.castDraft)(t)})}function F(e,t){const{pending:n}=e,u=n.findIndex((e=>e.item.randomId===t));-1!==u&&n.splice(u,1)}function C(e,t,n){const{confirmed:u}=e,{status:r,node:i,index:o}=D(e,t);if("NotLoaded"!==r&&"Node"!==r){if(void 0!==n){const t={nodes:[{kind:"Node",item:n}]};n.cmid>1&&(t.topGap={kind:"GapNode",fromCmid:1,toCmid:n.cmid-1});const u=a(e);return void 0!==u&&n.cmid<u&&(t.bottomGap={kind:"GapNode",fromCmid:n.cmid+1,toCmid:u}),void v(e,t)}void 0!==i&&(u[o]={kind:"Node",item:i.restorable})}}function g(e,t){const{confirmed:n}=e;if(n.length<t)return;const u=Math.floor(t/1.5),r=n.slice(-u);e.confirmed=r;const i=r[0];i&&("GapNode"!==i.kind?r.unshift({kind:"GapNode",fromCmid:1,toCmid:k(i)-1}):i.fromCmid=1)}function E(e,t){if(0===t.length)return void(e.confirmed=[]);if(0===e.confirmed.length)return void(e.confirmed=(0,r.castDraft)(t));!function(e,t){const{confirmed:n}=e,u=n[n.length-1],r=t[t.length-1];if(void 0===u||void 0===r)return;const i="GapNode"===r.kind?r.toCmid:k(r),o="GapNode"===u.kind?u.toCmid:k(u);"GapNode"!==u.kind&&o>i&&("GapNode"===r.kind?r.toCmid=o:t.push({kind:"GapNode",fromCmid:i+1,toCmid:o}));i>o&&("GapNode"===u.kind?u.toCmid=i:n.push({kind:"GapNode",fromCmid:o+1,toCmid:i}))}(e,t);t.reduce(((e,n,u)=>(0===u&&"GapNode"!==n.kind&&e.push(-1),u===t.length-1&&"GapNode"!==n.kind&&e.push(t.length),"GapNode"===n.kind&&e.push(u),e)),[]).forEach(((n,u,r)=>{const i=r[u+1];if(void 0!==i){const u=t[n],r=t[i],o=t.slice(n+1,i).reduce(((e,t)=>{if("GapNode"===t.kind)throw new Error("Не может быть гэп узлов между гэпами");return e.push(t),e}),[]);if(void 0!==u&&"GapNode"!==u.kind)throw new Error("Не гэп используется как гэп");if(void 0!==r&&"GapNode"!==r.kind)throw new Error("Не гэп используется как гэп");v(e,{topGap:u,bottomGap:r,nodes:o})}}))}function v(e,t){const{confirmed:n}=e;let u,i=-1;if(void 0!==t.topGap){i=b(e,t.topGap.toCmid);const u=n[i];if(void 0!==u){("GapNode"===u.kind?u.fromCmid:k(u))>t.topGap.toCmid&&i--}"GapNode"===(null==u?void 0:u.kind)&&u.fromCmid<=t.topGap.toCmid&&u.toCmid>t.topGap.toCmid&&(n.splice(i,0,{kind:"GapNode",fromCmid:u.fromCmid,toCmid:t.topGap.toCmid}),u.fromCmid=t.topGap.toCmid+1)}if(void 0!==t.bottomGap){u=b(e,t.bottomGap.fromCmid);const r=n[u];"GapNode"===(null==r?void 0:r.kind)&&r.fromCmid<t.bottomGap.fromCmid&&(r.fromCmid=t.bottomGap.fromCmid)}const o=[...n.slice(0,i+1),...(0,r.castDraft)(t.nodes),...void 0!==u?n.slice(u):[]];e.confirmed=o}function b(e,t){const{confirmed:n}=e;for(let e=0;e<n.length;e++){const u=n[e],r=n[e-1];if(!u)return-1;if(0===e){if("GapNode"===u.kind?u.fromCmid>t:k(u)>t)return-1}if("GapNode"===u.kind&&t>=u.fromCmid&&t<=u.toCmid)return e;const i="GapNode"===u.kind?u.fromCmid:k(u);if(i===t)return e;if(void 0===r)continue;const o="GapNode"===r.kind?r.toCmid:k(r);if(i>t&&o<t)return e}return n.length}function k(e){switch(e.kind){case"Node":return e.item.cmid;case"DeletedNode":return e.restorable.cmid;default:(0,u.exhaustivenessCheck)(e)}}function y(e){switch(e.kind){case"Node":return e.item.sentAt;case"DeletedNode":return e.restorable.sentAt;default:(0,u.exhaustivenessCheck)(e)}}},777634:(e,t,n)=>{"use strict";n.d(t,{canChangeMessagePlayedStatus:()=>_,convertFlags:()=>B,expireForeign:()=>E,getCmid:()=>d,isCall:()=>p,isEditable:()=>h,isRandomId:()=>c,isReactionsAvailable:()=>F,link:()=>m,newQueued:()=>w,resolveCmid:()=>s,resolveId:()=>a,resolveRandomId:()=>D,setCurrentUserReaction:()=>I,setReactions:()=>A,toForeign:()=>g,toPinned:()=>C,toPlainText:()=>l,toRawText:()=>f,unpinMessage:()=>k,updateEntrypoint:()=>b,updateFail:()=>v,updateFlags:()=>y});var u=n(434788),r=n(820224),i=n(504698),o=n(89131);function a(e){return Number.isNaN(e)&&(e=0),!e||e<0?0:e}function s(e){return Number.isNaN(e)&&(e=0),!e||e<0?0:e}function D(e){return!e||e>0?0:e}function c(e){return e<0}function d(e){return"Normal"===e.kind?e.cmid:"Foreign"===e.kind&&"rootCmid"in e?e.rootCmid:void 0}function l(e,t){return i.toPlainText(e.chunks,t)}function f(e){return i.toRawText(e.chunks)}function m(e,t=""){const n="Normal"===e.kind&&e.id?`&msgid=${e.id}`:"",u=`/im?sel=${e.peerId}${n}`;return t?`https://${t}${u}`:u}function h(e,t,n,u){const r=t-e.sentAt<864e5,i=!!u&&u.id===e.id,o=n.vkm_infinite_edit_myself_peer&&e.isOut&&e.authorId===e.peerId;return(r||i||o)&&e.isOut&&!p(e)&&!e.attaches.voice&&!e.attaches.sticker&&!e.attaches.ugcSticker&&!e.attaches.gift&&!e.attaches.graffiti&&!e.attaches.moneyTransfer&&!e.attaches.moneyRequest&&!e.attaches.videoMessage}function p(e){return!!e.attaches.activeCall||!!e.attaches.finishedCall}function F(e){return!e.expireTTL&&!e.deleteTTL&&!(e.attaches.gift||e.attaches.activeCall||e.attaches.finishedCall)}function C(e){const{id:t,cmid:n,peerId:u,authorId:r,chunks:i,sentAt:o,forwardedMessages:a,replyMessage:s,attaches:D}=e;return{kind:"Pinned",id:t,cmid:n,peerId:u,authorId:r,chunks:i,sentAt:o,forwardedMessages:a,replyMessage:s,attaches:D}}function g(e){const{message:t}=e,n=(0,r._)(e,["message"]),{kind:i,randomId:o,isOut:a,isImportant:s,replyMessage:D}=t,c=(0,r._)(t,["kind","randomId","isOut","isImportant","replyMessage"]);return(0,u._)({kind:"Foreign"},c,n)}function E(e){const{kind:t,replyMessage:n,forwardedMessages:i,chunks:o,attaches:a,updatedAt:s,expireTTL:D,deleteTTL:c}=e,d=(0,r._)(e,["kind","replyMessage","forwardedMessages","chunks","attaches","updatedAt","expireTTL","deleteTTL"]);return(0,u._)({kind:"ForeignExpired"},d)}function v(e,t){e.hasFailed=t}function b(e,t){e.entrypoint=t}function k(e){e.pinnedAt=void 0}function y(e,t,n){const i="DeletedNode"===e.kind?e.restorable:e.item,a={isOut:i.isOut,isSpam:!1,isDeleted:!1,isDeletedForAll:!1,noPush:!1};let s,D;switch(i.kind){case"Normal":s=B((0,u._)({},a,{isImportant:i.isImportant,isPlayed:!!i.isPlayed,hasReactions:"Node"===e.kind&&i.reactions.size>0}));break;case"Service":case"Expired":s=B((0,u._)({},a,{isImportant:!1,isPlayed:!1,hasReactions:!1}));break;default:(0,o.exhaustivenessCheck)(i)}switch(t){case"unset":D=B(s&~n);break;case"replace":D=B(n);break;case"set":D=B(s|n);break;default:(0,o.exhaustivenessCheck)(t)}const{isImportant:c,isSpam:d,isDeleted:l,isDeletedForAll:f,isPlayed:m,isOut:h,hasReactions:p,noPush:F,DONT_USE_ME_isStealth:C,DONT_USE_ME_isUnread:g,DONT_USE_ME_skipUnread:E}=D;(0,r._)(D,["isImportant","isSpam","isDeleted","isDeletedForAll","isPlayed","isOut","hasReactions","noPush","DONT_USE_ME_isStealth","DONT_USE_ME_isUnread","DONT_USE_ME_skipUnread"]);switch(i.kind){case"Normal":i.isImportant=c,i.isOut=h,i.isPlayed=m;break;case"Service":case"Expired":break;default:(0,o.exhaustivenessCheck)(i)}return{isDeleted:l,isDeletedForAll:f,isSpam:d}}function w(e,t,n){const r=-Math.pow(2,31),a=D(-e.sentAt%Math.abs(r)),s=void 0!==t?g({message:t,rootPeerId:e.peerId,rootRandomId:a}):void 0,c=null==n?void 0:n.map((t=>g({message:t,rootPeerId:e.peerId,rootRandomId:a})));return(0,u._)({},e,{kind:"Queued",text:e.text,chunks:i.fromClientText(e.text),hasFailed:!1,randomId:a,replyMessage:s,forwardedMessages:c&&(0,o.isNonEmptyArray)(c)?c:void 0})}function B(e){const t={DONT_USE_ME_isUnread:0,isOut:1,isImportant:3,isSpam:6,isDeleted:7,isPlayed:12,DONT_USE_ME_isStealth:16,isDeletedForAll:17,noPush:20,DONT_USE_ME_skipUnread:23,hasReactions:24};if("number"==typeof e){const n={};for(const u of Object.keys(t))n[u]=(e&1<<t[u])>0;return n}let n=0;for(const u of Object.keys(e))e[u]&&(n|=1<<t[u]);return n}function _(e){if(e.isOut)return!1;return!(!e.attaches.voice&&!e.attaches.videoMessage)&&!e.isPlayed}function I(e,t){e.reactionId=t}function A(e,t){const n=new Set(t.map((e=>e.reactionId)));Array.from(e.reactions.keys()).filter((e=>!n.has(e))).forEach((t=>e.reactions.delete(t))),t.forEach((t=>{e.reactions.set(t.reactionId,t)}))}},96190:(e,t,n)=>{"use strict";n.d(t,{MARUSIA_PEER_ID:()=>F,clearChatDataOnLeave:()=>I,convertContact:()=>N,firstName:()=>y,hasPhoto:()=>l,initials:()=>B,isAnonymPeerId:()=>d,isChatPeerId:()=>D,isContactPeerId:()=>s,isFavorites:()=>h,isGroupPeerId:()=>c,isMarusia:()=>C,isUserPeerId:()=>a,isVkAdministration:()=>p,maxPhotoSizeUrl:()=>w,name:()=>g,phone:()=>v,resolveAnyId:()=>o,resolveId:()=>i,resolveRealId:()=>m,safeGet:()=>P,screenName:()=>E,sex:()=>b,shortName:()=>k,toRealId:()=>f,updateChatInfo:()=>_,updateFriendship:()=>M,updateIsPeerBlacklistedByMe:()=>R,updateLastSeen:()=>A,updateMembership:()=>S,updateMutualFriends:()=>x});var u=n(723062),r=n(89131);function i(e){if(Number.isNaN(e)&&(e=0),r.isDev&&0===e)throw new Error("Айди беседы никогда не должно быть равно 0! Читай комментарий к ошибке.");if(!e||!Number.isInteger(e))return 0;const t=e;return a(t)||c(t)||D(t)||s(t)?t:0}function o(e){if(!e||!Number.isInteger(e))return 0;const t=e;return a(t)||c(t)||D(t)||d(t)?t:0}function a(e){return u.Ranges.isUserId(e)||0===e}function s(e){return u.Ranges.isContactId(e)}function D(e){return u.Ranges.isChatOrChannelPeer(e)}function c(e){return u.Ranges.isGroupId(e)}function d(e){return u.Ranges.isAnonymousCallPeerId(e)}function l(e){return!!e.photo50}function f(e){return s(e)?u.Ranges.convertPeerIdToContactId(e):D(e)?u.Ranges.convertChatPeerIdToChatId(e):c(e)?-e:a(e)?e:void(0,r.exhaustivenessCheck)(e)}function m(e,t){switch(e){case"User":return i(t);case"Contact":return i(u.Ranges.convertContactIdToPeerId(t));case"Group":return i(-t);case"Chat":return i(u.Ranges.convertChatIdToChatPeerId(t));default:(0,r.exhaustivenessCheck)(e)}}function h(e,t){return e===t}function p(e){return 100===e}const F=-194070336;function C(e){return e===F}function g(e,t="nom"){switch(e.kind){case"User":switch(t){case"nom":return e.firstName+" "+e.lastName;case"gen":return e.firstNameGen+" "+e.lastNameGen;case"acc":return e.firstNameAcc+" "+e.lastNameAcc;default:return(0,r.exhaustivenessCheck)(t)}case"Contact":case"Group":return e.name;case"Chat":return e.title;default:return(0,r.exhaustivenessCheck)(e)}}function E(e){switch(e.kind){case"User":return e.screenName||`id${e.id}`;case"Group":return e.screenName;default:return}}function v(e){switch(e.kind){case"User":case"Contact":return e.phone;default:return}}function b(e){switch(e.kind){case"User":return e.sex;case"Contact":case"Group":case"Chat":return"unknown";default:return(0,r.exhaustivenessCheck)(e)}}function k(e,t="nom"){switch(e.kind){case"User":const n=e.lastName.charAt(0)+(e.lastName.length>1?".":"");switch(t){case"nom":return e.firstName+" "+n;case"gen":return e.firstNameGen+" "+n;case"acc":return e.firstNameAcc+" "+n;default:return(0,r.exhaustivenessCheck)(t)}case"Contact":case"Group":return e.name;case"Chat":return e.title;default:return(0,r.exhaustivenessCheck)(e)}}function y(e,t="nom"){switch(e.kind){case"User":switch(t){case"nom":return e.firstName;case"gen":return e.firstNameGen;case"acc":return e.firstNameAcc;default:return(0,r.exhaustivenessCheck)(t)}case"Contact":case"Group":return e.name;case"Chat":return e.title;default:return(0,r.exhaustivenessCheck)(e)}}function w(e){var t,n;return"Contact"!==e.kind&&null!=(n=null!=(t=e.photo200)?t:e.photo100)?n:e.photo50}function B(e){let t="";switch(e.kind){case"User":t=[e.firstName,e.lastName].filter(Boolean).map(r.getFirstLetter).join("");break;case"Group":t=(0,r.getFirstLetter)(e.name);break;case"Chat":t=(0,r.getFirstLetter)(e.title);break;case"Contact":t=e.name.split(/\s/).slice(0,2).map(r.getFirstLetter).join("");break;default:(0,r.exhaustivenessCheck)(e)}return t}function _(e,t){"title"in t?e.title=t.title:(e.photo50=t.photo50,e.photo100=t.photo100,e.photo200=t.photo200)}function I(e){delete e.photo50,delete e.photo100,delete e.photo200,delete e.hasDefaultPhoto,e.canCall=!1}function A(e,{at:t,platform:n}){e.lastSeen.at=t,e.lastSeen.platform=n}function x(e,t,n){"Contact"!==e.kind&&(e.mutualFriends={hint:t,count:n})}function N(e,t){e.userId=t}function M(e,t){switch(t){case"add":{if(!e.canChangeFriendship)break;const t={unfamiliar:"outgoingRequest",outgoingRequest:"outgoingRequest",incomingRequest:"friends",friends:"friends"};e.friendship=t[e.friendship];break}case"delete":{const t={unfamiliar:"unfamiliar",outgoingRequest:"unfamiliar",incomingRequest:"incomingRequest",friends:"incomingRequest"};e.friendship=t[e.friendship];break}default:(0,r.exhaustivenessCheck)(t)}}function S(e,t){switch(t){case"join":{const t={notMember:e.isClosed?"outgoingRequest":"member",member:"member",unsure:"member",declined:"member",outgoingRequest:"outgoingRequest",incomingRequest:"member"}[e.membership];e.membership!==t&&"member"===t&&e.memberCount++,e.membership=t;break}case"leave":{const t={notMember:"notMember",member:"notMember",unsure:"notMember",declined:"notMember",outgoingRequest:"notMember",incomingRequest:"declined"}[e.membership];e.membership!==t&&e.memberCount--,e.membership=t;break}default:(0,r.exhaustivenessCheck)(t)}}function R(e,t){e.isBlacklistedByMe=t}function P(e,t){const n=e.get(t);if(n)return n;if(r.isDev)throw new Error(`Пир ${t} не найден в кэше! Обрати внимание на то, как загружаются недостающие данные в сторе.`);return e.get(i())}},86144:(e,t,n)=>{"use strict";n.d(t,{changeCommentsOrder:()=>p,findCommentByCmid:()=>F,insertComments:()=>h,isDonut:()=>f,isEmpty:()=>l,link:()=>m,newPending:()=>g,replaceComment:()=>C,resolveCmid:()=>s,resolveRandomId:()=>D,toPlainText:()=>c,toWallAttach:()=>d});var u=n(434788),r=n(89131),i=n(504698),o=n(96190),a=n(777634);function s(e){return Number.isNaN(e)&&(e=0),!e||e<0?0:e}function D(e){if(e>=0){if(r.isDev)throw new Error("Рандом айди поста должен быть меньше 0!");return 0}return e%Math.pow(2,31)}function c(e,t){return i.toPlainText(e.chunks,t)}function d(e){return{id:a.resolveId(e.cmid),kind:"Wall",date:e.sentAt,authorId:o.resolveId(e.channelId),ownerId:o.resolveId(e.channelId),attaches:e.attaches,chunks:e.chunks}}function l(e){var t;return!(0!==e.chunks.length||Object.keys(e.attaches).find((e=>"unknown"!==e))||"Normal"===e.kind&&(null==(t=e.donutPlaceholder)?void 0:t.text))}function f(e){return Boolean(e.donutPlaceholder)}function m(e){return`/wall${e.channelId}_${e.cmid}`}function h(e,t,n){e.comments.oneLevelCount=n,e.comments.history=[...e.comments.history,...t]}function p(e,t){e.comments.history=[],e.comments.order=t}function F(e,t){return e.comments.history.find((e=>e.cmid===t))}function C(e,t){const n=e.comments.history.findIndex((e=>e.cmid===t.cmid));-1!==n&&(e.comments.history[n]=t)}function g(e,t){const n=D(-e.sentAt);return(0,u._)({},e,{kind:"Pending",randomId:n,chunks:i.fromClientText(t),hasFailed:!1})}},504698:(e,t,n)=>{"use strict";n.d(t,{MASS_MENTIONS:()=>a,fromClientText:()=>D,fromServerText:()=>s,toPlainText:()=>d,toRawText:()=>l});var u=n(96190),r=n(997864),i=n(659397),o=n(89131);const a=[{variant:"all",mentions:["all","everyone","все"]},{variant:"online",mentions:["online","here","тут","здесь"]}];function s(e){return c(f.ServerChunks,e)}function D(e){return c(f.ClientChunks,(0,i.decodeHTMLEntities)(e,{}))}function c(e,t){if(0===t.length)return[];try{return e.tryParse(t).reduce(((e,t)=>{if("Text"===t.kind){const n=e[e.length-1];"Text"===(null==n?void 0:n.kind)?n.text+=t.text:e.push({kind:"Text",text:t.text})}else e.push(t);return e}),[])}catch(e){return console.error(e),[]}}function d(e,t){return e.reduce(((e,n)=>{switch(n.kind){case"Text":return e+n.text;case"Mention":case"MassMention":return e+n.displayName;case"ScreenNameMention":return e+(n.displayName||`@${n.screenName}`);case"Email":return e+n.email;case"Url":return e+n.caption;case"Hashtag":return e+n.tag;case"HashtagMention":return e+n.tag+`@${n.screenName}`;case"LineBreak":return e+(t.multiline?"\n":" ");default:return(0,o.exhaustivenessCheck)(n)}}),"")}function l(e){return e.reduce(((e,t)=>{switch(t.kind){case"Text":return e+t.text;case"Mention":{const n=u.toRealId(t.peerId);return e+`[${t.type}${n}|${t.displayName}]`}case"MassMention":return e+t.displayName;case"ScreenNameMention":return e+(t.displayName?`@${t.screenName} (${t.displayName})`:`@${t.screenName}`);case"Email":return e+t.email;case"Url":return e+t.originalUrl;case"Hashtag":return e+t.tag;case"HashtagMention":return e+t.tag+`@${t.screenName}`;case"LineBreak":return e+"\n";default:return(0,o.exhaustivenessCheck)(t)}}),"")}const f=r.createLanguage({ClientChunks:e=>r.alt(e.LineBreak,e.Email,e.Url,e.HashtagMention,e.Hashtag,e.MassMention,e.Mention,e.ScreenNameMention,e.Text).many(),ServerChunks:e=>r.alt(e.LineBreak,e.Email,e.Url,e.HashtagMention,e.Hashtag,e.MassMention,e.Mention,e.Text).many(),LineBreak:()=>r.regexp(/\n|<br ?\/?>/).map((()=>({kind:"LineBreak"}))),ScreenName:()=>r.seqObj(["prefix",r.oneOf("@*")],["handle",r.alt(r.digit,r.letter,r.string("_")).atLeast(2).map((e=>e.join("")))]),MassMention:()=>r.regexp(/(?!,|;|:|\.|\s|\n|"|\(|\)|\[|\]|!|\?)([*@](all|everyone|все|online|here|здесь|тут))(?=$|,|;|:|<br ?\/?>|\.(?![a-z0-9_-])|\s|\n|"|\(|\)|\[|\]|!|\?)/i,1).map((e=>({kind:"MassMention",displayName:e}))),Mention:()=>r.seqObj(r.string("["),["type",r.alt(r.string("id"),r.string("club"))],["peerId",r.digit.atLeast(1).map((e=>+e.join("")))],["displayName",r.regexp(/\|(.+?)]/,1)]).map((e=>{let t;return t="club"===e.type?u.resolveId(-e.peerId):0===e.peerId?u.resolveId():u.resolveId(e.peerId),{kind:"Mention",type:e.type,peerId:t,displayName:e.displayName}})),ScreenNameMention:e=>r.seqObj(["screenName",e.ScreenName],["displayName",r.alt(r.seq(r.whitespace,r.regexp(/\((.+?)\)/,1)).map((([,e])=>e)),r.succeed(void 0))]).map((e=>({kind:"ScreenNameMention",screenName:e.screenName.handle,displayName:e.displayName}))),Url:()=>{const e=r.seqObj(r.string("["),["protocol",r.regexp(new RegExp(h,"i"))],["fullDomain",r.regexp(new RegExp("vk\\.com|vk\\.ru|vk\\.me|web\\.vk\\.me","i"))],r.regexp(new RegExp("(?!/away\\.php)","i")),["query",r.regexp(new RegExp(v))],["displayName",r.regexp(/\|(.+?)]/,1)]).map((e=>{const{protocol:t,fullDomain:n,query:u,displayName:r}=e;return{kind:"Url",caption:r,href:`${t||"http://"}${n}${u}`,originalUrl:`[${t}${n}${u}|${r}]`}})),t=r.seq(r.regexp(new RegExp(h,"i")),r.regexp(new RegExp(p)),r.regexp(new RegExp(F)),r.regexp(new RegExp(C)),r.regexp(new RegExp(v))).map((e=>{const[t,n,u,r,i]=e,a=`${t||"http://"}${n}${u}${r}${i}`,s=e.join("");return u.length<=k&&b.has(u.toLowerCase())?{kind:"Url",caption:(0,o.safeDecodeURI)(s),href:a,originalUrl:s}:{kind:"Text",text:s}}));return r.alt(e,t)},Hashtag:()=>r.regexp(new RegExp(`#${_}{0,100}${B}${_}{0,100}`,"u")).map((e=>({kind:"Hashtag",tag:e}))),HashtagMention:e=>r.seqObj(["tag",r.regexp(new RegExp(`#${_}{0,100}${B}${_}{0,100}`))],["screenName",e.ScreenName]).map((e=>({kind:"HashtagMention",tag:e.tag,screenName:e.screenName.handle}))),Email:()=>r.regexp(new RegExp("([a-zA-Zа-яА-Я\\-_\\.0-9\\+]+@("+p+F+"))","i")).map((e=>({kind:"Email",email:e}))),Text:()=>r.any.map((e=>({kind:"Text",text:e})))}),m="\\w\\$А-Яа-яёЁєЄҐґЇїІіЈј%",h="(https?:\\/\\/)?",p="((?:["+m+"\\—\\-\\_]+\\.){1,5})",F="([A-Za-zа-яА-Я\\-\\d]{2,22})",C="(?:\\:(\\d{2,5}))?",g="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞮꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",E="\\wА-Яа-я\\xa8\\xb8\\xc0-\\xffєЄҐґЇїІіЈј\\—\\-\\_@#%?+\\/\\$~=;:'*"+g+"　-〿＀-￯",v="(([\\/?#])(?:\\&amp;|\\&|\\&#\\d{2,6};|,[_%]|!|,*"+("(?:["+E+"]|[.](?!\\s|$|[^."+E+"]))")+"+|"+("(?:\\(|\\[)["+m+"\\d&#%;,]+(?:\\)|\\])")+"){0,200})?",b=new Set([..."aaa,aarp,abarth,abb,abbott,abbvie,abc,able,abogado,abudhabi,ac,academy,accenture,accountant,accountants,aco,active,actor,ad,adac,ads,adult,ae,aeg,aero,aetna,af,afamilycompany,afl,africa,ag,agakhan,agency,ai,aig,aigo,airbus,airforce,airtel,akdn,al,alfaromeo,alibaba,alipay,allfinanz,allstate,ally,alsace,alstom,am,americanexpress,americanfamily,amex,amfam,amica,amsterdam,an,analytics,android,anquan,anz,ao,aol,apartments,app,apple,aq,aquarelle,ar,aramco,archi,army,arpa,art,arte,as,asda,asia,associates,at,athleta,attorney,au,auction,audi,audible,audio,auspost,author,auto,autos,avianca,aw,aws,ax,axa,az,azure,ba,baby,baidu,banamex,bananarepublic,band,bank,bar,barcelona,barclaycard,barclays,barefoot,bargains,baseball,basketball,bauhaus,bayern,bb,bbc,bbt,bbva,bcg,bcn,bd,be,beats,beauty,beer,bentley,berlin,best,bestbuy,bet,bf,bg,bh,bharti,bi,bible,bid,bike,bing,bingo,bio,biz,bj,bl,black,blackfriday,blanco,blockbuster,blog,bloomberg,blue,bm,bms,bmw,bn,bnl,bnpparibas,bo,boats,boehringer,bofa,bom,bond,boo,book,booking,boots,bosch,bostik,boston,bot,boutique,box,bq,br,bradesco,bridgestone,broadway,broker,brother,brussels,bs,bt,budapest,bugatti,build,builders,business,buy,buzz,bv,bw,by,bz,bzh,ca,cab,cafe,cal,call,calvinklein,cam,camera,camp,cancerresearch,canon,capetown,capital,capitalone,car,caravan,cards,care,career,careers,cars,cartier,casa,case,caseih,cash,casino,cat,catering,catholic,cba,cbn,cbre,cbs,cc,cd,ceb,center,ceo,cern,cf,cfa,cfd,cg,ch,chanel,channel,chase,chat,cheap,chintai,chloe,christmas,chrome,chrysler,church,ci,cipriani,circle,cisco,citadel,citi,citic,city,cityeats,ck,cl,claims,cleaning,click,clinic,clinique,clothing,cloud,club,clubmed,cm,cn,co,coach,codes,coffee,college,cologne,com,comcast,commbank,community,company,compare,computer,comsec,condos,construction,consulting,contact,contractors,cooking,cookingchannel,cool,coop,corsica,country,coupon,coupons,courses,cr,credit,creditcard,creditunion,cricket,crown,crs,cruise,cruises,csc,cu,cuisinella,cv,cw,cx,cy,cymru,cyou,cz,dabur,dad,dance,data,date,dating,datsun,day,dclk,dds,de,deal,dealer,deals,degree,delivery,dell,deloitte,delta,democrat,dental,dentist,desi,design,dev,dhl,diamonds,diet,digital,direct,directory,discount,discover,dish,diy,dj,dk,dm,dnp,do,docs,doctor,dodge,dog,doha,domains,dot,download,drive,dtv,dubai,duck,dunlop,duns,dupont,durban,dvag,dvr,dz,earth,eat,ec,eco,edeka,edu,education,ee,eg,eh,email,emerck,energy,engineer,engineering,enterprises,epost,epson,equipment,er,ericsson,erni,es,esq,estate,esurance,et,eu,eurovision,eus,events,everbank,exchange,expert,exposed,express,extraspace,fage,fail,fairwinds,faith,family,fan,fans,farm,farmers,fashion,fast,fedex,feedback,ferrari,ferrero,fi,fiat,fidelity,fido,film,final,finance,financial,fire,firestone,firmdale,fish,fishing,fit,fitness,fj,fk,flickr,flights,flir,florist,flowers,fly,fm,fo,foo,food,foodnetwork,football,ford,forex,forsale,forum,foundation,fox,fr,free,fresenius,frl,frogans,frontdoor,frontier,ftr,fujitsu,fujixerox,fun,fund,furniture,futbol,fyi,ga,gal,gallery,gallo,gallup,game,games,gap,garden,gb,gbiz,gd,gdn,ge,gea,gent,genting,george,gf,gg,ggee,gh,gi,gift,gifts,gives,giving,gl,glade,glass,gle,global,globo,gm,gmail,gmbh,gmo,gmx,gn,godaddy,gold,goldpoint,golf,goo,goodhands,goodyear,goog,google,gop,got,gov,gp,gq,gr,grainger,graphics,gratis,green,gripe,group,gs,gt,gu,guardian,gucci,guge,guide,guitars,guru,gw,gy,hair,hamburg,hangout,haus,hbo,hdfc,hdfcbank,health,healthcare,help,helsinki,here,hermes,hgtv,hiphop,hisamitsu,hitachi,hiv,hk,hkt,hm,hn,hockey,holdings,holiday,homedepot,homegoods,homes,homesense,honda,honeywell,horse,hospital,host,hosting,hot,hoteles,hotmail,house,how,hr,hsbc,ht,htc,hu,hughes,hyatt,hyundai,ibm,icbc,ice,icu,id,ie,ieee,ifm,ikano,il,im,imamat,imdb,immo,immobilien,in,industries,infiniti,info,ing,ink,institute,insurance,insure,int,intel,international,intuit,investments,io,ipiranga,iq,ir,irish,is,iselect,ismaili,ist,istanbul,it,itau,itv,iveco,iwc,jaguar,java,jcb,jcp,je,jeep,jetzt,jewelry,jio,jlc,jll,jm,jmp,jnj,jo,jobs,joburg,jot,joy,jp,jpmorgan,jprs,juegos,juniper,kaufen,kddi,ke,kerryhotels,kerrylogistics,kerryproperties,kfh,kg,kh,ki,kia,kim,kinder,kindle,kitchen,kiwi,km,kn,koeln,komatsu,kosher,kp,kpmg,kpn,kr,krd,kred,kuokgroup,kw,ky,kyoto,kz,la,lacaixa,ladbrokes,lamborghini,lamer,lancaster,lancia,lancome,land,landrover,lanxess,lasalle,lat,latino,latrobe,law,lawyer,lb,lc,lds,lease,leclerc,lefrak,legal,lego,lexus,lgbt,li,liaison,lidl,life,lifeinsurance,lifestyle,lighting,like,lilly,limited,limo,lincoln,linde,link,lipsy,live,living,lixil,lk,loan,loans,local,locker,locus,loft,lol,london,lotte,lotto,love,lpl,lplfinancial,lr,ls,lt,ltd,ltda,lu,lundbeck,lupin,luxe,luxury,lv,ly,ma,macys,madrid,maif,maison,makeup,man,management,mango,market,marketing,markets,marriott,marshalls,maserati,mattel,mba,mc,mcd,mcdonalds,mckinsey,md,me,med,media,meet,melbourne,meme,memorial,men,menu,meo,metlife,mf,mg,mh,miami,microsoft,mil,mini,mint,mit,mitsubishi,mk,ml,mlb,mls,mm,mma,mn,mo,mobi,mobile,mobily,moda,moe,moi,mom,monash,money,monster,montblanc,mopar,mormon,mortgage,moscow,moto,motorcycles,mov,movie,movistar,mp,mq,mr,ms,msd,mt,mtn,mtpc,mtr,mu,museum,mutual,mv,mw,mx,my,mz,na,nab,nadex,nagoya,name,nationwide,natura,navy,nba,nc,ne,nec,net,netbank,netflix,network,neustar,new,newholland,news,next,nextdirect,nexus,nf,nfl,ng,ngo,nhk,ni,nico,nike,nikon,ninja,nissan,nissay,nl,no,nokia,northwesternmutual,norton,now,nowruz,nowtv,np,nr,nra,nrw,ntt,nu,nyc,nz,obi,observer,off,office,okinawa,olayan,olayangroup,oldnavy,ollo,om,omega,one,ong,onl,online,onyourside,ooo,open,oracle,orange,org,organic,orientexpress,origins,osaka,otsuka,ott,ovh,pa,page,pamperedchef,panasonic,panerai,paris,pars,partners,parts,party,passagens,pay,pccw,pe,pet,pf,pfizer,pg,ph,pharmacy,philips,phone,photo,photography,photos,physio,piaget,pics,pictet,pictures,pid,pin,ping,pink,pioneer,pizza,pk,pl,place,play,playstation,plumbing,plus,pm,pn,pnc,pohl,poker,politie,porn,post,pr,pramerica,praxi,press,prime,pro,prod,productions,prof,progressive,promo,properties,property,protection,pru,prudential,ps,pt,pub,pw,pwc,py,qa,qpon,quebec,quest,qvc,racing,radio,raid,re,read,realestate,realtor,realty,recipes,red,redstone,redumbrella,rehab,reise,reisen,reit,reliance,ren,rent,rentals,repair,report,republican,rest,restaurant,review,reviews,rexroth,rich,richardli,ricoh,rightathome,ril,rio,rip,rmit,ro,rocher,rocks,rodeo,rogers,room,rs,rsvp,ru,ruhr,run,rw,rwe,ryukyu,sa,saarland,safe,safety,sakura,sale,salon,samsclub,samsung,sandvik,sandvikcoromant,sanofi,sap,sapo,sarl,sas,save,saxo,sb,sbi,sbs,sc,sca,scb,schaeffler,schmidt,scholarships,school,schule,schwarz,science,scjohnson,scor,scot,sd,se,seat,secure,security,seek,select,sener,services,ses,seven,sew,sex,sexy,sfr,sg,sh,shangrila,sharp,shaw,shell,shia,shiksha,shoes,shop,shopping,shouji,show,showtime,shriram,si,silk,sina,singles,site,sj,sk,ski,skin,sky,skype,sl,sling,sm,smart,smile,sn,sncf,so,soccer,social,softbank,software,sohu,solar,solutions,song,sony,soy,space,spiegel,spot,spreadbetting,sr,srl,srt,ss,st,stada,staples,star,starhub,statebank,statefarm,statoil,stc,stcgroup,stockholm,storage,store,stream,studio,study,style,su,sucks,supplies,supply,support,surf,surgery,suzuki,sv,swatch,swiftcover,swiss,sx,sy,sydney,symantec,systems,sz,tab,taipei,talk,taobao,target,tatamotors,tatar,tattoo,tax,taxi,tc,tci,td,tdk,team,tech,technology,tel,telecity,telefonica,temasek,tennis,teva,tf,tg,th,thd,theater,theatre,tiaa,tickets,tienda,tiffany,tips,tires,tirol,tj,tjmaxx,tjx,tk,tkmaxx,tl,tm,tmall,tn,to,today,tokyo,tools,top,toray,toshiba,total,tours,town,toyota,toys,tp,tr,trade,trading,training,travel,travelchannel,travelers,travelersinsurance,trust,trv,tt,tube,tui,tunes,tushu,tv,tvs,tw,tz,ua,ubank,ubs,uconnect,ug,uk,um,unicom,university,uno,uol,ups,us,uy,uz,va,vacations,vana,vanguard,vc,ve,vegas,ventures,verisign,vermögensberater,vermögensberatung,versicherung,vet,vg,vi,viajes,video,vig,viking,villas,vin,vip,virgin,visa,vision,vista,vistaprint,viva,vivo,vlaanderen,vn,vodka,volkswagen,volvo,vote,voting,voto,voyage,vu,vuelos,wales,walmart,walter,wang,wanggou,warman,watch,watches,weather,weatherchannel,webcam,weber,website,wed,wedding,weibo,weir,wf,whoswho,wien,wiki,williamhill,win,windows,wine,winners,wme,wolterskluwer,woodside,work,works,world,wow,ws,wtc,wtf,xbox,xerox,xfinity,xihuan,xin,xperia,xxx,xyz,yachts,yahoo,yamaxun,yandex,ye,yodobashi,yoga,yokohama,you,youtube,yt,yu,yun,za,zappos,zara,zero,zip,zippo,zm,zone,zuerich,zw".split(","),..."бг,бел,дети,ею,католик,ком,мкд,мон,москва,онлайн,орг,рус,рф,сайт,срб,укр".split(","),..."qxam,90ae,90ais,d1acj3b,e1a4c,80aqecdr1a,j1aef,d1alf,l1acc,80adxhks,80asehdb,c1avg,p1acf,p1ai,80aswg,90a3ac,j1amh,80ao21a,y9a3aq,9dbq2a,mgbca7dzdo,mgba3a3ejt,mgbayh7gpa,lgbbat1ad8j,mgberp4a5d4ar,mgba7c0bbn0a,mgbc0a9azcg,mgb2ddes,mgbaam7a8h,mgba3a4f16a,mgbbh1a,mgbab2bd,ngbe9e0a,mgbbh1a71e,pgbs0dh,mgbpl2fh,ogbpf8fl,ngbc5azd,mgbtx2b,mgb9awbf,ygbi2ammx,wgbl6a,mgbi4ecexp,fhbei,wgbh1c,mgbx4cd0ab,mgbb9fbpob,4gbrim,mgbt3dhd,mgbai9azgqp6j,mgbgu82a,11b4c3d,c2br7g,h2brj9c,h2breg3eve,h2brj9c8c,i1b6b1a6a2e,54b7fta0cc,45brj9c,45br5cyl,s9brj9c,gecrj9c,3hcrj9c,xkc2dl3a5ee0h,xkc2al3hye2a,clchc0ea0b2g2a9gcd,fpcrj9c3d,2scrj9c,rvc1e0am3e,fzc2c9e2c,42c2d9a,o3cw4h,node,q9jyb4c,gckr3f0f,qcka1pmc,tckwe,cck2b3b,1ck2e1b,bck1b9a5dre4c,eckvdtc9d,rhqv96g,fiq64b,fiqs8s,fiqz9s,fiq228c5hs,vhquv,1qqw23a,vuq861b,nyqy26a,45q11c,55qx5d,55qw42g,kprw13d,kpry57d,czru2d,czrs0t,czr694b,w4rs40l,w4r85el8fhu5dnra,3ds443g,3oq18vl8pn36a,pssy2u,tiq49xqyj,fjq720a,fct429k,estv75g,xhq521b,9krt00a,30rr7y,6qq986b3xl,kput3i,kpu716f,zfr164b,mxtq1m,yfro4i67o,efvy88h,9et52u,rovu88b,nqv7f,b4w605ferd,unup4y,mix891f,mix082f,3pxu8k,pbt977c,6frz82g,nqv7fs00ema,ses554g,hxt814e,5tzm5g,io0a7i,8y0a063a,jlq61u9w7b,flw351e,g2xx48c,gk3at1e,3bst00m,fzys8d69uvgm,kcrx77d1x4a,jvr189m,imr513n,5su34j936bgsg,j6w193g,t60b56a,mk1bu44c,cg4bki,3e0b707e".split(",").map((e=>"xn--"+e))]),k=[...b].reduce(((e,t)=>Math.max(e,t.length)),0),y=`${g}a-zA-Zа-яА-ЯёіјєїґўЁІЈЄЇҐЎ’`,w="(?:&#(?:19[2-9]|(?:[2-9]|1[0-3])[0-9][0-9]);?)",B=`(?:[${y}]|${w})`,_=`(?:[${y}_\\d]|${w})`},89131:(e,t,n)=>{"use strict";n.d(t,{RetryTimeout:()=>l,clamp:()=>S,createDeferredPromise:()=>N,debounce:()=>c,escapeRegex:()=>B,exhaustivenessCheck:()=>a,formatDuration:()=>F,formatFileSize:()=>p,getDateDayStart:()=>v,getFirstLetter:()=>x,getLengthWithEmoji:()=>w,getRandomInt:()=>I,isDeepEqual:()=>y,isDev:()=>o,isNonEmptyArray:()=>m,isSameDate:()=>C,isSameMonth:()=>g,isSameYear:()=>E,isTruthy:()=>h,isValidPhoneNumber:()=>M,noop:()=>b,parseRootMargin:()=>R,safeDecodeURI:()=>_,shuffleArray:()=>A,sleep:()=>s,throttle:()=>d,toNonEmpty:()=>f,words:()=>k});var u=n(11010),r=n(270608),i=n.n(r);const o=!1;function a(e){throw new Error("Exhaustivness failure! This should never happen.")}function s(e){return D.apply(this,arguments)}function D(){return(D=(0,u._)((function*(e){return new Promise((t=>{setTimeout(t,e)}))}))).apply(this,arguments)}function c(e,t,n){let u=null;const r=()=>{null!==u&&(window.clearTimeout(u),u=null)},i=(...i)=>{const o=n&&!u;r(),u=window.setTimeout((()=>{u=null,n||e(...i)}),t),o&&e(...i)};return i.cancel=r,i}function d(e,t,n){let u=!1,r=null;return(...i)=>{u?r=i:(u=!0,n?r=i:e(...i),setTimeout((()=>{u=!1,r&&(e(...r),r=null)}),t))}}class l{constructor(e,t){this.delay=()=>this.timeout,this.attempts=()=>this.retries,this.backoff=()=>{this.timeout=Math.min(2*this.timeout,this.maxTimeout),this.retries++},this.reset=()=>{this.timeout=this.minTimeout,this.retries=0},this.minTimeout=e,this.maxTimeout=t,this.timeout=e,this.retries=0}}function f(e){return e.length>0?e:null}function m(e){return void 0!==e[0]}function h(e){return!!e}function p(e){return e>Math.pow(1024,3)?Number((e/Math.pow(1024,3)).toFixed(2))+" GB":e>Math.pow(1024,2)?Number((e/Math.pow(1024,2)).toFixed(1))+" MB":Math.round(e/1024)+" KB"}function F(e,t){e||(e=0),e=Math.abs(e);const n=Math.floor(e/3600).toString(),u=(Math.floor(e/60)%60).toString(),r=(e%60).toString().padStart(2,"0");return e>=3600||t?[n,u.padStart(2,"0"),r].join(":"):[u.padStart(1,"0"),r].join(":")}function C(e,t){return e=new Date(e),t=new Date(t),e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function g(e,t){return e=new Date(e),t=new Date(t),e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function E(e,t){return e=new Date(e),t=new Date(t),e.getFullYear()===t.getFullYear()}function v(e){const t=new Date(e);return t.setHours(0,0,0,0),t.getTime()}function b(){}function k(e){return e.split(/\s/)}function y(e,t){if(e===t)return!0;if(e!=e&&t!=t)return!0;const n=e=>"object"!=typeof e||null===e;if(n(e)||n(t))return e===t;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!y(e[n],t[n]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let u of e.entries()){const e=u[0];if(!n(e))throw new Error("isDeepEqual can't compare Maps with non primitive keys");if(!t.has(e))return!1}for(let n of e.entries())if(!y(n[1],t.get(n[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let u of e.entries()){const e=u[0];if(!n(e))throw new Error("isDeepEqual can't compare Sets with non primitive values");if(!t.has(e))return!1}return!0}const u=Object.keys(e);if(u.length!==Object.keys(t).length)return!1;for(const e of u)if(!Object.prototype.hasOwnProperty.call(t,e))return!1;for(const n of u)if(!y(e[n],t[n]))return!1;return!0}throw new Error(`isDeepEqual don't know how to compare: ${e} and ${t}`)}function w(e){return e.replace(i()()," ").length}const B=e=>e?e.replace(/([.*+?^${}()|[\]/\\])/g,"\\$1"):"";function _(e){try{return decodeURIComponent(e)}catch(t){return e}}function I(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function A(e){const t=[...e];for(let e=t.length-1;e>0;e--){const n=I(0,e),u=t[e];t[e]=t[n],t[n]=u}return t}function x(e){const t=i()().exec(e);return t&&0===t.index&&t[0]?t[0]:(Array.from(e)[0]||"").toUpperCase()}function N(){let e=Promise.resolve,t=Promise.reject;const n=new Promise(((n,u)=>{e=n,t=u}));return n.resolve=e,n.reject=t,n}function M(e){const t=e.trim();return/^\+?(\d{10,18}|\d{1,5}([\s-]?(\(\d{1,3}\)|\d{1,4})){1,4})$/.test(t)}function S(e,t,n){return Math.min(n,Math.max(t,e))}const R=e=>e?e.toString().split(" ").map((e=>`${parseInt(e)}px`)).join(" "):void 0}}]);try{stManager.done("dist/3fc6dcdb2df4dfe047d9b87f7365f63e.84743edf6e90fa34e765.js")}catch(e){}