(()=>{"use strict";var __webpack_modules__={96715:(e,t,o)=>{o.d(t,{Icon16Verified:()=>i});var i=(0,o(825028).makeIcon)("Icon16Verified","verified_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="verified_16"><path fill="currentColor" d="M4.5 9.586 2.957 8.043a1 1 0 0 0-1.414 1.414l2.25 2.25a1 1 0 0 0 1.414 0l5.25-5.25a1 1 0 0 0-1.414-1.414L4.5 9.586Z" /></symbol>',16,16,!1,void 0)},653070:(e,t,o)=>{o.d(t,{default:()=>i});const i={container:"Popup-module__container--N2tdU",inner:"Popup-module__inner--Ln2nF",innerIn:"Popup-module__innerIn--eh2c4"}},928273:(e,t,o)=>{o.d(t,{default:()=>i});const i={iframeContainer:"CheckValidationPhone-module__iframeContainer--QDOEz"}},61836:(e,t,o)=>{o.d(t,{default:()=>i});const i={content:"PageBlock-module__content--LU3jx"}},137363:(e,t,o)=>{o.d(t,{ANALYTICS_SCREEN_OTHER:()=>n,ANALYTICS_SCREEN_SETTINGS:()=>s,GroupAdminLevel:()=>i});const i={USER:0,MODERATOR:1,EDITOR:2,ADMINISTRATOR:3,HOST:4,EVENT_CREATOR:5,CREATOR:6,PSEUDO_LEVEL_ADVERTISER:100},s="settings",n="other"},517366:(e,t,o)=>{var i,s,n,r,a;o.d(t,{StoryBlockType:()=>r,StoryEntryPoint:()=>s,StoryListName:()=>a,StorySource:()=>n,StoryType:()=>i}),function(e){e.PHOTO="photo",e.VIDEO="video",e.LIVE="live"}(i||(i={})),function(e){e.SWIPE="swipe",e.NAVIGATION_BUTTON="navigation_button",e.SIT_POSTING="sit_posting",e.LINK="link",e.STORY_REPLY="story_reply",e.STORY_REPOST="story_repost",e.CATALOG_ADD="catalog_add",e.DIALOG="dialog",e.STORY_LIVE_FINISHED="story_live_finished",e.DIALOG_VKME="dialog_vkme",e.STORY_VIEWER_FINISHED="story_viewer_finished",e.PUSH_TRY_MASK="push_try_mask",e.STORY_VIEWER_TRY_MASK="story_viewer_try_mask",e.LINK_MASK="link_mask",e.POSTING="posting",e.NEW_STORY_AVATAR="new_story_avatar",e.STORY_REPLIES_LIST="story_replies_list",e.STORIES_FEED="stories_feed",e.STORIES_SEARCH_NEWS="stories_search_news",e.QUESTION_STICKER="question_sticker",e.LIST_MIDDLE="list_middle",e.ARCHIVE_EMPTY_BUTTON="archive_empty_button",e.ARCHIVE_MENU_BUTTON="archive_menu_button",e.IM="im",e.PROFILE_BUTTON="profile_button",e.SHARE="share",e.MINI_APP="mini_app",e.SYSTEM_SHARING="system_sharing",e.SHORTCUT="shortcut",e.ARCHIVE_SHARING="archive_sharing",e.STORY_VIEWER_CAMERA_BUTTON="story_viewer_camera_button",e.STORY_VIEWER_MUSIC="story_viewer_music",e.STORY_VIEWER_MUSIC_SHEET="story_viewer_music_sheet",e.REPOST_TO_STORY_ACTIVITY="repost_to_story_activity",e.CHANGE_AVATAR="change_avatar"}(s||(s={})),function(e){e.FEED="feed",e.FEED_MIDDLE="feed_middle",e.LINK="link",e.PROFILE="profile",e.IM_DIALOGS="im_dialogs",e.IM_DIALOG_HEADER="im_dialog_header",e.SNIPPET="snippet",e.REPLY="reply",e.REPLIES_LIST="replies_list",e.REPLY_STORY="reply_story",e.DISCOVER="discover",e.STORIES_MANAGE="stories_manage",e.USER_PERSONAL_CARD="user_personal_card",e.GROUP_PERSONAL_CARD="group_personal_card",e.NARRATIVE_SNIPPET="narrative_snippet",e.NARRATIVE_STORY="narrative_story",e.NARRATIVE_LINK="narrative_link",e.NARRATIVE_RECOMMENDATIONS="narrative_recommendations",e.NARRATIVE_SECTION="narrative_section",e.FAVE="fave",e.SPAMFEED="sf",e.ADS_PREVIEW="ads_preview",e.LIST_MIDDLE="list_middle",e.PLACE_STORY_LIST="place_story_list",e.SEARCH_STORY_LIST="search_story_list",e.STORY_ARCHIVE="story_archive",e.IM_MSG_LIST="im_msg_list",e.NOSPAM="nospam",e.PROFILE_SNACKBAR="profile_snackbar",e.MY_QUESTIONS="question_story"}(n||(n={})),function(e){e.stories="stories",e.communityGroupedStories="community_grouped_stories",e.appGroupedStories="app_grouped_stories",e.discover="discover"}(r||(r={})),function(e){e.feed="feed",e.groups="groups",e.apps="apps",e.discover="discover"}(a||(a={}))},103912:(e,t,o)=>{o.d(t,{getPerformanceStatsEventMomentData:()=>s});var i=o(121677);const s=()=>{const e=null==performance.now?void 0:performance.now();if(void 0===e)return;return{eventTime:e,network:i.default.getConnectionEffectiveType()}}},593568:(e,t,o)=>{o.d(t,{getPerformanceStatsTools:()=>a});var i=o(11010),s=o(434788),n=o(103912),r=o(745163);function a(){return l.apply(this,arguments)}function l(){return(l=(0,i._)((function*({module:e=r.navigationStat.getModule(),page:t,entity:i,cooldownRecord:a}={}){if(!window.performance||"visible"!==window.document.visibilityState)return;const l=(0,n.getPerformanceStatsEventMomentData)();return l?Promise.all([o.e(68592),o.e(59240)]).then(o.bind(o,642440)).then((({navigationStat:o,PerformanceStatsEvent:n,AuxiliaryPerformanceStatsEvent:r,configurePerformanceStatsUtils:c})=>{if(!o.getModule)return;const{storePerformanceStats:d,sendStoredPerformanceStats:u}=c((0,s._)({},l,{module:e,page:t,entity:i,cooldownRecord:a}));return{storePerformanceStats:d,sendStoredPerformanceStats:u,PerformanceStatsEvent:n,AuxiliaryPerformanceStatsEvent:r}})):void 0}))).apply(this,arguments)}},59985:(e,t,o)=>{o.d(t,{HIDE_TOOLTIP_TIMEOUT:()=>i,OPENED_REACTED_USERS_DEFAULT_REACTION_ID:()=>d,REACTION_ID_DEFAULT:()=>n,REACTION_ID_MAX:()=>r,REACTION_ID_MIN:()=>a,REACTION_ID_UNSET:()=>l,REACTION_SET_ITEMS_MIN_COUNT:()=>c,SHOW_TOOLTIP_TIMEOUT:()=>s});const i=600,s=140,n=0,r=7,a=0,l=void 0,c=2,d=n},457972:(e,t,o)=>{o.d(t,{isDebugEnabled:()=>n});var i=o(531730);let s;const n=()=>(void 0!==s||(s=!!i.ls.get("reactions.debug_enabled")),s)},192441:(e,t,o)=>{o.d(t,{reactionCountsBrandUnwrap:()=>s,reactionCountsBrandWrap:()=>n});var i=o(640971);const s=e=>(0,i.unwrap)(e),n=e=>(0,i.wrap)(e)},698216:(e,t,o)=>{o.d(t,{reactionLogError:()=>n});var i=o(970978);const s="reactions";function n({error:e,reportError:t=!1}){t&&(0,i.logError)(e,{environment:s}),console.error(e)}},822715:(e,t,o)=>{o.d(t,{areCountersEqual:()=>T,calcCounters:()=>b,calcCountersSum:()=>k,calcCountersWeightedSum:()=>y,counterForReactionId:()=>E,getDefaultReaction:()=>c,getDefaultReactionTitle:()=>d,getReaction:()=>l,hasReactionsForCounts:()=>C,isReactionIdSet:()=>p,isReactionIdUnset:()=>h,isUnknownObject:()=>a,isValidReactionId:()=>f,parseReactionId:()=>g,parseReactionIdOrUnset:()=>w,parseReactionMenuConfig:()=>v,prepareReactionMenuSet:()=>_,validateReactionSetPayloaditems:()=>m});var i=o(59985),s=o(192441),n=o(659397);const r=Number.isInteger||(e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e),a=e=>null!==e&&"object"==typeof e,l=(e,t)=>e.itemsById[t],c=e=>l(e,i.REACTION_ID_DEFAULT),d=e=>{var t;return null==(t=c(e))?void 0:t.title},u=(e,t)=>0===e.length?"":((e,t,o=!0)=>e.reduce(((e,i)=>{const s=t(i),n=t(e);return n===s?o?e:i:n<s?e:i})))(e,(e=>Math.pow(t.width-e.width,2)+Math.pow(t.height-e.height,2)),!1).url,_=(e,t,o)=>{const i=t.map((({asset:e,color_sets:t,id:i,score:s,title:n})=>({animationURL:e.animation_url||void 0,backgroundColor:null==t?void 0:t.background,id:i,imageMenuURL:u(e.images,o.imageMenuSize),imagePreviewURL:"imagePreviewSize"in o?u(e.images,o.imagePreviewSize):void 0,imageStoryPanelURL:"imageStoryPanelSize"in o?u(e.images,o.imageStoryPanelSize):void 0,imageStoryPreviewURL:"imageStoryPreviewSize"in o?u(e.images,o.imageStoryPreviewSize):void 0,score:s,title:n,titleColor:null==t?void 0:t.foreground}))),s={};return i.forEach((e=>{s[e.id]=e})),{id:e,items:i,itemsById:s}},p=e=>e!==i.REACTION_ID_UNSET,h=e=>e===i.REACTION_ID_UNSET,f=e=>r(e)&&e>=i.REACTION_ID_MIN&&e<=i.REACTION_ID_MAX,g=e=>{const t=parseInt(e,10);return f(t)?{isValid:!0,value:t}:{isValid:!1}},w=e=>{const t=g(e);return t.isValid?t.value:i.REACTION_ID_UNSET},m=(e,t)=>{if(e.length<i.REACTION_SET_ITEMS_MIN_COUNT)return{error:new Error(`Invalid reactions items count in set '${t}': ${e.length}`)}},v=e=>{if(!a(e))return;const t={},{animationShowStaticAfterEnd:o,menuShowDelay:s,openedDefaultReactionId:n,reportJsErrors:r}=e;return"number"!=typeof s&&void 0!==s||(t.menuShowDelay=s),"boolean"==typeof o&&(t.animationShowStaticAfterEnd=o),"boolean"==typeof r&&(t.reportJsErrors=r),"number"==typeof n||null===n?null===n?t.openedDefaultReactionId=void 0:f(n)&&(t.openedDefaultReactionId=n):t.openedDefaultReactionId=i.OPENED_REACTED_USERS_DEFAULT_REACTION_ID,t},b=(e,t)=>{const o=(0,s.reactionCountsBrandWrap)({});return Object.entries((0,s.reactionCountsBrandUnwrap)(e)).forEach((([e,i])=>{var s,n;const r=e;var a;const l=null!=(a=null==t||null==(s=t.itemsById)||null==(n=s[r])?void 0:n.score)?a:1;o[r]=l*(i||0)})),o},k=e=>Object.values((0,s.reactionCountsBrandUnwrap)(e)).reduce(((e,t)=>e+(t||0)),0),y=e=>k((0,s.reactionCountsBrandWrap)(e)),C=e=>k(e)>0;var S;const E=(e,t)=>null!=(S=e[t])?S:void 0,T=(e,t)=>e&&t?(0,n.isEqual)(e,t):e===t},640971:(e,t,o)=>{o.d(t,{unwrap:()=>i,wrap:()=>s});const i=e=>e,s=e=>e},899033:(e,t,o)=>{var i;o.d(t,{ProductsByType:()=>_,Theme:()=>i,UserProductStateKey:()=>a,createProductsMap:()=>r,imageSizeCache:()=>n,imageSizesIndex:()=>s,isBasePack:()=>l,isPackProduct:()=>d,isStyleProduct:()=>c}),function(e){e.LIGHT="light",e.DARK="dark",e.DEFAULT="light"}(i||(i={}));const s=Symbol(),n=Symbol(),r=e=>new Map(e);var a;!function(e){e.IsNew="is_new"}(a||(a={}));const l=e=>void 0!==e.sticker_ids,c=e=>void 0!==e.base_id,d=e=>l(e)&&!c(e);var u;!function(e){e.Pack="pack",e.Style="style"}(u||(u={}));class _{add(e){e&&(d(e)?this.pack.add(e):c(e)&&this.style.add(e))}getPack(){return this.pack.values().next().value}getStyles(){return Array.from(this.style.values())}getCount(){return this.pack.size+this.style.size}constructor(e=[]){this.pack=new Set,this.style=new Set,e.forEach((e=>this.add(e)))}}},301951:(e,t,o)=>{o.d(t,{initReactApp:()=>s});var i=o(973935);function s(e,t,o){var s;e&&(i.render(t,e),o||null==(s=window.cur.destroy)||s.push((()=>{e&&i.unmountComponentAtNode(e)})))}},506948:(e,t,o)=>{o.d(t,{CheckValidationPhone:()=>h});var i=o(785893),s=o(667294),n=o(988882),r=o(869048),a=o(294463),l=o(86427),c=o(382893),d=o(829082),u=o(502274),_=o(234186),p=o(928273);const h=({app_id:e,preventCheck:t=(()=>!1)})=>{const[o,h]=(0,s.useState)(null),[f,g]=(0,s.useState)(!1),[w,m]=(0,s.useState)(!1),[v,b]=(0,s.useState)(!0),[k,y]=(0,s.useState)(null),C=(0,s.useRef)(null),S=()=>{(0,d.validatePhoneCheck)().then((({status:e,sid:o})=>{if(e===a.ValidationStatus.NEED_VALIDATE||e===a.ValidationStatus.LAST_CHANCE_VALIDATE){const i=e!==a.ValidationStatus.LAST_CHANCE_VALIDATE,s={name:"auth_validation_phone",params:{status:i?"1":"0"}};o&&(s.params.sid=o),h({url:window.location.origin,scheme:(0,_.getCurrentScheme)(),action:s}),b(i),t()||m(!0)}})).catch((()=>{}))},E=(0,s.useCallback)((()=>{k&&k.sendMessage({handler:n.UserEvents.VALIDATION_PHONE_CLOSE,params:{},type:"vk-sak-sdk"})}),[k]);return(0,s.useEffect)((()=>{t()||S()}),[]),(0,s.useEffect)((()=>{const e=()=>{document.hidden||w||f||t()||S()};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)}),[w,t,f]),(0,s.useEffect)((()=>{const t=C.current;if(w&&t&&o){(0,u.setConfig)({appId:e});const i=new n.User({container:t});i.on(n.UserEvents.VALIDATION_PHONE_CLOSE,(e=>{e.status===l.ValidationProceedStatus.IS_VALIDATED&&g(!0),m(!1),e.redirectUrl&&""!==e.redirectUrl&&(window.location.href=e.redirectUrl)})),i.on(n.UserEvents.CONTENT_IN_HEIGHT,(e=>{t.style.height=e.height+"px"})),i.open(o).then((()=>y(i))).catch((()=>{}))}}),[w,o]),(0,i.jsx)(r.AppRootProvider,{children:(0,i.jsx)(c.Popup,{isOpen:w,canClose:v,handleClose:E,children:(0,i.jsx)("div",{ref:C,className:p.default.iframeContainer})})})}},514166:(e,t,o)=>{o.d(t,{CheckValidationPhoneFallback:()=>h});var i=o(785893),s=o(667294),n=o(988882),r=o(869048),a=o(294463),l=o(86427),c=o(382893),d=o(829082),u=o(502274),_=o(234186),p=o(928273);const h=({app_id:e,isValidModule:t=!1,onInit:o})=>{const[h,f]=(0,s.useState)(null),[g,w]=(0,s.useState)(t),[m,v]=(0,s.useState)(!1),[b,k]=(0,s.useState)(!1),[y,C]=(0,s.useState)(!0),[S,E]=(0,s.useState)(null),T=(0,s.useRef)(null),P=()=>{(0,d.validatePhoneCheck)().then((({status:e,sid:t})=>{if(e===a.ValidationStatus.NEED_VALIDATE||e===a.ValidationStatus.LAST_CHANCE_VALIDATE){const o=e!==a.ValidationStatus.LAST_CHANCE_VALIDATE,i={name:"auth_validation_phone",params:{status:o?"1":"0"}};t&&(i.params.sid=t),f({url:window.location.origin,scheme:(0,_.getCurrentScheme)(),action:i}),C(o),k(!0)}})).catch((()=>{}))},L=(0,s.useCallback)((()=>{S&&S.sendMessage({handler:n.UserEvents.VALIDATION_PHONE_CLOSE,params:{},type:"vk-sak-sdk"})}),[S]);return(0,s.useEffect)((()=>{o&&o(w)}),[o]),(0,s.useEffect)((()=>{g&&P()}),[g]),(0,s.useEffect)((()=>{const e=()=>{document.hidden||b||m||!g||P()};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)}),[b,g,m]),(0,s.useEffect)((()=>{const t=T.current;if(b&&t&&h){(0,u.setConfig)({appId:e});const o=new n.User({container:t});o.on(n.UserEvents.VALIDATION_PHONE_CLOSE,(e=>{e.status===l.ValidationProceedStatus.IS_VALIDATED&&v(!0),k(!1),e.redirectUrl&&""!==e.redirectUrl&&(window.location.href=e.redirectUrl)})),o.on(n.UserEvents.CONTENT_IN_HEIGHT,(e=>{t.style.height=e.height+"px"})),o.preload(h).then((()=>E(o))).catch((()=>{}))}}),[b,h]),(0,i.jsx)(r.AppRootProvider,{children:(0,i.jsx)(c.Popup,{isOpen:b,canClose:y,handleClose:L,children:(0,i.jsx)("div",{ref:T,className:p.default.iframeContainer})})})}},382893:(e,t,o)=>{o.d(t,{Popup:()=>a});var i=o(785893),s=o(667294),n=o(86894),r=o(653070);const a=({children:e,handleClose:t,isOpen:o=!1,canClose:a=!0})=>((0,n.useScrollLock)(o),(0,s.useEffect)((()=>{const e=e=>"Escape"===e.key?t():null;if(o)return a&&document.body.addEventListener("keydown",e),()=>{document.body.removeEventListener("keydown",e)}}),[t,a,o]),o?(0,i.jsx)(n.PopoutWrapper,{className:r.default.container,onClick:()=>a&&t(),children:(0,i.jsxs)("div",{className:r.default.inner,children:[(0,i.jsx)("div",{className:r.default.innerIn,children:e}),a&&(0,i.jsx)(n.ModalDismissButton,{onClick:t})]})}):null)},86427:(e,t,o)=>{var i;o.d(t,{ValidationProceedStatus:()=>i}),function(e){e[e.IS_VALIDATED=1]="IS_VALIDATED"}(i||(i={}))},294463:(e,t,o)=>{var i;o.d(t,{ValidationStatus:()=>i}),function(e){e[e.NEED_VALIDATE=3]="NEED_VALIDATE",e[e.LAST_CHANCE_VALIDATE=5]="LAST_CHANCE_VALIDATE"}(i||(i={}))},829082:(e,t,o)=>{o.d(t,{validatePhoneCheck:()=>n});var i=o(434788),s=o(599809);const n=e=>{const{apiDomain:t}=window.vk.apiConfigDomains;return(0,s.api)("auth.validatePhoneCheck",{is_auth:0,mode:1},(0,i._)({domain:t},e))}},234186:(e,t,o)=>{o.d(t,{getCurrentScheme:()=>n});var i=o(68003),s=o(910907);const n=()=>{const e=i.colorScheme.getScheme();return(0,s.normalizeScheme)(e)}},910907:(e,t,o)=>{o.d(t,{normalizeScheme:()=>n});var i=o(86894),s=o(68003);const n=e=>{switch(e){case s.ColorSchemeName.WebDark:case s.ColorSchemeName.Dark:return i.Scheme.SPACE_GRAY;case s.ColorSchemeName.WebLight:case s.ColorSchemeName.Light:default:return i.Scheme.BRIGHT_LIGHT}}},502274:(e,t,o)=>{o.d(t,{setConfig:()=>r});var i=o(434788),s=o(988882),n=o(872629);const r=(e={})=>{const{loginDomain:t,connectDomain:o}=window.vk.apiConfigDomains;s.Config.init((0,i._)({appId:n.AuthAppId.VK,loginDomain:t,connectDomain:o},e))}},975577:(e,t,o)=>{o.d(t,{OwnersListPageBlock:()=>_});var i=o(434788),s=o(820224),n=o(785893),r=o(86894),a=o(96715),l=o(399639),c=o(963937),d=o(514995),u=o(885693);const _=e=>{var{title:t,href:o,items:_,button:p}=e,h=(0,s._)(e,["title","href","items","button"]);return _.length?(0,n.jsxs)(u.PageBlock,(0,i._)({},h,{header:(0,n.jsx)(l.Header,{href:o,children:t}),separator:"hide",children:[(0,n.jsx)(r.Spacing,{size:4}),(0,n.jsx)(c.SpacedList,{spacing:2,children:_.map((e=>(0,n.jsx)(r.SimpleCell,{href:e.href,before:(0,n.jsx)(d.AvatarRich,{size:48,src:e.photo,isNFT:e.is_nft,imgAlt:e.title}),badgeAfterTitle:e.is_verified&&(0,n.jsx)(a.Icon16Verified,{}),subtitle:e.subtitle,children:e.title},e.id)))}),p?(0,n.jsx)(r.Div,{children:(0,n.jsx)(r.Button,{mode:"secondary",size:"s",stretched:!0,href:o,children:p})}):(0,n.jsx)(r.Spacing,{size:8})]})):null}},885693:(e,t,o)=>{o.d(t,{PageBlock:()=>l});var i=o(434788),s=o(820224),n=o(785893),r=o(86894),a=o(61836);const l=e=>{var{children:t}=e,o=(0,s._)(e,["children"]);return(0,n.jsx)(r.Group,(0,i._)({},o,{padding:"m",mode:"card",children:(0,n.jsx)("div",{className:a.default.content,children:t})}))}},398986:(e,t,o)=>{var i,s,n,r=o(630260);(null==(i=window.vk)||null==(s=i.pe)?void 0:s.static_manager_dynamic_imports)&&(null==(n=window.vk)?void 0:n.stDomain)&&(o.p=window.vk.stDomain+"/dist/"),window.feed=r.Feed,window.Feed=r.Feed;try{window.stManager.done(window.jsc("web/feed.js"))}catch(e){}},131735:(e,t,o)=>{o.d(t,{PhotoCarouselBlock:()=>r});var i=o(115979),s=o(767722),n=o(428518);class r{initListeners(){this.post.addEventListener("click",this.onPostClick)}deInitListener(){this.post.removeEventListener("click",this.onPostClick)}createItems(e){var t;const o=Array.from(e.querySelectorAll(`.${n.PHOTO_CAROUSEL_ITEM_CLASS}`)),i={};return(null==(t=this.blockOptions)?void 0:t.sendAnalytic)&&(i.sendAnalytic=(e,t)=>{var o,i;(null==(o=this.blockOptions)?void 0:o.sendAnalytic)&&(null==(i=this.blockOptions)||i.sendAnalytic(e,this.post,t))}),o.map((e=>new s.PhotoCarouselBlockItem(e,i)))}getCarouselOptions(){var e;const t=null==(e=this.blockOptions)?void 0:e.sendAnalytic;return{onPrevClick:e=>{t&&t("click_previous",this.post,e)},onNextClick:e=>{t&&t("click_next",this.post,e)}}}constructor(e,t){var o;this.isDestroyed=!1,this.destroy=()=>{this.isDestroyed||(this.deInitListener(),this.carousel.destroy(),this.items.forEach((e=>e.destroy())),this.isDestroyed=!0)},this.onPostClick=e=>{var t;const o=e.target;(null==(t=this.blockOptions)?void 0:t.sendAnalytic)&&(o.classList.contains("post_img")||o.classList.contains("author")||o.classList.contains("mem_link")||o.classList.contains(n.PHOTO_CAROUSEL_AVATAR_CLASS)?this.blockOptions.sendAnalytic("open_user",this.post,e):o.classList.contains(n.PHOTO_ELEMENT_CLASS)||o.classList.contains(n.PHOTO_NO_SIZE_ELEMENT_CLASS)||o.classList.contains("page_post_thumb_wrap")?this.blockOptions.sendAnalytic("open_photo",this.post,e):o.classList.contains(n.PHOTO_CAROUSEL_HIDE_BTN_CLASS)&&this.blockOptions.sendAnalytic("hide",this.post,e))},this.post=e,this.blockOptions=t;const s=this.getCarouselOptions();this.items=this.createItems(e),this.carousel=new i.PhotoCarousel(e,this.items,s),this.initListeners(),null==(o=window.cur.destroy)||o.push(this.destroy)}}},767722:(e,t,o)=>{o.d(t,{PhotoCarouselBlockItem:()=>l});var i=o(509366),s=o(705758),n=o(827652),r=o(953908),a=o(95432);class l extends i.PhotoCarouselItem{destroy(){this.deInitListeners()}initListeners(){this.shareBtn&&this.shareBtn.addEventListener("click",this.onShareClick),this.commentsBtn&&this.commentsBtn.addEventListener("click",this.onCommentsClick),this.likeBtn&&this.likeBtn.addEventListener("click",this.onLikeClick),this.photo.addEventListener("click",this.onPhotoClick)}deInitListeners(){this.shareBtn&&this.shareBtn.removeEventListener("click",this.onShareClick),this.commentsBtn&&this.commentsBtn.removeEventListener("click",this.onCommentsClick),this.likeBtn&&this.likeBtn.removeEventListener("click",this.onLikeClick),this.photo.removeEventListener("click",this.onPhotoClick)}showPhoto(e,t=this.photoViewOptions){(0,a.showPhoto)(this.photoRawId,this.photoContext,t,e),(0,r.cancelEvent)(e)}constructor(e,t){super(e),this.onPhotoClick=e=>{var t;e.ctrlKey||e.metaKey||(this.showPhoto(e),(null==(t=this.options)?void 0:t.sendAnalytic)&&this.options.sendAnalytic("open_photo"))},this.onShareClick=e=>{var t;if(!this.objectRawId)return;const o=null==(t=this.options)?void 0:t.sendAnalytic;o&&(o("click_to_sharing",e),window.cur.sbOnShare=()=>{o("repost",e)}),n.Likes.share(this.objectRawId,this.shareOptions),(0,r.cancelEvent)(e)},this.onCommentsClick=e=>{var t;const o=this.photoViewOptions||{};o.commentFocusInit=!0,this.showPhoto(e,o);const i=null==(t=this.options)?void 0:t.sendAnalytic;i&&i("click_to_comment",e)},this.onLikeClick=e=>{var t;if(!(this.likeBtn&&this.objectRawId&&this.likeHash))return;const o=this.isLiked()?"unlike":"like",i=null==(t=this.options)?void 0:t.sendAnalytic;i&&i(o,e),n.Likes.toggle(this.likeBtn,e,this.objectRawId,this.likeHash)},this.isLiked=()=>this.likeBtn&&this.likeBtn.classList.contains("active"),this.options=t,this.shareBtn=e.querySelector("._share"),this.commentsBtn=e.querySelector("._comment"),this.likeBtn=e.querySelector("._like"),this.objectRawId=e.dataset.objectRawId,this.likeHash=e.dataset.likeHash;const o=e.dataset.shareOptions||"";this.shareOptions=o&&(0,s.parseJSON)(o),this.initListeners()}}},135617:(e,t,o)=>{o.d(t,{initPhotoBlockInPost:()=>a});var i=o(131735),s=o(428518),n=o(45203),r=o(970978);function a(e,t){const o=e.querySelector(`.${s.PHOTO_CAROUSEL_CLASS}`);if(o)try{if(o.classList.contains("PhotoCarousel--recognize"))return new n.PhotoRecognizeBlock(e);const s={sendAnalytic:t};return new i.PhotoCarouselBlock(e,s)}catch(e){console.error(e),(0,r.logError)(e)}}},9747:(e,t,o)=>{o.d(t,{initFeedRightBlocks:()=>d});var i=o(434788),s=o(785893),n=o(86894),r=o(659397),a=o(869048),l=o(975577),c=o(301951);const d=e=>{e=(0,r.decodeHTMLEntitiesDeep)(e);const t=document.querySelector("#feed_right_blocks_root");(0,c.initReactApp)(t,(0,s.jsxs)(a.AppRootProvider,{children:[(0,s.jsx)(n.Spacing,{size:15}),(0,s.jsx)(l.OwnersListPageBlock,(0,i._)({},e))]}))}},215460:(e,t,o)=>{var i;o.d(t,{BlockTypeIds:()=>i}),function(e){e.YoulaRecommendationsCarousel="block_youla-recommendations-carousel",e.AliExpressRecommendationsCarousel="block_aliexpress-recommendations-carousel",e.PhotoRecognize="tags_suggestions",e.RecommendedNarratives="recommended_narratives",e.BookmarkGame="bookmark_game",e.AchievementGame="achievement_game",e.VideosForYou="videos_for_you",e.VideoPostcard="video_postcard",e.UXPollBlock="uxpoll_block"}(i||(i={}))},718254:(e,t,o)=>{o.d(t,{feedLoadingStats:()=>r});var i=o(11010),s=o(839470),n=o(593568);function r(e){return a.apply(this,arguments)}function a(){return(a=(0,i._)((function*({collect_stats:e,is_skeleton_rendered:t}){if(!e||!(0,s.partConfigEnabled)("feed_web_performance_stats"))return;const o=yield(0,n.getPerformanceStatsTools)({module:"feed"});if(!o)return;const{storePerformanceStats:i,sendStoredPerformanceStats:r,PerformanceStatsEvent:a,AuxiliaryPerformanceStatsEvent:l}=o;i(a.render_content),i({metricName:a.render_content_without_ttfb,basisMetricName:a.render_content,auxiliaryMetricName:l.TTFB}),t?(i(a.render_content_after_skeleton),i({metricName:a.render_content_after_skeleton_without_ttfb,basisMetricName:a.render_content_after_skeleton,auxiliaryMetricName:l.TTFB}),i({metricName:a.render_content_after_skeleton_without_skeleton,basisMetricName:a.render_content_after_skeleton,auxiliaryMetricName:a.render_skeleton})):(i(a.render),i({metricName:a.render_without_ttfb,basisMetricName:a.render,auxiliaryMetricName:l.TTFB})),r()}))).apply(this,arguments)}},941468:(e,t,o)=>{o.d(t,{feedLogFilteredRow:()=>n});var i=o(385376),s=o(290266);function n({filterReason:e,ref:t,row:o,rowsContainer:n,section:r}){var a,l;const c={contentId:null==(a=o.firstElementChild)?void 0:a.id,feedRowsCount:n.childElementCount,filterReason:e,ref:t,rowFlags:(0,s.formatStringValueBooleans)([Boolean(null==(l=o.firstElementChild)?void 0:l.id),Boolean(o.firstElementChild)]),section:r};(0,i.saveStatlogEvents)({name:"feed_pagination_item_filtered",value:c})}},523408:(e,t,o)=>{o.d(t,{shouldFilterPaginatedRow:()=>l});const i=/^post(-?\d+_\d+)$/,s=e=>!!e.id&&i.test(e.id),n=e=>!!e.id&&e.id.startsWith("feedback_row"),r={shouldFilter:!1},a={shouldFilter:!0,filterReason:"empty"};function l({row:e}){const t=e.firstElementChild;return t?function(e){const t=s(e),o=n(e);if(!t&&!o)return r;const i=!!e.id&&null!==document.querySelector(`#${e.id}`);if(!i)return r;return{shouldFilter:!0,filterReason:c({isNotification:o,isPost:t})}}(t):a}function c(e){return e.isNotification?"duplicate_notification":e.isPost?"duplicate_post":"duplicate_unknown"}},42575:(e,t,o)=>{o.d(t,{initCheckValidationPhone:()=>_});var i=o(785893),s=o(973935),n=o(293579),r=o(321850),a=o(872629),l=o(584356),c=o(839470),d=o(506948),u=o(514166);const _=()=>{const e="CheckValidationPhone";(0,n.registerReactApplication)(e,(()=>{const t=(0,n.getReactRootEl)(e);if(t){const e=(0,c.partConfigEnabled)("vkc_cvp_non_intersection")?(0,i.jsx)(d.CheckValidationPhone,{app_id:a.AuthAppId.VK,preventCheck:()=>(0,l.curBox)()}):(0,i.jsx)(u.CheckValidationPhoneFallback,{app_id:a.AuthAppId.VK,isValidModule:!0});s.render(e,t),(0,r.pushNavDestroy)((()=>{s.unmountComponentAtNode(t)}))}}))}},290266:(e,t,o)=>{function i(e){return e.map((e=>e?"1":"0")).join("_")}o.d(t,{formatStringValueBooleans:()=>i})},693982:(e,t,o)=>{function i(e){const t=e.match(/^([a-z_]+)([0-9\-_]+)$/);if(!t)return null;const[,o,i]=t;return{objectType:o,objectId:i}}o.d(t,{getElementLikeButtonCount:()=>a,getElementLikeButtonIcon:()=>c,getElementLikeButtonLabel:()=>u,likePostObjectId:()=>s,likeReplyObjectId:()=>n,parseLikeObjectId:()=>i});const s=e=>`wall${e}`,n=e=>`wall_reply${e}`;var r;const a=e=>null!=(r=null==e?void 0:e.querySelector(".like_button_count, ._like_button_count"))?r:void 0;var l;const c=e=>null!=(l=null==e?void 0:e.querySelector(".like_button_icon, ._like_button_icon"))?l:void 0;var d;const u=e=>null!=(d=e.querySelector(".like_button_label, ._like_button_label"))?d:void 0},234514:(e,t,o)=>{o.d(t,{LikeButtonTypes:()=>i});const i={like:"like",share:"share",views:"views",comment:"comment"}},469943:(e,t,o)=>{function i(e){var t,o;if(null!==(o=t=e)&&"object"==typeof o&&("queue"in t||"key"in t&&"string"==typeof t.key))return e.queue||e.key}o.d(t,{subscriptionObjectStableId:()=>i})},498275:(e,t,o)=>{o.d(t,{friendsRecommGetTrackCode:()=>f,friendsRecommLogClear:()=>u,friendsRecommLogGet:()=>d,friendsRecommLogOnFail:()=>h,friendsRecommLogSave:()=>c,friendsRecommLogSend:()=>_,getRef:()=>l,onViewFriendRecomm:()=>g});var i,s=o(531730),n=o(82161),r=o(363444),a=o(795558);!function(e){e.friends_recomm="friends_recomm"}(i||(i={}));const l=()=>{var e;return"feed"===window.cur.module&&window.Feed?null==(e=window.Feed)?void 0:e.getModuleRef():window.cur.module};function c(e,t=!1){const o=d();o.push(e),s.multiAccountLs.set("friends_recomm",o),_(t)}function d(e=!1,t,o=!1){const i=s.multiAccountLs.get("friends_recomm");let r=Array.isArray(i)?i:[];return t&&(r=r.filter((e=>(o?e[1]!==t:e[1]===t)&&(0,n.inArray)(e[0],["show_user_rec","open_user"])))),e&&(r=r.map((e=>e.join("|")))),r}function u(e){if(e){const t=d(!1,e,!0);t.length?s.multiAccountLs.set("friends_recomm",t):s.multiAccountLs.remove("friends_recomm")}else s.multiAccountLs.remove("friends_recomm")}function _(e=!1){var t,o;!(null==(t=window.cur)?void 0:t.friendsRecommLogIdle)&&(null==window||null==(o=window.curNotifier)?void 0:o.idle_manager)&&(Array.isArray(window.cur.onIdle)||(window.cur.onIdle=[]),Array.isArray(window.cur.onUnidle)||(window.cur.onUnidle=[]),window.cur.friendsRecommLogIdle=()=>{clearTimeout(window.cur.friendsRecommLog)},window.cur.onIdle.push(window.cur.friendsRecommLogIdle),window.cur.onUnidle.push(_)),clearTimeout(window.cur.friendsRecommLog),e?p():window.cur.friendsRecommLog=window.setTimeout(p,1e4)}function p(){if(window.cur.friendsRecommProcess)return;const e=d(!0);e.length&&(window.cur.friendsRecommProcess=!0,u(),r.ajax.post("al_friends.php",{act:"a_recomm_logs",logs:e},{onDone:()=>{delete window.cur.friendsRecommProcess},onFail:()=>(h(e),delete window.cur.friendsRecommProcess,!0)}))}function h(e){let t=d();t=e.map((e=>e.split("|"))).concat(t),s.multiAccountLs.set("friends_recomm",t)}function f(e){let t,o=(0,a.domData)(e,"code");return o||(t=(0,a.gpeByClass)("ui_gallery",e),o=(0,a.domData)(t,"code")),o||""}function g(e,t,o){if(e.viewed||!(0,a.hasClass)(e,"ui_gallery_item"))return;const i=+(0,a.domData)(e,"uid"),s=l(),n=f(e);c(["show_user_rec",i,Date.now(),t,s,o,n]),e.viewed=!0}},420778:(e,t,o)=>{o.d(t,{blockInstanceSetForFeedRowContent:()=>r,feedInitialViewRecommendedGroupsTrigger:()=>n});var i=o(459474);const s="__RecommendedGroups";function n(e,t){const o=e.querySelector(".js-feed_groups_recomm"),n=e.querySelector(".ui_gallery");if(!o||!n)return void console.error(new Error("RecommendedGroups: missing block container for view"),o,n);const r=n.getAttribute("data-code")||"",a=null!=(l=o[s])?l:void 0;var l;if(!a)return void console.error(new Error("RecommendedGroups: missing block instance"),o,n);const c="number"==typeof t?t:void 0;a.viewBlock(r,c);const d=(0,i.uiGetGallery)(n);d&&d.getVisibleItems().forEach((e=>{a.onViewGroup(e[0])})),n.visible=!0}function r(e,t){e[s]=t}},533919:(e,t,o)=>{o.d(t,{highlightModule:()=>d});var i=o(145637),s=o(10645),n=o(438221),r=o(795558),a=o(321850);let l,c;function d(e){const t=document.getElementById(e.module);if(!t||!t.classList.contains("module"))return;window.cur.__narrowBarForceNotFixed=!0;const o=e.speed?e.speed:300;(0,n.scrollToY)((0,r.getXY)(t)[1]-100,o);const d=()=>{l&&(l.hideTT(),(0,n.enableBodyScroll)(),delete window.cur.__narrowBarForceNotFixed,(0,s.updateNarrow)(),e.onClose&&e.onClose())};l=new i.default(t,e.text,{highlight:!0,width:250,offset:[0,-17],side:"bottom",withCloseButton:!0,onBGClick:d,onCloseButtonClick:d}),l.show(),(0,n.disableBodyScroll)(),e.autoCancelDelay&&(c=setTimeout((()=>{d(),c=null}),e.autoCancelDelay),(0,a.pushNavDestroy)((()=>{c&&clearTimeout(c)})))}},687437:(e,t,o)=>{o.d(t,{PROFILE_MEDIA_NARROW_BLOCK_ID:()=>i});const i="profile_media_narrow_block"},898298:(e,t,o)=>{o.d(t,{isIntentPreviewHidden:()=>l,isIntentPreviewInActionStatusBar:()=>a,isIntentPreviewUseCurrent:()=>c,isVariantHidden:()=>n,isVariantInActionStatusBar:()=>s,parsePreviewVariant:()=>u,previewVisibilityIntentForVariant:()=>d,previewVisibilityUseCurrent:()=>r});var i=o(580151);const s=e=>e===i.PreviewVariantActionStatusBar,n=e=>e===i.PreviewVariantHidden,r={kind:"useCurrent"},a=e=>e.kind===i.PreviewVariantActionStatusBar,l=e=>e.kind===i.PreviewVariantHidden,c=e=>"useCurrent"===e.kind,d=e=>e?{kind:e}:r,u=e=>i.PreviewVariants.includes(e)?e:void 0},580151:(e,t,o)=>{o.d(t,{PreviewVariantActionStatusBar:()=>i,PreviewVariantHidden:()=>s,PreviewVariants:()=>n});const i="action_status_bar",s="hidden",n=[i,s]},682951:(e,t,o)=>{o.d(t,{REACTIONS_COUNTS_RESPONSE_FIELD:()=>l,SIZE_128:()=>a,SIZE_32:()=>s,SIZE_40:()=>n,SIZE_96:()=>r,SUPPORTED_OBJECT_TYPES:()=>i,WK_SECTION_PREFIX_REACTIONS:()=>c});const i={wall:"wall",wall_reply:"wall_reply"},s={width:32,height:32},n={width:40,height:40},r={width:96,height:96},a={width:128,height:128},l="reactions_counts",c="reactions"},512637:(e,t,o)=>{o.d(t,{ENABLED_IN_POST_REPLY:()=>s,isDebugEnabled:()=>i.isDebugEnabled});var i=o(457972);const s=!1},403702:(e,t,o)=>{o.d(t,{reactionLogError:()=>n});var i=o(698216),s=o(908088);const n=({error:e})=>{const t=(0,s.getReactionConfig)();var o;const n=null!=(o=null==t?void 0:t.reportJsErrors)&&o;(0,i.reactionLogError)({error:e,reportError:n})}},908088:(e,t,o)=>{o.d(t,{getReactionConfig:()=>f,getReactionSet:()=>p,storageAddSets:()=>_,storageSetConfig:()=>h});var i=o(434788),s=o(659397),n=o(822715),r=o(212368),a=o(403702),l=o(682951),c=o(512637);const d=(0,r.makeSharedState)("reactions-storage",(()=>new Map),{version:0}),u=(0,r.makeSharedState)("reactions-config",(()=>({config:void 0})),{version:0}),_=e=>{(0,c.isDebugEnabled)()&&console.log(e),Object.entries(e).forEach((([e,t])=>{const o=(0,n.validateReactionSetPayloaditems)(t,e);if(o)return void(0,a.reactionLogError)({error:o.error});const r=t.map((e=>(0,i._)({},e,{title:(0,s.decodeHTMLEntities)(e.title)})));d().set(e,(0,n.prepareReactionMenuSet)(e,r,{imageMenuSize:l.SIZE_96,imagePreviewSize:l.SIZE_32,imageStoryPanelSize:l.SIZE_128,imageStoryPreviewSize:l.SIZE_40}))}))},p=e=>{const t=d().get(e);if(t)return t;{const t=new Error(`Reaction set not found: ${e}`);(0,a.reactionLogError)({error:t})}},h=e=>{(0,c.isDebugEnabled)()&&console.log(e);const t=(0,n.parseReactionMenuConfig)(e);t?u().config=t:console.warn("Reactions: invalid menu config passed",e)},f=()=>{var e;return null==(e=u())?void 0:e.config}},84852:(e,t,o)=>{o.d(t,{getReactionsButtonPostTemplate:()=>u,getReactionsButtonReplyTemplate:()=>_,likeDataReactionsFields:()=>f});var i=o(839470),s=o(795558),n=o(682951),r=o(908088),a=o(822715),l=o(192441);const c=(e,t)=>{var o;const i=null==(o=(e=>{try{const t=JSON.parse(e);if(null!==t&&"object"!=typeof t)return;return t}catch(e){return}})(e))?void 0:o.set_id,n="string"==typeof i?i:void 0;if(!t||!n)return;const l=(0,r.getReactionSet)(n);return l?{likeClassName:"like_btn--hidden PostBottomAction--hidden",template:(0,s.rs)(t,{reactions_button_title:(0,a.getDefaultReactionTitle)(l)||"",reactions_set_id:n})}:void 0},d=(e,t)=>t.length>e,u=(e,t)=>{var o;const i=null==t||null==(o=t.wallTpl)?void 0:o.post_likes_reactions,s=d(14,e)?e[14]:void 0;if("string"==typeof s)return c(s,i)},_=(e,t)=>{var o;const s=null==t||null==(o=t.wallTpl)?void 0:o.reply_likes_reactions;if(!(0,i.partConfigEnabled)("reactions_enabled_post_replies"))return;const n=d(14,e)?e[14]:void 0;return"string"==typeof n?c(n,s):void 0},p=e=>{let t=JSON.parse(e);if(null===t||"object"==typeof t||Array.isArray(t)){if(Array.isArray(t)){t=(0,l.reactionCountsBrandWrap)((o=t,Object.assign({},o)))}var o;return t}},h=e=>{const t=d(5,e)?e[5]:void 0;if("string"!=typeof t)return;const o=(e=>{const t=e.indexOf(";"),o=e.substr(0,t),i=e.substr(t+1);if("1"===o)return p(i)})(t);return o?{counts:o}:void 0},f=e=>{const t=h(e);return{[n.REACTIONS_COUNTS_RESPONSE_FIELD]:null==t?void 0:t.counts}}},109454:(e,t,o)=>{o.d(t,{isReactionsFullUpdatePayload:()=>r,reactionsCountsOnlyUpdatePayload:()=>a,reactionsCountsUpdatePayload:()=>n});var i=o(434788),s=o(900641);const n=(e,t)=>(0,i._)({kind:s.PayloadKindFull},e,{reactionIdState:{reactionId:t.id}}),r=e=>e.kind===s.PayloadKindFull,a=e=>(0,i._)({kind:s.PayloadKindCountsOnly},e)},900641:(e,t,o)=>{o.d(t,{PayloadKindCountsOnly:()=>i,PayloadKindFull:()=>s});const i="counts_only",s="counts_with_current_reaction"},999237:(e,t,o)=>{o.d(t,{triggerReactionsUpdate:()=>a});var i=o(693982),s=o(682951),n=o(505426),r=o(109454);const a=(e,t,o,a)=>{const l=(0,i.parseLikeObjectId)(e);l&&l.objectType===s.SUPPORTED_OBJECT_TYPES.wall&&l.objectId?(0,n.emitEvent)(n.WallDataEvents.post_reactions_counts_update,function(e,t,o,i){const s={counts:e,isFromWkLayer:null==t?void 0:t.isFromWkLayer,isPrimaryLikeButtonClick:null==t?void 0:t.isPrimaryLikeButtonClick,isQueueUpdate:null==t?void 0:t.isQueueUpdate,isUserAction:t.isUserAction,postFullId:o.objectId,previewVisibility:t.previewVisibility,reactionIdState:i?{reactionId:i.id}:void 0,suggestSubscribe:t.suggestSubscribe};return i?(0,r.reactionsCountsUpdatePayload)(s,i):(0,r.reactionsCountsOnlyUpdatePayload)(s)}(t,a,l,o)):l&&l.objectType===s.SUPPORTED_OBJECT_TYPES.wall_reply&&l.objectId?(0,n.emitEvent)(n.WallDataEvents.reply_reactions_counts_update,{counts:t,replyFullId:l.objectId,reactionIdState:o?{reactionId:o.id}:void 0}):console.warn("Unsupported reactions object update",e)}},991243:(e,t,o)=>{o.d(t,{getBoxLayerWrap:()=>d,getLangCode:()=>f,getPurchaseResult:()=>p,hideLoader:()=>_,showLoader:()=>u,updateStickersFromQueue:()=>h});var i=o(221780),s=o(29271),n=o(68003),r=o(795558),a=o(584356),l=o(899033);function c(){return document.querySelector("#box_loader")}function d(){return document.querySelector("#box_layer_wrap")}function u(){const e=c();(0,a.boxRefreshCoords)(e),(0,r.show)(e),(0,r.show)(d())}function _(){(0,r.hide)(c())}function p(e){const t=new l.ProductsByType(e.items.filter((e=>!e.error)).map((e=>e.product))),o=t.getPack(),n=t.getStyles();if(o)return n.length?(0,i.langStr)(s.getLang("purchases_stickers_purchase_result_pack_and_styles",n.length),"pack_title",o.title,"n",n.length):(0,i.langStr)(s.getLang("purchases_stickers_purchase_result_pack"),"title",o.title);if(n.length)switch(n.length){case 1:return(0,i.langStr)(s.getLang("purchases_stickers_purchase_result_1_style"),"title",n[0].title);case 2:return(0,i.langStr)(s.getLang("purchases_stickers_purchase_result_2_styles"),"title1",n[0].title,"title2",n[1].title);case 3:return(0,i.langStr)(s.getLang("purchases_stickers_purchase_result_3_styles"),"title1",n[0].title,"title2",n[1].title,"title3",n[2].title);case 4:return(0,i.langStr)(s.getLang("purchases_stickers_purchase_result_3_styles_and_1_more"),"title1",n[0].title,"title2",n[1].title,"title3",n[2].title);default:const e=n.length-3;return(0,i.langStr)(s.getLang("purchases_stickers_purchase_result_3_styles_and_n_more",e),"title1",n[0].title,"title2",n[1].title,"title3",n[2].title,"n",e)}return null}function h(e){!function(e){const t=n.colorScheme.isDarkScheme()?"data-src-dark":"data-src-light";e.querySelectorAll(`.sticker_img[${t}]`).forEach((e=>{const o=e.getAttribute(t);o&&(e.src=o)}))}(e)}const f=()=>window.vk.lang||"ru"},880660:(e,t,o)=>{o.d(t,{highlightNarrativeBlock:()=>g,prepareStoriesForPublishing:()=>h,updateNarrativeBlock:()=>f,updateNarrativeSnippetsFromQueueByPost:()=>w});var i=o(795558),s=o(584356),n=o(533919),r=o(29271),a=o(664988),l=o(687437),c=o(964262),d=o(970978),u=o(839470),_=o(931917);const p="NarrativeSnippet";function h(e){return e.map((e=>e.id)).join(",")}function f(e=!1){const t=(0,a.intval)(window.cur.oid);if(window.cur.narrativeBlock)window.ajax.post("al_stories.php",{act:"get_narrative_block",owner_id:t},{onDone:e=>{const t=(0,a.intval)(window.cur.oid),o=document.getElementById(`narratives_module${t}_wrapper`);if(o)if(e)(0,i.domReplaceEl)(o,e),window.cur.narrativeBlock&&window.cur.narrativeBlock.destroy(),window.NarrativeBlock&&(window.cur.narrativeBlock=new window.NarrativeBlock);else{const e=o.parentElement;(null==e?void 0:e.children.length)&&(null==e?void 0:e.children.length)>1?o.remove():null==e||e.remove(),window.cur.narrativeBlock&&window.cur.narrativeBlock.destroy(),delete window.cur.narrativeBlock}(0,c.removeStoryList)(`narratives${t}`)}});else if(_.Ranges.isUserId(t)&&"profile"===window.cur.module){const e=document.getElementById(l.PROFILE_MEDIA_NARROW_BLOCK_ID),o=!e;window.ajax.post("al_stories.php",{act:"get_narrative_block",owner_id:t,need_wrap_block:(0,a.intval)(o)},{onDone:o=>{if(e)e.insertAdjacentHTML("afterbegin",o);else{const e=document.getElementById("narrow_column");if(!e)return;e.insertAdjacentHTML("beforeend",o)}window.cur.narrativeBlock&&window.cur.narrativeBlock.destroy(),window.NarrativeBlock&&(window.cur.narrativeBlock=new window.NarrativeBlock,window.cur.narrativeBlock.showOnboardTooltipIfNeeded()),(0,c.removeStoryList)(`narratives${t}`)}})}else e&&function(e){window.boxQueue.hideAll();const t=document.querySelector("#box_layer_wrap"),o=document.querySelector("#box_loader");window.nav.reload({onDone:()=>{e&&e()},showProgress:()=>{(0,i.show)(t),(0,i.show)(o),(0,s.boxRefreshCoords)(o)},hideProgress:()=>{(0,i.hide)(t),(0,i.hide)(o)}})}((()=>{window.cur.needNarrativeOnboard=!0}))}function g(e){if(!e)return;const t=`narratives_module${window.vk.id}`;(0,n.highlightModule)({module:t,text:r.getLang("stories_narrative_block_onboarding_text"),onClose:()=>{delete window.cur.needNarrativeOnboard,window.ajax.post("al_index.php",{act:"hide_feature_tt",hash:e,type:"profile_narrative"})},autoCancelDelay:1e4,speed:600})}function w(e){if(!window.vk.id)return;if(!(0,u.partConfigEnabled)("update_private_snippets_by_queue"))return;const t=Array.from(e.querySelectorAll(`.${p}`));if(!t.length)return;const o=[];t.forEach((e=>{if(!window.vk.id||!e.dataset.needUpdate)return;const t=e.dataset.narrativeRawId;t&&o.push({narrative_raw_id:t,snippet_type:e.dataset.snippetType,from:e.dataset.from})})),o.length&&window.ajax.post("al_stories.php",{act:"get_narrative_snippets",narrative_snippets:JSON.stringify(o)},{onDone:e=>{t.forEach((t=>{t.dataset.narrativeRawId&&e[t.dataset.narrativeRawId]&&(t.outerHTML=e[t.dataset.narrativeRawId])}))},onFail:()=>((0,d.logError)(new Error("Fail: updateNarrativeSnippetFromQueueByPost")),!0)})}},964262:(e,t,o)=>{o.d(t,{createUserStackMaskIfNeeded:()=>f,fetchDiscover:()=>_,getStoryBlockKey:()=>h,getStoryList:()=>c,getVolume:()=>a,isDiscoverLoading:()=>p,isNewDesignEnabled:()=>g,preloadDiscoverList:()=>u,removeStoryList:()=>d,setVolume:()=>l});var i=o(517366),s=o(795558),n=o(839470),r=o(321850);function a(){const e=window.ls.get("video_volume");return"number"==typeof e?Math.min(1,Math.max(0,e)):1}function l(e){window.ls.set("video_volume",e)}function c(e){return window.cur[`stories_list_${e}`]}function d(e){delete window.cur[`stories_list_${e}`]}function u(e=!1){if(window.cur.storiesDiscoverFetchingPromise)return window.cur.storiesDiscoverFetchingPromise;let t,o;const s=c(i.StoryListName.feed);return s&&(o=s.find((e=>e.type===i.StoryBlockType.discover)),o&&(t=o.track_code)),window.cur.storiesDiscoverFetchingPromise=_("",t,e).then((([e,t])=>(o&&(o.grouped=e,o.next_from=t),e))).finally((()=>{delete window.cur.storiesDiscoverFetchingPromise})),window.cur.storiesDiscoverFetchingPromise}function _(e="",t="",o=!1,i=15){return new Promise(((s,n)=>{window.ajax.post("al_stories.php",{act:"get_discover",start_from:e,count:i,track_code:t},{loader:o,onDone:(e,t)=>{s([e,t])},onFail:e=>(n(e),!0)})}))}function p(){return Boolean(window.cur.storiesDiscoverFetchingPromise)}function h(e){var t,o,i;return(null==e||null==(t=e.author)?void 0:t.id)&&(null==e||null==(o=e.narrative)?void 0:o.id)?`${e.author.id}narrative${null==(i=e.narrative)?void 0:i.id}`:`${e.id}`}function f(){const e="users_stack_stories_mask";let t=document.getElementById(e);t||(t=(0,s.se)(`\n        <svg width="0" height="0">\n          <defs>\n            <clipPath id="${e}">\n              <path transform="translate(1.5 0)" d="M1.20772 8C1.20772 6.32671 0.768742 4.75626 0 3.39821C1.44342 1.34278 3.8277 0 6.52463 0C10.9293 0 14.5 3.58172 14.5 8C14.5 12.4183 10.9293 16 6.52463 16C3.8277 16 1.44342 14.6572 0 12.6018C0.768742 11.2437 1.20772 9.6733 1.20772 8Z"></path>\n            </clipPath>\n          </defs>  \n        </svg>  \n      `),t&&(document.body.appendChild(t),(0,r.pushNavDestroy)((()=>{null==t||t.remove()}))))}function g(){return(0,n.partConfigEnabled)("story_reactions_sending_feature_web")}},749721:(e,t,o)=>{o.d(t,{clickUXPollsBlock:()=>n,viewUXPollsBlock:()=>s});var i=o(504867);function s(e){(0,i.statlogsValueEvent)("uxpolls_view",e)}function n(e){(0,i.statlogsValueEvent)("uxpolls_click",e)}},505426:(e,t,o)=>{o.d(t,{WallDataEvents:()=>r,emitEvent:()=>u,registerNonGlobalNonUniqueListener:()=>d,registerUniqueListener:()=>c});var i=o(434788),s=o(980602),n=o(212368);const r={post_reactions_counts_update:"wall/post_reactions_counts_update",reply_reactions_counts_update:"wall/reply_reactions_counts_update",post_subscribe_update:"wall/post_subscribe_update"},a=(0,n.makeSharedState)("wall-data",(()=>({emitter:new s.default,keyedListeners:Object.create(null)})),{version:0}),l=(e,t,o)=>{var s,n;const r=a(),l=null==(s=r.keyedListeners)||null==(n=s[e])?void 0:n[t];return l&&r.emitter.removeListener(e,l),((e,t,o)=>{const s=a();return s.emitter.addListener(e,o),s.keyedListeners[e]=(0,i._)({},s.keyedListeners[e],{[t]:o}),()=>{var i,n;s.emitter.removeListener(e,o),(null==(i=s.keyedListeners[e])?void 0:i[t])===o&&(null==(n=s.keyedListeners[e])||delete n[t])}})(e,t,o)},c=(e,t,o)=>l(t,e,o),d=(e,t)=>((e,t)=>{const o=a();return o.emitter.addListener(e,t),()=>{o.emitter.removeListener(e,t)}})(e,t),u=(e,t)=>{a().emitter.emit(e,t)}},228411:(e,t,o)=>{o.d(t,{updateAriaLabelCounter:()=>n});var i=o(29271),s=o(234514);const n=(e,t,o)=>{if(!("number"==typeof t&&e instanceof HTMLElement&&e.classList.contains("PostBottomAction")))return;const n=(e=>{let t;switch(e){case s.LikeButtonTypes.comment:t=i.getLang("likes_comments_N_aria_short","raw");break;case s.LikeButtonTypes.like:t=i.getLang("likes_likes_N_aria_short","raw");break;case s.LikeButtonTypes.share:t=i.getLang("likes_shares_N_aria_short","raw")}return t})(o);if(!n)return;const r=(0,i.langNumeric)(t,n,!1);e.setAttribute("aria-label",r)}},198186:(e,t,o)=>{o.d(t,{highlightUpdatedPost:()=>s,highlightUpdatedPostContent:()=>n});var i=o(75272);const s=e=>{(0,i.triggerAnimationClass)(e,"post_highlight_updated",3e3)},n=e=>{(0,i.triggerAnimationClass)(e,"post_highlight_updated_content",3e3)}},709291:(e,t,o)=>{o.d(t,{floatingButtonCollapseAllRepliesHide:()=>n,floatingButtonCollapseAllRepliesShow:()=>r,highlightUpdatedReply:()=>c,highlightUpdatedReplyContent:()=>d,loadRepliesLinkIsVisible:()=>l,loadRepliesLinkShow:()=>a});var i=o(75272),s=o(795558);const n=e=>{e instanceof HTMLElement&&e.classList.contains("replies_side")&&e.classList.add("replies_side_hidden")},r=e=>{e instanceof HTMLElement&&e.classList.contains("replies_side")&&e.classList.remove("replies_side_hidden")},a=e=>{e instanceof HTMLElement&&e.classList.contains("replies_next")&&e.classList.add("replies_next_shown")},l=e=>!!(e instanceof HTMLElement&&e.classList.contains("replies_next"))&&(e.classList.contains("replies_next_shown")||(0,s.isVisible)(e)),c=e=>{(0,i.triggerAnimationClass)(e,"reply_highlight_updated",3e3)},d=e=>{(0,i.triggerAnimationClass)(e,"reply_highlight_updated_content",3e3)}},630260:(e,t,o)=>{o.d(t,{Feed:()=>se});var i=o(434788),s=o(962983),n=o(839470),r=o(9480),a=o(301230),l=o(718254),c=o(577552),d=o(652027),u=o(29271),_=o(643897),p=o(10645),h=o(849222),f=o(95432),g=o(584356),w=o(562112),m=o(953908),v=o(438221),b=o(459474),k=o(795558),y=o(719645),C=o(96756),S=o(725296),E=o(514986),T=o(320422),P=o(215066),L=o(82161),B=o(469943),R=o(498275),I=o(420778),A=o(84852),O=o(54413),x=o(854099),N=o(936134),D=o(664988),M=o(120425),H=o(198186),j=o(709291),V=o(944615),F=o(215460),U=o(385295),q=o(135617),G=o(862736),W=o(880660),Y=o(90692),z=o(941468),$=o(523408),Q=o(991243),K=o(137363),X=o(9747),J=o(749721),Z=o(42575),ee=o(931917),te=o(428518),oe=o(531232),ie=o(321850);const se={sectionUpdateExceptions:["search","notifications","photos_search","mentions","articles","articles_search","likes","recommended","live","topics"],blockHideReason:function e(t,o){if(e.progress)return!1;e.progress=!0;let i="block_"+t,s=(0,k.ge)(i);delete cur.feedEntriesHTML[i],ajax.post("al_feed.php",{act:"a_block_hide_reason",block_id:t,reason:0|o,hash:(0,k.attr)(s,"data-hash"),ref:se.getModuleRef(),pos:(0,k.attr)(s,"data-pos")},{onDone:function(t){e.progress=!1,t?(0,k.val)(s,t):(0,k.hide)(s)},hideProgress:function(){e.progress=!1}})},blockRestore:function(e){let t="block_"+e,o=(0,k.ge)(t);cur.feedEntriesHTML[t]&&(0,k.val)(t,cur.feedEntriesHTML[t]),ajax.post("al_feed.php",{act:"a_block_restore",block_id:e,hash:(0,k.attr)(o,"data-hash"),ref:se.getModuleRef(),pos:(0,k.attr)(o,"data-pos")})},blockHide:function(e,t){if((0,S.actionsMenuItemLocked)(t))return;(0,S.lockActionsMenuItem)(t);let o="block_"+e,i=(0,k.ge)(o),s=(0,k.geByClass1)("ui_actions_menu_wrap",i);ajax.post("al_feed.php",{act:"a_block_hide",block_id:e,hash:(0,k.attr)(i,"data-hash"),ref:se.getModuleRef(),pos:(0,k.attr)(i,"data-pos")},{onDone:function(e){uiActionsMenu.toggle(s,!1),cur.feedEntriesHTML[o]=(0,k.val)(i),(0,k.val)(i,e)},hideProgress:S.unlockActionsMenuItem.pbind(t)})},videoRecomsBlockHideCancel:function(){ajax.post("/al_feed.php",{act:"a_video_recom_hide_cancel"}),se.restorePost("video_recoms")},videoRecomsBlockHideReason:function(e,t){(0,k.re)((0,k.geByClass1)("feed_rb_video_reason_wrap")),(0,k.show)((0,k.geByClass1)("feed_rb_video_reason_thankyou")),ajax.post("/al_feed.php",{act:"a_video_recom_hide_reason",reason:t,reason_hash:e})},expandVideosPost:function(e,t){let o=(0,k.geByClass1)("page_post_sized_thumbs",(0,k.domPN)(t)),i=0;(0,L.each)(o.children,(function(){if(!(0,k.isVisible)(this)&&((0,k.show)(this),i++,i>5))return!1})),(0,k.toggle)(t,!(0,k.isVisible)(o.children[o.children.length-1]))},update:function(e){if(cur.feedUpdateLoading)return;if(window.Notifier&&cur.add_queues&&cur.add_queues.length&&(cur.add_queues.forEach((function(e){Notifier.addKey(e,se.updated)})),"news"!=cur.section))return;if("feed"!==cur.module||"top"==cur.subsection||(0,L.inArray)(cur.section,se.sectionUpdateExceptions)||cur.isDisabledFeedAutoupdate)return;let t=Math.random();if("news"!=cur.section&&"comments"!=cur.section&&t>.3||"news"==cur.section&&(e||t>.05))return;cur.feedUpdateLoading=!0;let o=se.getSectionParams(cur.section);(0,L.extend)(o,cur.navParams),ajax.post("al_feed.php?au_"+cur.section,(0,L.extend)(o,{timestamp:cur.timestamp,posted:e?1:"",queue:cur.add_feed_queue?1:0}),{onDone:function(t,o,i){if(cur.feedUpdateLoading=!1,1==e&&(!o||-1==o.indexOf(vk.id+"")))return void setTimeout(se.update.pbind(2),2e3);if("feed"!==cur.module||t.section!=cur.section||t.timestamp<cur.timestamp||i<cur.timestamp)return;(0,P.statlogsValueEvent)("feed_check_update",!!o),t.count+=cur.count;let s,n,r,a,l=cur.rowsCont,c=(0,k.ce)("div"),d=0;if("news"==cur.section){if(a=(0,v.scrollGetY)(),o){for(c.innerHTML=o;c.lastChild;)s=c.lastChild,l.insertBefore(s,l.firstChild),se.onPostLoaded(s,!0);(0,L.each)((0,k.geByClass)("ts"+i,l),(function(e,t){d+=this.offsetHeight;const o=null==t||null==t.querySelector?void 0:t.querySelector(".post");o&&(0,H.highlightUpdatedPost)(o),cur.feedUnreadCount++}))}d&&a>100&&(0,v.scrollToY)(a+d,0,!1,!0)}else if(o)for(c.innerHTML=o;s=c.lastChild;)if("DIV"==s.tagName)if("podcasts_recommended_block"!==s.id)if(r=s.firstChild.id.substr(4),r&&cur.wallLayer==r)c.removeChild(s);else if(n=(0,k.ge)("post"+r)){if(!(0,k.hasClass)(n.parentNode,"feed_row"))return;const e=(0,k.ge)("replies"+r);let t=e.nextSibling,o=0;if((0,L.each)([].slice.call((0,k.geByClass)("reply",s,"div")),(function(){(0,k.ge)(this.id)||((0,k.addClass)(this,"new_reply"),e.appendChild(this),o++)})),o){let i=n.parentNode.offsetHeight,s=(0,k.geByClass)("new_reply",e,"div").length;t&&"replies_open"==t.className||(t=(0,k.ce)("div",{className:"replies_open",onclick:Wall.openNewComments.pbind(r),role:"button",tabIndex:0}),e.parentNode.insertBefore(t,e.nextSibling)),t.innerHTML=u.getLang("wall_x_new_replies_more",Math.min(100,s)),t.newCnt=s;let a=(0,v.scrollGetY)(),c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=(0,k.getXY)(t)[1],_=n.parentNode.offsetHeight;i=_-i,(0,L.inArray)(r,cur.feedUnread)||cur.feedUnread.unshift(r),!cur.idleManager.isIdle&&d>a+100&&d<a+c+100?(l.insertBefore((0,k.ge)("post_ph"+r)||(0,k.ce)("div",{id:"post_ph"+r}),l.firstChild),(0,L.inArray)(r,cur.feedToSort)||cur.feedToSort.push(r)):((0,k.re)(n.parentNode),l.insertBefore(n.parentNode,l.firstChild),d>a+c+100&&(i=_),i&&(0,v.scrollToY)((0,v.scrollGetY)()+i,0,!1,!0)),cur.feedUnreadCount+=o}c.removeChild(s)}else a=(0,v.scrollGetY)(),l.insertBefore(s,l.firstChild),se.onPostLoaded(s,!0),d=s.offsetHeight,a>100&&(0,v.scrollToY)(a+d,0,!1,!0);else c.removeChild(s);else c.removeChild(s);se.applyOptions(t),se.updateTitle()},onFail:function(){return cur.feedUpdateLoading=!1,!1},showProgress:function(){cur.feedUpdateLoading=!0},hideProgress:function(){cur.feedUpdateLoading=!1}})},getNewQKey:function(e){let t={act:"a_get_key",only_update:cur.add_feed_queue?1:0,need_ignore:(0,D.isArray)(cur.ignore_owners)?0:1},o={onDone:function(o,i,n){if(cur.section!=s)return;if(cur.add_feed_queue=n,o)cur.add_queues=o,setTimeout(se.update.pbind(0),0);else if(!t.only_update){let t=i;return void(cur.timestamp=(t||(0,D.vkNow)()/1e3)-e)}(0,D.isArray)(i)&&(cur.ignore_owners=i)},local:1},s=cur.section;ajax.post("al_feed.php",(0,i._)({},se.getSectionParams(cur.section),t,{queue:1}),o)},updated:function(e,t){cur.queueTO=cur.queueTO||(0,D.irand)(0,5e3),setTimeout(se.handleQueueEvent.pbind(e,t),cur.queueTO)},handleQueueEvent:function(e,t){if("search"!=cur.section&&"news"!=cur.section&&cur.section||!(0,D.isArray)(cur.add_queues))return;const o=cur.add_queues.find((t=>(0,B.subscriptionObjectStableId)(t)===e));if(!o)return;if(t.failed){cur.add_queues=!1,cur.add_feed_queue=null;let e=curNotifier.error_timeout||1;return clearTimeout(cur.lp_error_to),void(cur.lp_error_to=setTimeout(se.getNewQKey.bind(se).pbind(e),1e3*e))}if(!(0,D.isArray)(t.events)||!t.events.length)return;o.ts=t.ts,t.key&&(o.key=t.key);let i=(0,v.scrollGetY)(),s=0;(0,L.each)(t.events,(function(){if((0,D.isObject)(this))return Wall.processQueueEvent(this);s+=se.pushEvent(this.split("<!>"),i+(0,k.getSize)("page_header_cont")[1])}));let n=(0,v.scrollGetY)();s&&Math.abs(i-n)<100&&(cur.leftMenuDelta=s,(0,v.scrollToY)(n+s,0,!1,!0)),se.updateTitle(),cur.gifAutoplayScrollHandler&&cur.gifAutoplayScrollHandler(),cur.videoAutoplayScrollHandler&&cur.videoAutoplayScrollHandler()},needScrollPost:function(e,t){return e+80>(0,k.getXY)(t)[1]||cur.storyLayer||window.mvcur&&mvcur.mvShown||window.pvcur&&cur.pvShown},pushEvent:function(e,t){let o=e[0],s=e[1],n=e[2],a=(0,k.ge)("post"+n),l=cur.section,c="search"!=l?(0,L.intval)(e.pop()):0,_=0,p=function(e){return(0,L.intval)((0,k.getStyle)((0,k.domByClass)(e,"page_block"),"marginTop"))||(0,L.intval)((0,k.getStyle)((0,k.domByClass)((0,k.domNS)(e),"page_block"),"marginTop"))||15};if(!cur.options||o!=cur.options.qversion)return 0;switch((Wall.isArchiveWall()?"archive_post"===s:"reveal_post"===s)&&(s="res_post"),(Wall.isArchiveWall()?"reveal_post"===s:"archive_post"===s)&&(s="del_post"),s){case"new_post":{if(a)break;let o=K.GroupAdminLevel.USER;if((0,L.intval)(e[11])&&(0,L.intval)(e[11])!=vk.id)return ajax.post("al_feed.php",{act:"a_need_own_reply",oid:(0,L.intval)(e[11])},{onDone:function(o){o&&(e[11]=0,se.pushEvent(e,t))}}),0;if("search"!=l){let t=n.split("_")[0];e[8]=(0,L.intval)(e[8])>0&&4==(4&c)?"1":"0",ee.Ranges.isGroupId(t)&&(o=8&c?K.GroupAdminLevel.EDITOR:2&c?K.GroupAdminLevel.MODERATOR:K.GroupAdminLevel.USER)}"search"==l&&(0,P.statlogsValueEvent)("feed_switch",0,"search_update",cur.options.q&&"#"==cur.options.q.charAt(0)?"hashtag":"");let i=cur.rowsCont,s=i.childNodes,d=Wall.getNewPostHTML(e,o,se.feedPostRepl);if(!d)break;let h,f,g,w,m,v,b=e[12],y="search"!=l&&(window._wf<=0||(0,k.hasClass)(cur.feedEls.wrap,"feed_has_new")||se.needScrollPost(t,i)),C=cur.storyLayer;C&&(y=!0);let S=!1,E=d;if(y&&(d=Wall.updatePostImages(d)),b){if(cur.ignore_owners.length&&(0,L.inArray)((0,L.intval)(b),cur.ignore_owners))break;if(f=(0,k.geByClass1)("feed_reposts_wrap"+b,i,"div"))g=(0,k.geByClass1)("feed_reposts_first",f,"div").firstChild,w=(0,k.geByClass1)("feed_reposts_group",f,"div"),m=(0,k.geByClass1)("feed_reposts_more_link",f),se.needScrollPost(t,g)&&(_-=g.offsetHeight+p(g)),g.parentNode.replaceChild(h=(0,k.se)(E),g),w.insertBefore(g,w.firstChild),(0,k.isVisible)(w)||x.FlatButton.setLabel(m,u.getLang("news_show_X_reposts",w.childNodes.length)),f=f.parentNode,i.firstChild!=f&&i.insertBefore(f,i.firstChild),se.needScrollPost(t,f)&&(_+=f.offsetHeight+p(f)),f.bits=0;else if((v=(0,k.geByClass)("feed_repost"+b,i,"div"))&&v.length){d=(0,k.rs)(cur.wallTpl.grouped_posts,{place:b,random:(0,D.irand)(1e8,2e8),first:d,other:"",label:u.getLang("news_show_X_reposts",v.length)});let e=(0,k.se)('<div class="feed_row'+(y?"_unshown":"")+'">'+d+"</div>");i.insertBefore(e,i.firstChild),!y&&se.needScrollPost(t,e)&&(_+=e.offsetHeight+p(e)),S=!0,f=e.firstChild,h=(0,k.geByClass1)("feed_reposts_first",f,"div"),w=(0,k.geByClass1)("feed_reposts_group",f,"div"),(0,L.each)((0,L.clone)(v),(function(){se.needScrollPost(t,this)&&(_-=this.offsetHeight+p(this)),(0,k.re)(this.parentNode),w.appendChild(this.firstChild)}))}else h=(0,k.se)('<div class="feed_row'+(y?"_unshown":"")+'"><div class="feed_repost'+b+'">'+d+"</div></div>"),i.insertBefore(h,i.firstChild),S=!0,!y&&se.needScrollPost(t,h)&&(_+=h.offsetHeight+p(h))}else h=(0,k.se)('<div class="feed_row'+(y?"_unshown":"")+'">'+d+"</div>"),i.insertBefore(h,i.firstChild),S=!0,!y&&se.needScrollPost(t,h)&&(_+=h.offsetHeight+p(h));const T=(0,k.geByClass1)("post",h);0==e[8]&&(0,k.addClass)(T,"closed_comments"),cur.deepRepliesActive&&(0,k.addClass)(T,"deep_active"),y&&S&&(cur.newPostsCount=cur.newPostsCount?cur.newPostsCount+1:1,cur.feedEls.newPosts.innerHTML=u.getLang("news_new_posts",cur.newPostsCount),(0,k.addClass)(cur.feedEls.wrap,"feed_has_new"),1==cur.newPostsCount&&se.needScrollPost(t,cur.feedEls.newPosts)&&!C&&(_+=(0,k.getSize)(cur.feedEls.newPosts)[1])),r.AudioUtils.updateQueueReceivedPost(h),(0,W.updateNarrativeSnippetsFromQueueByPost)(h),(0,Y.updateArticleSnippetsFromQueueByPost)(h),cur.feedUnreadCount++,"search"!=l&&T&&(0,H.highlightUpdatedPost)(T),s.length>300?i.removeChild(s[300]):s.length<=1&&(0,k.removeClass)(cur.feedEls.wrap,"feed_is_empty"),Wall.updateMentionsIndex();break}case"new_post_reply":{if(a)break;const o=cur.rowsCont,i=o.childNodes,s=Wall.getNewPostHTML(e,!1,se.feedPostRepl);if(!s)break;const n=(0,k.se)('<div class="feed_row">'+s+"</div>");o.insertBefore(n,o.firstChild),se.needScrollPost(t,n)&&(_+=n.offsetHeight+p(n)),(0,W.updateNarrativeSnippetsFromQueueByPost)(n),(0,Y.updateArticleSnippetsFromQueueByPost)(n),(0,Q.updateStickersFromQueue)(n),cur.feedUnreadCount++,i.length>300?o.removeChild(i[300]):i.length<=1&&(0,k.removeClass)(cur.feedEls.wrap,"feed_is_empty");break}case"edit_post":{const o=(0,k.ge)("wpt"+n);let i;if(!(0,k.isVisible)(a)||!o)break;let s=(0,k.geByClass1)("wall_post_more",o);s&&(s=(0,k.isVisible)((0,k.domNS)(s))),(i=se.needScrollPost(t,o))&&(_-=o.offsetHeight);let r=(0,k.rs)(e[3],{poll_hash:cur.wallTpl.poll_hash});const l=(0,k.ge)("post"+n);l&&!(0,k.isVisible)(l.parentNode)&&(r=Wall.updatePostImages(r)),(0,k.val)(o,r),s&&(s=(0,k.geByClass1)("wall_post_more",o),s&&s.onclick()),i&&(_+=o.offsetHeight),(0,W.updateNarrativeSnippetsFromQueueByPost)(o),(0,Y.updateArticleSnippetsFromQueueByPost)(o),(0,H.highlightUpdatedPostContent)(o),window.Wall&&Wall.updatePostAuthorData(n);break}case"edit_reply":{let t=e[3];const o=(0,k.ge)("wpt"+t);if(!(0,k.isVisible)("post"+t)||!o)break;let i=(0,k.geByClass1)("wall_reply_more",o);i&&(i=(0,k.isVisible)((0,k.domNS)(i)));let s=e[4];(0,k.val)(o,s),i&&(i=(0,k.geByClass1)("wall_reply_more",o),i&&i.onclick()),(0,W.updateNarrativeSnippetsFromQueueByPost)(o),(0,Y.updateArticleSnippetsFromQueueByPost)(o),(0,Q.updateStickersFromQueue)(o),(0,j.highlightUpdatedReplyContent)(o);break}case"post_parsed_link":{if(!a)break;let t=(0,k.geByClass1)("wall_postlink_preview_btn_disabled",a);if(!t)break;let o=e[3];if("1"===o)(0,k.removeClass)(t,"wall_postlink_preview_btn_disabled");else if("0"===o)(0,k.re)(t);else if(o){(0,k.removeClass)(t,"wall_postlink_preview_btn_disabled");let o=(0,k.geByClass1)("flat_button",t);o&&(o.setAttribute("href",e[3]),o.removeAttribute("onclick"))}break}case"del_post":if(a){let e=(0,k.domClosest)("feed_row",a)||(0,k.domClosest)("feed_row_unshown",a)||a;cur.wallMyDeleted[n]||(se.needScrollPost(t,a)&&(_-=a.offsetHeight+p(a)),(0,d.revertLastInlineVideo)(a),(0,k.re)(e)),cur.options.offset--,(0,k.hasClass)(cur.feedEls.wrap,"feed_has_new")&&!(0,k.isVisible)(e)&&(cur.newPostsCount--,cur.newPostsCount?cur.feedEls.newPosts.innerHTML=u.getLang("news_new_posts",cur.newPostsCount):(0,k.removeClass)(cur.feedEls.wrap,"feed_has_new"))}break;case"res_post":a&&cur.options.offset++;break;case"new_reply":{if(!a||cur.wallMyReplied[n]||(0,k.ge)("post"+e[3]))break;if((0,k.hasClass)((0,k.ge)("post"+n),"deep_active")){const t=Wall.addNewReply(e);_+=t[0];break}let o=(0,k.ge)("replies"+n),i=(0,k.ge)("replies_wrap"+n),s=a.offsetHeight;const r=n.split("_")[0],l=ee.Ranges.isGroupId(r)?8&c?K.GroupAdminLevel.EDITOR:2&c?K.GroupAdminLevel.MODERATOR:K.GroupAdminLevel.USER:K.GroupAdminLevel.USER;let d=Wall.getNewReplyHTML(e,l);if(!d)break;let p,h=!1,f=!1;if((0,k.isVisible)(o)&&(0,k.isVisible)(i)&&!(0,k.isVisible)("reply_link"+n)){p=o.nextSibling;let e=(0,k.geByClass)("new_reply",o,"div").length+1;if(cur.wallMyOpened[n]){p&&"replies_open"==p.className&&(0,k.re)(p),f=!0;let e=(0,k.geByClass1)("wr_header",o,"a"),t=(0,k.geByClass)("reply",o,"div").length+1,i=t;e&&(i=(0,L.intval)(e.getAttribute("offs").split("/")[1])+1),(i>5||t<i)&&(e||o.insertBefore(e=(0,k.ce)("a",{className:"wr_header"}),o.firstChild),Wall.updateRepliesHeader(n,e,t,i))}else d=Wall.updatePostImages(d),h=(0,k.se)(d),(0,k.addClass)(h,"new_reply"),p&&"replies_open"==p.className||(p=(0,k.ce)("div",{className:"replies_open",onclick:Wall.openNewComments.pbind(n),role:"button",tabIndex:0}),o.parentNode.insertBefore(p,o.nextSibling)),p.innerHTML=u.getLang("wall_x_new_replies_more",Math.min(100,e)),p.newCnt=e}else(0,k.re)("reply_link"+n),(0,k.show)(i,o),f=!0;n.split("_")[0]==vk.id&&cur.feedUnreadCount++,h||(h=(0,k.se)(d)),o.appendChild(h),se.needScrollPost(t,f?h:p)&&(_+=a.offsetHeight-s),h instanceof HTMLElement&&((0,W.updateNarrativeSnippetsFromQueueByPost)(h),(0,Y.updateArticleSnippetsFromQueueByPost)(h),(0,Q.updateStickersFromQueue)(h)),f&&(0,j.highlightUpdatedReply)(h),Wall.repliesSideSetup(n),Wall.updateMentionsIndex(),Likes.update("wall"+n,{comment_num:e[13]});break}case"del_reply":if(!cur.wallMyDeleted[n]&&a){if((0,k.hasClass)((0,k.gpeByClass)("post",a),"deep_active")){const t=Wall.removeDeepReply(e);_+=t[0];break}se.needScrollPost(t,a)&&(_-=a.offsetHeight);let o=a.parentNode.id.match(/replies(-?\d+_\d+)/);(0,d.revertLastInlineVideo)(a),(0,k.re)(a),o&&Wall.repliesSideSetup(o[1])}break;case"view_post":Likes.update("wall"+n,{views_num:Wall.formatCount((0,L.intval)(e[3]))});break;case"like_post":case"like_reply":{if(!a)break;let t="like_reply"==s?"wall_reply"+n:n,o=a&&(0,k.domByClass)(a,"_like_wrap"),r=a&&(0,k.domByClass)(a,"_share_wrap");const l=(0,A.likeDataReactionsFields)(e);Wall.likeFullUpdate(o,t,(0,i._)({isQueueUpdate:!0,like_my:o&&(0,k.hasClass)(o,"my_like"),like_num:e[3],like_title:!1,share_my:r&&(0,k.hasClass)(r,"my_share"),share_num:e[4],share_title:!1},l));break}}return _},feedPostRepl:function(e,t){e.replies=cur.wallTpl.post_replies;let o={full_id:t[2],item_id:"wall_"+t[2],sec_name:(0,D.stripHTML)(t[3]),date:Wall.getNowRelTime(),del:cur.wallTpl.spam};if("search"==cur.section&&cur.q){let i=e.text||"",s=cur.q.toLowerCase().split(/[\s.,:;!?()]/),n=[];i=i.replace(/<(.|\n)+?>/g,(function(e){return n.push(e),""}));let r,a,l,c=i.toLowerCase();for(r=s.length-1;r>=0;r--)if(l=s[r],(0,L.trim)(l))for(a=0;-1!=(a=c.indexOf(l,a));)i.charAt(a-1)!=String.fromCharCode(2)?(i=i.substr(0,a)+""+r+""+i.substr(a+l.length),c=c.substr(0,a)+""+r+""+c.substr(a+l.length)):a+=2;i=i.replace(/\x02(\d+)\x02/g,(function(e,t){return'<span class="highlight">'+s[t]+"</span>"})),i=i.replace(/\x01/g,(function(){return n.shift()||""})),o.text=i,"new_post_reply"==t[1]&&(o.date_postfix=t[7])}return o},reSortItems:function(){cur.feedToSort&&cur.feedToSort.length&&((0,L.each)(cur.feedToSort,(function(e,t){let o=(0,k.ge)("post_ph"+t),i=(0,k.ge)("post"+t).parentNode;o&&i&&(o.parentNode.insertBefore(i,o),(0,k.re)(o))})),cur.feedToSort=[],(0,v.scrollToY)(0,0))},showNewPosts:function(){(0,k.removeClass)(cur.feedEls.wrap,"feed_has_new"),cur.newPostsCount=0;let e=(0,k.ge)("feed_rows");Wall.loadPostImages(e),(0,L.each)((0,k.geByClass)("feed_row_unshown",e,"div"),(function(){(0,k.replaceClass)(this,"feed_row_unshown","feed_row")}))},updateTitle:function(){cur.idleManager&&(cur.idleManager.isIdle||(cur.feedUnreadCount=0),(0,k.setDocumentTitle)((cur.feedUnreadCount?"("+cur.feedUnreadCount+") ":"")+cur.feedInitialTitle))},toggleTabsMenuTab:function(e,t){let o=(0,k.geByClass1)("feed_section_"+e,cur.feedEls.rmenu);o&&(0,k.toggleClass)(o,"ui_rmenu_item_hidden",!t)},toggleTabsMenu:function(e,t){let o=(0,k.ge)("feed_add_list_icon");return void 0===t&&(t=!(0,k.hasClass)(o,"shown")),a.browser.mozilla&&(0,k.setStyle)("page_body",{overflow:t?"visible":""}),uiActionsMenu.toggle(o,t),t&&(0,m.addEvent)(document,"mousedown",(function e(t){se.toggleTabsMenu(!1,0),(0,m.removeEvent)(document,"mousedown",e)})),e&&(0,m.cancelEvent)(e)},checkTabsFilter:function(e,t){let o,i,s,n=t==cur.section,r=cur.my_feed_types.tabs;switch(t){case"news":return!1;case"newlist":return se.addList();default:if(s=t.match(/list(\d+)/))return se.editList(s[1])}o=-1!=(i=(0,L.indexOf)(r,t)),(0,k.toggleClass)(e,"checked",!o),o?(r.splice(i,1),n&&(cur.onSaveTabs=function(e,t){se.toggleTabsMenu(null,!1),se.switchSection("news")}.pbind(t,o))):r.push(t),cur.my_feed_types.tabs=r,se.toggleTabsMenuTab(t,!o||n),clearTimeout(cur.saveTabsTO),cur.saveTabsTO=setTimeout(se.saveTabs,500)},hasSearchParams:function(e){let t=!1;return(0,L.each)(e,(function(e,o){if((!e.indexOf("c[")&&"c[section]"!==e||"q"==e)&&o)return t=!0,!1})),t},getSectionParams:function(e){let t={section:e};switch(e){case"news":case"recommended":case"groups":case"friends":case"videos":case"photos":case"podcasts":case"articles":void 0===(t.subsection=cur.subsections[e])&&delete t.subsection;break;case"owner":(t.owner=cur.owner)||delete t.section;break;case"source":case"notifications":(t.source=cur.source)||delete t.source;break;case"list":void 0===(t.subsection=cur.subsections["list"+cur.list])&&delete t.subsection,(t.list=cur.list)||delete t.list;break;case"search":const o=(0,k.ge)("search_filters_form");if(o){let e=(0,L.serializeForm)(o)||{};for(let t in e)e[t]&&"0"!=e[t]||delete e[t];(0,L.extend)(t,e)}t["c[q]"]=(0,L.trim)((0,k.val)(cur.feedEls.search));break;case"photos_search":(t.q=(0,L.trim)((0,k.val)(cur.feedEls.search)))||delete t.section,(t.sort=(0,L.intval)(cur.search_sort_value))||delete t.sort;break;case"trends_search":window.nav.objLoc.trend_id&&(t.trend_id=window.nav.objLoc.trend_id),(t.q=(0,L.trim)((0,k.val)(cur.feedEls.search)))||delete t.section,(t.sort=(0,L.intval)(cur.search_sort_value))||delete t.sort;break;case"articles_search":(t.q=(0,L.trim)((0,k.val)(cur.feedEls.search)))||(t.section="articles");break;case"comments":cur.reposts&&(t.reposts=cur.reposts);break;case"mentions":const i=new URLSearchParams(location.search);i.delete("ref"),history.replaceState(null,"","?"+i+location.hash),cur.mentionObj&&cur.mentionObj!=vk.id&&(t.obj=cur.mentionObj)}return t},switchNotifyList:function(e,t){uiRightMenu.go((0,k.geByClass1)("feed_section_"+e),!1,!1),se.go(t)},switchSubSection:function(e,t,o){if(t&&(0,m.checkEvent)(t))return!0;let i=cur.section;"list"===cur.section&&(i="list"+cur.list),cur.subsection=cur.subsections[i]=e;let s=se.getSectionParams(cur.section);s.hash=o,delete cur.feedUpdateLoading,delete cur.isFeedLoading,nav.go((0,L.extend)(s||{},{0:"feed"})),uiRightMenu.showProgress(cur.feedEls.rmenu)},switchSection:function(e,t,o){if(t&&(0,m.checkEvent)(t))return!0;if((0,k.removeClass)(cur.feedEls.wrap,"feed_has_new"),cur.newPostsCount=0,"photos_search"==e&&!(0,L.trim)((0,k.val)(cur.feedEls.search))){if("photos_search"!=cur.section)return!1;e="photos"}"comments"==e&&(cur.reposts=cur.options.reposts=""),(0,P.statlogsValueEvent)("feed_switch",0,e),se.setSection(e,1);let i=se.getSectionParams(e||"news");delete cur.feedUpdateLoading,delete cur.isFeedLoading;let s=!o&&(0,L.extend)(i||{},{0:"feed"});return uiRightMenu.go((0,k.geByClass1)("feed_section_"+e),!1,s),!1},setSection:function(e,t,o){if(t=t||0,cur.prevSection=cur.section,!(e==cur.section&&t<2)&&e){if(uiRightMenu.hideProgress(cur.feedEls.rmenu),cur.feedEls.search&&uiSearch.hideProgress(cur.feedEls.search),t>1){Page.playVkFestBanner&&Page.playVkFestBanner(),(0,k.toggleClass)(cur.feedEls.wrap,"feed_submit_shown",(0,L.inArray)(e,cur.options.feed_types.tabs.concat(["list","likes"]))),(0,k.toggleClass)(cur.feedEls.wrap,"feed_submit_only_shown",~["recommended","search","updates","comments"].indexOf(e));let t=(0,L.inArray)(e,["articles_search","articles","search","photos_search","photos","trends","trends_search"]);(0,k.toggleClass)(cur.feedEls.wrap,"feed_search_shown",t),t&&(0,k.elfocus)(cur.feedEls.search),"search"===e&&o.stories_block_show?(0,k.addClass)(cur.feedEls.wrap,"feed_submit_shown_stories"):(0,k.removeClass)(cur.feedEls.wrap,"feed_submit_shown_stories"),cur.section&&(0,k.val)(cur.feedEls.search,"")}2==t&&window.Stories&&Stories.updateFeedStories(e,o),cur.my_feed_types&&(~(0,L.indexOf)(cur.my_feed_types.optional_tabs,cur.section)&&!~(0,L.indexOf)(cur.my_feed_types.tabs,cur.section)&&se.toggleTabsMenuTab(cur.section,!1),~(0,L.indexOf)(cur.my_feed_types.optional_tabs,e)&&!~(0,L.indexOf)(cur.my_feed_types.tabs,e)&&se.toggleTabsMenuTab(e,!0)),cur.section=e,4!=t?(cur.editingHide=("notifications"==e||"replies"==e)&&se.notifyCheckHideReply,cur.gifAutoplayScrollHandler&&cur.gifAutoplayScrollHandler(),cur.videoAutoplayScrollHandler&&cur.videoAutoplayScrollHandler()):se.searchUpdate()}},applyOptions:function(e,t){t=t||0,e.no_left_ads&&(cur.no_left_ads=!0),e.owner&&(cur.owner=e.owner),cur.subsection=e.subsection||"",se.setSection(e.section,t,e),cur.options||(cur.options={reply_names:{}}),(0,L.extend)(cur.options.reply_names,e.reply_names),delete e.reply_names,(0,L.extend)(cur,e);let o=cur.section;if("list"===cur.section&&(o="list"+e.list),cur.subsections[o]=cur.subsection,e.loc&&2==t&&nav.setLoc(e.loc),e.section&&"news"==e.section&&e.subsection&&"top"==e.subsection&&(0,P.statlogsValueEvent)("feed_switch",0,"top_news",t),void 0!==e.filters){let t=(0,k.ge)("search_filters_minimized"),o=t&&(0,k.hasClass)(t,"ui_rmenu_item_expanded"),i=!!t;(0,k.val)("feed_filters",e.filters),window.searcher&&i&&O.searcher.toggleMinimizedFilters((0,k.ge)("search_filters_minimized"),o,!0)}if(e.script&&(0,y.evalWithLogging)(e.script),e.htitle&&(cur.feedInitialTitle=document.title=(0,D.replaceEntities)((0,D.stripHTML)(e.htitle))),void 0!==e.add_feed_queue&&null!==e.add_feed_queue?(cur.add_feed_queue=!1,e.add_feed_queue=!1,se.getNewQKey(0),!0!==e.add_queue&&(cur.add_queue=e.add_queue)&&setTimeout(se.update.pbind(0),0)):t&&"search"!=cur.section&&"news"!=cur.section&&cur.section&&(cur.add_feed_queue=!1,e.add_feed_queue=!1),e.add_queues&&(cur.add_queues=e.add_queues,setTimeout(se.update.pbind(0),0)),e.q){(0,k.val)(cur.feedEls.search,(0,D.replaceEntities)(e.q));let t=e.q;t.length>30&&(t=(0,L.trim)(t.substr(0,30))+"...")}e.last_view&&(cur.options.last_view=e.last_view),void 0!==e.feedback_list&&(cur.options.feedback_list=e.feedback_list),se.searchUpdate(),"comments"!=cur.section||cur.reposts||(0,k.toggle)("comments_filters",!cur.reposts),(0,D.isString)(cur.all_shown_text)&&(0,k.val)("all_shown",cur.all_shown_text),(0,D.isString)(cur.show_more_text)&&(0,k.val)("show_more_link",cur.show_more_text),cur.empty_text&&(0,k.val)("feed_empty",cur.empty_text),cur.count>=0&&(0,k.re)("feed_error_wrap");let i=!((0,k.geByClass1)("feed_row",cur.rowsCont,"div")||!1),s=(0,k.ge)("feed_rows_next");if(i?((0,k.toggleClass)(cur.feedEls.wrap,"feed_is_empty",!(0,k.isVisible)("feed_error_wrap")),(0,k.hide)("all_shown"),(0,k.toggle)("show_more_link",cur.count>0&&!cur.all_shown)):!cur.all_shown||s&&s.firstChild?((0,k.hide)("all_shown"),(0,k.show)("show_more_link"),(0,k.removeClass)(cur.feedEls.wrap,"feed_is_empty")):((0,k.hide)("show_more_link"),(0,k.show)("all_shown"),(0,k.removeClass)(cur.feedEls.wrap,"feed_is_empty"),(0,k.re)(s)),e.playlistsData&&(e.playlistsData=JSON.parse(e.playlistsData),cur.pageVideosList=(0,L.extend)(cur.pageVideosList||{},e.playlistsData)),("notifications"==cur.section||"replies"==cur.section)&&cur.notify){let e=(0,k.ge)("feedback_row"+cur.notify);e&&e.onclick&&(setTimeout((function(){e.onclick(),(0,v.scrollToY)((0,k.getXY)(e)[1],0)}),a.browser.msie?100:0),delete cur.notify)}cur.feedSection&&cur.feedSection(e.section,e.subsection)},showMore:function(){if(cur.isFeedLoading)return;cur.disableAutoMore=!1;let e,t=(0,k.ge)("feed_rows_next");if(t){if(t.firstChild)for(;t.firstChild;)e=t.firstChild,cur.rowsCont.insertBefore(e,t),se.onPostLoaded(e,!0);(0,k.re)(t)}"live"==cur.section&&(cur.all_shown=!0);let o=(0,k.ge)("show_more_link");if(cur.all_shown&&((0,k.hide)(o),(0,k.show)("all_shown")),"live"==cur.section)return;let i=!1,s=function(e){e.keyCode==m.KEY.ESC&&(i=!0)};(0,m.addEvent)(document,"keyup",s);let r=se.getSectionParams(cur.section||"news");(0,L.extend)(r,{offset:cur.offset,from:cur.from,part:1,more:1,last_view:cur.options.last_view,games_news_items_allowed:cur.isGamesInRightBlock?0:1}),(0,L.extend)(r,cur.navParams),cur.options.feedback_list&&(r.list=cur.options.feedback_list),nav.objLoc.situational_suggest_id&&(r.situational_suggest_id=nav.objLoc.situational_suggest_id);let a=cur.section;ajax.post("al_feed.php?sm_"+cur.section,r,{onDone:function(e,t){if((0,m.removeEvent)(document,"keyup",s),a==cur.section)if(i)cur.disableAutoMore=!0;else{if(t){let e,i=(0,k.ce)("div");for(i.innerHTML=t;e=i.firstElementChild;){const t=(0,$.shouldFilterPaginatedRow)({row:e});var o;if(t.shouldFilter)console.info("Feed: skipping loaded row",e),i.removeChild(e),(0,n.randEnabled)(null!=(o=window.cur.feed_pagination_filtering_log_prob)?o:.01)&&(0,z.feedLogFilteredRow)({filterReason:t.filterReason,ref:se.getModuleRef(),row:e,rowsContainer:cur.rowsCont,section:cur.section});else cur.rowsCont.appendChild(e),se.onPostLoaded(e,!0)}}(0,c.shortCurrency)(),se.applyOptions(e),setTimeout(se.scrollCheck,200)}},showProgress:function(){(0,S.lockButton)(o),cur.isFeedLoading=!0},hideProgress:function(){if((0,S.unlockButton)(o),cur.isFeedLoading=!1,o.seen){let e=Math.ceil((Date.now()-o.seen)/1e3),t=cur.section+(cur.subsection?"_"+cur.subsection:"");(0,P.statlogsValueEvent)("feed_load_more_seen_time",e,t),o.seen=!1}},cache:1})},getTypesSection:function(){return"owner"===cur.section?ee.Ranges.isUserId(cur.owner)?"person":"group":cur.section},checkFilter:function(e,t){let o,i,s=se.getTypesSection(),n=cur.my_feed_types[s],r=cur.feed_types[s];"notifications"!=s?(!0===n&&(n=(0,L.clone)(r)),o=-1!=(i=(0,L.indexOf)(n,t)),o?n.splice(i,1):(n.push(t),n.length==r.length&&(n=!0)),(0,S.checkbox)(e),cur.my_feed_types[s]=n,se.updateTypesCookie(),se.setFiltersUpdatePage(),cur.feedEls.rmenu&&uiRightMenu.showProgress(cur.feedEls.rmenu)):se.setNotifyFilter(e,t)},setFilter:function(e,t){let o=se.getTypesSection(),i=(0,k.ge)(o+"_type_filter"),s=!0;"notifications"!=o&&((0,L.each)((0,k.geByClass)("_feed_filter_row",i,"div"),(function(){if((0,S.isChecked)(this)&&this!=e)return s=!1})),s?(cur.my_feed_types[o]=!0,(0,L.each)((0,k.geByClass)("_feed_filter_row",i,"div"),(function(){(0,S.checkbox)(this,!0)}))):((0,L.each)((0,k.geByClass)("_feed_filter_row",i,"div"),(function(){(0,S.checkbox)(this,!1)})),cur.my_feed_types[o]=[t],(0,S.checkbox)(e,!0)),se.updateTypesCookie(),se.setFiltersUpdatePage({force_expand_filters:1}),cur.feedEls.rmenu&&uiRightMenu.showProgress(cur.feedEls.rmenu))},setFiltersUpdatePage:function(e){e=e||{};let t=nav.strLoc;if("updates"===cur.section){t.match(/\&filters\_expanded\=1/)||(0,k.ge)("updates_show_all_filters")&&!e.force_expand_filters||(t+="&filters_expanded=1"),t=t.replace(/\&filters\_shown\=([a-z\,]+)/,"");let o=(0,k.geByClass)("_feed_filter_row","feed_filters"),i=[];for(let e=0;e<o.length;e++)(0,k.hasClass)(o[e],"hide")||i.push(o[e].id.replace("filter_updates",""));t+="&filters_shown="+i.join(",")}nav.go(t)},setNotifyFilter:function(e,t){(0,S.checkbox)(e),cur.notifyPrefs||(cur.notifyPrefs={}),cur.notifyPrefs[t]=(0,S.isChecked)(e),clearTimeout(cur.saveNotifyPrefsTO),cur.saveNotifyPrefsTO=setTimeout((function(){let e=[];(0,L.each)(cur.notifyPrefs,(function(t,o){e.push((o?"":"-")+t)})),e=e.join(","),ajax.post("/al_feed.php",{act:"a_set_notify_prefs",prefs:e,feed:1,hash:cur.topNotifyHash},{onDone:function(e){(0,L.addTemplates)({top_notify_prefs:e}),(0,k.toggleClass)("top_notify_pref_"+t,"checked",cur.notifyPrefs[t]),cur.notifyPrefs={},window.TopNotifier&&TopNotifier.invalidate(),nav.go(nav.strLoc),cur.feedEls.rmenu&&uiRightMenu.showProgress(cur.feedEls.rmenu)}})}),500)},updateTypesCookie:function(){let e=[];(0,L.each)(cur.my_feed_types,(function(t,o){"tabs"!=t&&e.push(!0===o?"*":o.join(","))})),(0,w.setCookie)("remixfeed",e.join("."),365)},toggleFeedTop:function(e,t,o){let i=(0,k.geByClass1)("_ui_toggler",e),s="top";switch((0,k.toggleClass)(i,"on"),cur.section){case"news":case"recommended":case"groups":case"friends":case"videos":case"photos":case"list":s=(0,k.hasClass)(i,"on")?"top":"recent";break;case"articles":s=(0,k.hasClass)(i,"on")?"suggested":"top";break;case"podcasts":s=(0,k.hasClass)(i,"on")?"recent":"top"}se.switchSubSection(s,t,o)},switchList:function(e){cur.prevList=cur.list,cur.list=e,se.setSection("list",1),uiRightMenu.go((0,k.geByClass1)("feed_section_list"+e),!1,!1),se.go(se.getSectionParams(cur.section))},setSearchSort:function(e){cur.search_sort_value=e,se.submitSearch()},_activateReplyBox:function(e,t,o){(t||{}).cancelBubble=!0;let i=(0,k.ge)("reply_box"+e);if(cur.editing&&cur.editing!=e&&cur.notifyReplyData&&cur.notifyReplyData[cur.editing].disabled&&se.notifyCheckHideReply(cur.editing,(window.event||{}).target),i&&(0,k.isVisible)(i))return void se.notifyCheckHideReply(e,!1);if(void 0===cur.notifyReplyData&&(cur.notifyReplyData={}),cur.notifyReplyData[e]=o,o.disabled){if(i)(0,k.show)(i);else{(0,k.ge)("feedback_row"+e).appendChild((0,k.se)((0,k.rs)(cur.options.feedback_dis,{item:e,text:o.disabled})))}return void setTimeout((function(){cur.editing=e}),0)}(0,k.show)(i),Wall.showEditReply(e,t);let s=(0,k.ge)("reply_field"+e);s.setAttribute("placeholder",o.ph),window.Emoji&&Emoji.val(s,o.greet.replace(/ $/,"&nbsp;")),(0,k.data)(s,"send",se.notifySendReply),(0,k.removeClass)("reply_box"+e,"clear_fix")},notifyClick:function(e,t,o){let i=(0,k.ge)("feedback_row"+e);Wall.checkPostClick(i,t)&&se._activateReplyBox(e,t,o)},blindNotifyReply:function(e,t,o){se._activateReplyBox(e,t,o)},notifySendReply:function(e,t,o){let i=cur.notifyReplyData[e];if(!i||i.sending)return;let s,n=(0,k.ge)("reply_field"+e),r=(0,k.ge)("reply_button"+e),a=(0,k.ge)("feedback_row"+e),l=n&&(0,k.data)(n,"composer");if(o.stickerId)s={message:"",attach1_type:"sticker",attach1:o.stickerId};else{if(s=l?Composer.getSendParams(l,se.notifySendReply.pbind(e)):{message:(0,L.trim)(Emoji.editableVal(n))},s.delayed)return;if(!s.attach1_type&&(!s.message||i.greet&&!i.greet.indexOf(s.message)))return void Emoji.editableFocus(n,!1,!0)}(0,L.extend)(s,{act:"post",from:"feedback",item:e},i.params||{});let c=(0,k.ge)("reply_as_group"+e);c&&(0,k.isVisible)((0,k.domPN)(c))&&(s.from_oid=(0,k.domData)((0,k.domClosest)("_submit_post_box",c),"from-oid")),i.sending=1,ajax.post("al_wall.php",Wall.fixPostParams(s),{onDone:function(t,o){if(delete i.sending,l?Composer.reset(l):window.Emoji&&Emoji.val(n,""),n.autosize&&n.autosize.update(),se.notifyHideReply(e),o){let e=(0,k.geByClass1)("_answer_wrap",a);(0,k.val)(e,o),(0,k.show)(e)}else t&&(0,g.showDoneBox)(t)},onFail:function(){delete i.sending},showProgress:()=>(0,S.lockButton)(r),hideProgress:()=>(0,S.unlockButton)(r)})},notifyCheckHideReply:function(e,t){let o=cur.notifyReplyData&&cur.notifyReplyData[e];if(o&&!o.sending&&(0,k.isVisible)("reply_box"+e)){if(cur.editing=!1,!o.disabled){let t=(0,k.ge)("reply_field"+e),i=(0,L.trim)(window.Emoji?Emoji.editableVal(t):""),s=Wall.hasComposerMedia(t);if(!t||s||i&&!o.greet||o.greet.indexOf(i))return}se.notifyHideReply(e)}},notifyHideReply:function(e){cur.editing==e&&(cur.editing=!1);let t=(0,k.ge)("feedback_row"+e);(0,k.removeClass)(t,"reply_box_open"),(0,k.hide)("reply_box"+e);let o=cur.replySubmitSettings;o&&o.tt&&o.tt.el&&o.tt.destroy()},notifyPostTooltip:function(e,t,o,i){let s=(o||{}).reply,n="al_wall.php";t.indexOf("topic_comment")?t=t.replace("wall_reply","").replace("wall",""):(n="al_board.php",t=t.replace("topic_comment","")),i=i||{},(0,T.showTooltip)(e,(0,L.extend)({url:n,params:(0,L.extend)({act:"post_tt",post:t,self:1,from:"feedback"},o||{}),slide:15,shift:[!s||s%2?27:329,6],ajaxdt:100,showdt:400,hidedt:800,dir:"auto",className:"rich wall_tt wall_module _feed_notification feed_notification",appendParentCls:"scroll_fix_wrap"},i))},getModuleRef:function(){let e=cur.module||"feed_other";return"feed"==cur.module&&(e="news"==cur.section?cur.subsection?"feed_news_"+cur.subsection:"feed_news":"podcasts"===cur.section?e+"_"+cur.section+("recent"===cur.subsection?"_my":""):cur.section?e+"_"+cur.section:"feed_other"),e},ignoreItem:function(e,t,o,i,s,n=0,r="",a=!0){let l;switch(e){case F.BlockTypeIds.UXPollBlock:case F.BlockTypeIds.VideosForYou:case F.BlockTypeIds.VideoPostcard:case F.BlockTypeIds.PhotoRecognize:case F.BlockTypeIds.RecommendedNarratives:case F.BlockTypeIds.BookmarkGame:case F.BlockTypeIds.AchievementGame:case F.BlockTypeIds.YoulaRecommendationsCarousel:case F.BlockTypeIds.AliExpressRecommendationsCarousel:l=(0,k.ge)(e);break;default:l=(0,k.ge)("post"+e)}if(!l)return;let c=l.getAttribute("data-ad"),u=(0,k.geByClass1)("ui_actions_menu_wrap",l),_=se.getModuleRef();return u&&uiActionsMenu.toggle(u,!1),(0,d.revertLastInlineVideo)(l),a&&(t.includes("caption")?cur.feedEntriesHTML[e+"_ignored"]=(0,k.val)(l):cur.feedEntriesHTML[e]=(0,k.val)(l)),new Promise(((d,u)=>{ajax.post("/al_feed.php?misc",{act:"a_ignore_item",post_raw:e,feed_raw:t,caption_type:i,uids:s,hash:o,ad_data:c,ref:_,session_id:cur.feed_session_id,module:se.getModuleRef(),position:(0,L.indexOf)((0,k.domPN)((0,k.domPN)(l)).children,(0,k.domPN)(l)),reason_id:n,track_code:r},{onDone:function(e,t){se.destroyPhotoCarouselByPost(l),a&&((0,k.val)(l,e),(0,y.evalWithLogging)(t)),d()},onFail:()=>(u(),!0),stat:[window.jsc("web/privacy.js"),"privacy.css"]})}))},unignoreItem:function(e,t,o,i){let s=se.getModuleRef();ajax.post("/al_feed.php?misc",{act:"a_unignore_item",post_raw:e,feed_raw:t,hash:o,ref:s},{onDone:function(){t.includes("caption")?(0,k.val)("post"+e,cur.feedEntriesHTML[e+"_ignored"]):se.restorePost(e)},showProgress:i&&S.lockButton.pbind(i),hideProgress:i&&S.unlockButton.pbind(i)})},reportIgnoredItem:function(e,t){ajax.post("al_wall.php",{act:"spam",post:e,hash:t},{onDone:function(t){let o=(0,k.ge)("post"+e),i=o&&(0,k.geByClass1)("feed_post_report",o,"div");(0,k.val)(i,t)}})},ignoreOwner:function(e,t,o,i,s){e&&(cur.feedEntriesHTML[e+"_ignored"]=(0,k.val)("post"+e));let n="list"==cur.section&&cur.list||0,r=se.getModuleRef();ajax.post("/al_feed.php?misc",{act:"a_ignore_owner",post_raw:e,owner_id:t,type:o,hash:i,list:n,ref:r},{onDone:function(o){(0,k.val)("post"+e,o),(0,L.each)((0,k.geByClass)("post",cur.rowsCont),(function(o,i){let s=this.id.match(/post((-?\d+)_(-?\d+)(_\d+)?)/);s&&s[1]!=e&&(!s[4]&&s[2]==t||s[4]&&s[3]==t)&&((0,d.revertLastInlineVideo)(this),(0,k.hide)(this.parentNode))}))},showProgress:()=>x.FlatButton.lock(s),hideProgress:()=>x.FlatButton.unlock(s)})},unignoreOwner:function(e,t,o,i){let s="list"==cur.section&&cur.list||0,n=se.getModuleRef();ajax.post("/al_feed.php?misc",{act:"a_unignore_owner",post_raw:e||"",owner_id:t,hash:o,list:s,ref:n},{onDone:function(o){e?(0,k.val)("post"+e,cur.feedEntriesHTML[e+"_ignored"]):(0,k.val)("ignore_row"+t,o),(0,L.each)((0,k.geByClass)("post",cur.rowsCont),(function(e,o){let i=this.id.match(/post((-?\d+)_(-?\d+)(_\d+)?)/);i&&(!i[4]&&i[2]==t||i[4]&&i[3]==t)&&(0,k.show)(this.parentNode)}))},showProgress:()=>x.FlatButton.lock(i),hideProgress:()=>x.FlatButton.unlock(i)})},ignoreGroupWall:function(e,t,o,i){e&&(cur.feedEntriesHTML[e+"_ignored"]=(0,k.val)("post"+e));let s=se.getModuleRef();ajax.post("/al_feed.php?misc",{act:"a_ignore_owner",post_raw:e,owner_id:t,ignore_type:"group_wall",hash:o,ref:s},{onDone:function(t){(0,k.val)("post"+e,t)},showProgress:()=>x.FlatButton.lock(i),hideProgress:()=>x.FlatButton.unlock(i)})},unignoreGroupWall:function(e,t,o,i){let s=se.getModuleRef();ajax.post("/al_feed.php?misc",{act:"a_unignore_owner",post_raw:e||"",owner_id:t,ignore_type:"group_wall",hash:o,ref:s},{onDone:function(o){e?(0,k.val)("post"+e,cur.feedEntriesHTML[e+"_ignored"]):(0,k.val)("ignore_row"+t,o)},showProgress:()=>x.FlatButton.lock(i),hideProgress:()=>x.FlatButton.unlock(i)})},ignoreLiveOwner:function(e,t,o,i){let s=(0,k.ge)("post"+e),n=(0,k.geByClass1)("ui_actions_menu_wrap",s);n&&uiActionsMenu.toggle(n,!1),(0,d.revertLastInlineVideo)(s),cur.feedEntriesHTML[e+"_ignored"]=(0,k.val)("post"+e),ajax.post("al_feed.php?act=a_ignore_live_owner",{post_raw:e,owner_id:t,hash:o},{onDone:function(t){(0,k.val)("post"+e,t)},showProgress:i&&S.lockButton.pbind(i),hideProgress:i&&S.unlockButton.pbind(i)})},unignoreLiveOwner:function(e,t,o,i){ajax.post("al_feed.php?act=a_unignore_live_owner",{post_raw:e,owner_id:t,hash:o},{onDone:function(t){(0,k.val)("post"+e,cur.feedEntriesHTML[e+"_ignored"])},showProgress:i&&S.lockButton.pbind(i),hideProgress:i&&S.unlockButton.pbind(i)})},unsubscribe:function(e,t,o){(0,m.triggerEvent)((0,k.ge)("post_delete"+e),"mouseout"),cur.feedEntriesHTML[e]=(0,k.ge)("post"+e).innerHTML;let i=e.match(/(\-?\d+)_(photo|video|shortVideo|topic|note|market|)(\d+)/);i&&ajax.post("al_feed.php",{act:"unsubscribe",type:{"":24,photo:21,video:22,shortVideo:26,topic:20,note:23,market:25}[i[2]],owner_id:i[1],place_id:i[3],hash:t,feed:1},{onDone:function(t){(0,k.ge)("post"+e).innerHTML=t.replace("%post_raw%",e)},showProgress:o&&S.lockButton.pbind(o),hideProgress:o&&S.unlockButton.pbind(o)})},subscribe:function(e,t,o){let i=e.match(/(\-?\d+)_(photo|video|shortVideo|topic|note|market|)(\d+)/);i&&ajax.post("al_feed.php",{act:"subscribe",type:{"":24,photo:21,video:22,shortVideo:26,topic:20,note:23,market:25}[i[2]],owner_id:i[1],place_id:i[3],hash:t,feed:1},{onDone:se.restorePost.pbind(e),showProgress:o&&S.lockButton.pbind(o),hideProgress:o&&S.unlockButton.pbind(o)})},restorePost:function(e){let t;if(e===F.BlockTypeIds.PhotoRecognize)t=(0,k.ge)(e);else t=(0,k.ge)("post"+e);if(!t)return;t.innerHTML=cur.feedEntriesHTML[e],se.initPhotoCarouselInPost(t);let o=(0,k.geByClass1)("input_back",t,"div"),i=(0,k.geByTag1)("textarea",t);i&&(i.placeholder=o.innerHTML,o.parentNode.removeChild(o),(0,C.placeholderSetup)(i))},toggleReposts:function(e,t,o,i){if((0,m.checkEvent)(i))return!0;let s=(0,k.ge)("feed_reposts_more"+t+"_"+o),n=(0,k.ge)("feed_reposts"+t+"_"+o),r=0,a=(0,v.scrollGetY)(),l=(0,k.isVisible)(n);if(n)return l?r-=n.offsetHeight+(0,L.intval)((0,k.getStyle)(e,"marginTop")):((0,k.domPN)((0,k.domPN)(n))||{}).bits=0,(0,k.toggle)(n,!l),x.FlatButton.setLabel(s,l?u.getLang("news_show_X_reposts",n.childNodes.length):u.getLang("news_hide_reposts")),r&&(0,v.scrollToY)(a+r+(0,k.getSize)("page_header")[1],0),!1;s&&(0,k.re)(s.parentNode.parentNode)},editHidden:function(){return(0,E.showTabbedBox)("al_settings.php",{act:"a_edit_owners_list",list:"feed",height:lastWindowHeight},{stat:["ui_controls.js","ui_controls.css",window.jsc("web/indexer.js")]}),cur.onOListSave=se.onHiddenSave,!1},onHiddenSave:function(e,t,o,i){let s=(0,g.curBox)(),r={act:"a_ignore_olist",no_reposts:(0,k.ge)("feed_list_reposts")&&!(0,S.isChecked)("feed_list_reposts")?1:0,hash:i.hash};return(0,n.partConfigEnabled)("use_only_black_list_param_to_process_owners")?r.Black=t.join(","):e.length<t.length?r.White=e.join(","):r.Black=t.join(","),ajax.post("al_feed.php",r,{onDone:function(e,t){s.hide(),se.switchSection("photos"==cur.section?"photos":"news")},showProgress:S.lockButton.pbind(s.btns.ok[0]),hideProgress:S.unlockButton.pbind(s.btns.ok[0])}),!1},addList:function(){return se.editList(-1)},editList:function(e){return se.toggleTabsMenu(!1,0),(0,E.showTabbedBox)("al_settings.php",{act:"a_edit_owners_list",list:"feed",list_id:e,height:lastWindowHeight},{stat:["ui_controls.js","ui_controls.css",window.jsc("web/indexer.js")],onFail:function(e){return setTimeout((0,E.showFastBox)({title:u.getLang("global_error"),bodyStyle:"padding: 20px; line-height: 160%;"},e,u.getLang("global_close")).hide,4500),!0}}),cur.onOListSave=se.onListSave.pbind(e),!1},onListSave:function(e,t,o,i,s){let n=(0,k.val)("feed_list_name");if(!(0,L.trim)(n))return(0,S.notaBene)("feed_list_name"),!1;if(!t.length)return!1;let r=(0,g.curBox)();return ajax.post("al_feed.php",{act:"a_save_list",hash:cur.tabs_hash,White:t.join(","),title:n,list_id:e,no_reposts:(0,k.ge)("feed_list_reposts")&&!(0,S.isChecked)("feed_list_reposts")?1:0},{onDone:function(t){let o=(0,k.geByClass1)("feed_section_list"+e,cur.feedEls.rmenu),i=(0,k.geByClass1)("feed_filter_list"+e,cur.feedEls.rmenu);const s=uiRightMenu.selectLabelNode(o);(0,k.val)(s,(0,L.clean)(n)),(0,k.val)((0,k.geByClass1)("ui_actions_menu_item_label",i),(0,L.clean)(n)),r.hide(),e>0?se.switchList(e):nav.go({0:"feed",section:"list",list:t},null,{nocur:!0})},onFail:function(e){return(0,k.val)("feed_list_error",e),(0,k.show)("feed_list_error_wrap"),!0},showProgress:S.lockButton.pbind(r.btns.ok[0]),hideProgress:S.unlockButton.pbind(r.btns.ok[0])}),!1},deleteList:function(e,t,o,i){if(i&&(0,m.cancelEvent)(i),e<=0)return!1;if(!o){se.toggleTabsMenu(!1,0);const o=(0,E.showFastBox)({title:u.getLang("news_delete_list_sure_title"),bodyStyle:"padding: 20px; line-height: 160%;"},u.getLang("news_delete_list_sure").replace("{list}",t),u.getLang("global_delete"),(function(){se.deleteList(e,t,!0)}),u.getLang("global_cancel"),(function(){o.hide()}));return}const s=(0,g.curBox)();ajax.post("al_feed.php",(0,L.extend)({act:"a_delete_list",list_id:e,hash:cur.tabs_hash}),{onDone:function(){(0,k.re)((0,k.geByClass1)("feed_section_list"+e,cur.feedEls.rmenu)),(0,k.re)((0,k.geByClass1)("feed_filter_list"+e,cur.feedEls.rmenu)),boxQueue.hideAll(),"list"==cur.section&&cur.list==e&&se.switchSection("news")},showProgress:S.lockButton.pbind(s.btns.ok[0]),hideProgress:S.unlockButton.pbind(s.btns.ok[0])})},saveTabs:function(){ajax.post("al_feed.php",{act:"a_save_tabs",hash:cur.tabs_hash,tabs:cur.my_feed_types.tabs.join(",")},{hideProgress:function(){(0,D.isFunction)(cur.onSaveTabs)&&cur.onSaveTabs(),cur.onSaveTabs=null}})},statsShow:function(e,t){return(0,f.showWiki)({w:"stats"+(cur.source||"")},!1,e)},editLiveBlacklist:function(e){(0,m.cancelEvent)(e),(0,E.showBox)("al_video.php?act=live_blacklist_box",{},{onDone:function(e,t){M.default.init(e,t)},stat:[window.jsc("web/videoview.js"),"videoview.css",window.jsc("web/indexer.js")]})},scrollCheck:(0,N.debounce)((function(e){if("scroll"!=(e=e||{}).type&&(!cur.idleManager||cur.idleManager.isIdle))return;let t,o,i,s,r,a,l=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=(0,v.scrollGetY)(),d=0,u=[];if(!cur.isFeedLoading&&!cur.disableAutoMore){const e=(0,k.ge)("show_more_link");(0,k.isVisible)(e)&&c+l+1e3>e.offsetTop&&se.showMore()}if((0,k.domPN)(cur.topRow)==cur.rowsCont&&"feed_rows_next"!=(cur.topRow||{}).id||(cur.topRow=(0,k.domFC)(cur.rowsCont)),!vk.id||!cur.topRow||"feed_rows_next"==cur.topRow.id||((window.curNotifier||{}).idle_manager||{}).is_idle&&"init"!=e.type)return;let _=[];for(s=(0,k.domPS)(cur.topRow);s;s=(0,k.domPS)(s))cur.topRow.offsetTop>c&&(cur.topRow=s),s.unseen||(s.unseen=!0,_.push((0,V.postsGetRaws)(s)),(0,V.isAdWithShowOff)(s)&&Wall.triggerAdStat((0,k.domFC)(s),"show_off"));for(Page.postsUnseen(_),s=cur.topRow;s&&(t=d||s.offsetTop,!(t>=c+l));s=r)if(r=(0,k.domNS)(s),"feed_rows_next"==(r||{}).id&&(r=null),d=r?r.offsetTop:t+s.offsetHeight,d<c&&r&&(cur.topRow=r),LongView&&LongView.register(s,"feed"),U.longView.registerElement(s),a=s.bits||0,!(a>=3)&&(cur.feedSeenPostHeight>0?(cur.feedPostHeaderHeight=cur.feedPostHeaderHeight||(0,k.getH)(null==s||null==s.querySelector?void 0:s.querySelector(".post_header, .js-PostHeader")),o=t+cur.feedPostHeaderHeight,i=o+cur.feedSeenPostHeight,s.postBottom||(s.postBottom=o+(0,k.getH)((0,k.geByClass1)("wall_text",s))),i=Math.min(i,s.postBottom),(0,k.geByClass1)("feed_friends_recomm",s)&&(0,n.partConfigEnabled)("friends_recommendations_old_fix_show_user_rec")&&(i+=.35*s.clientHeight),a|=(o>=c&&o<c+l?1:0)|(i>=c&&i<c+l?2:0)):a|=(t>=c&&t<c+l?1:0)|(d>=c&&d<c+l?2:0),a&&(s.bits=a,3==a))){let e=(0,V.postsGetRaws)(s);var p;if((0,V.isAdWithLongImpressionOnly)(s)||(0,V.isAutoplayAd)(s)?Wall.triggerAdStat((0,k.domFC)(s),"impression"):u.push(e),(0,k.geByClass1)("VideosForYouGallery",s))null==(p=window.FeedVideosForYou)||p.viewBlock();else if((0,k.geByClass1)("FeedVideoPostcard",s)){var h;null==(h=window.FeedVideoPostcard)||h.viewBlock()}else if(s.querySelector(".UxpollsBlock")){const e=s.querySelector(".UxpollsBlock").dataset.trackCode;(0,J.viewUXPollsBlock)(e)}else if((0,k.geByClass1)("feed_friends_recomm",s)){let t=(0,k.geByClass1)(b.UI_GALLERY_CLASSNAME,s);const o=(0,k.domData)(t,"from");let i=(0,k.domData)(t,"code")||"";(0,R.friendsRecommLogSave)(["view_block",o,e.index,(0,D.vkNow)(),e.module,i],!0);const r=(0,b.uiGetGallery)(t);(0,n.partConfigEnabled)("friends_recommendations_old_fix_show_user_rec")?null==r||r.setGalleryViewed():(r&&r.getVisibleItems().forEach((function(e){(0,R.onViewFriendRecomm)(e[0],e[1],o)})),t.visible=!0)}else if((0,k.geByClass1)("js-feed_groups_recomm",s))(0,I.feedInitialViewRecommendedGroupsTrigger)(s,e.index);else if(s.querySelector("#feed_mini_apps_recomm"))window.RecommendedMiniApps.viewBlock();else if(s.querySelector(`#${te.FEED_RECOGNIZE_PHOTO_POST_ID}`)){var f;null==(f=(0,oe.recognizeBlockState)().block)||f.viewBlock()}}u=u.concat(U.longView.process(c,l)),LongView&&LongView.onScroll(c,l),Page.postsSeen(u);let g=(0,k.ge)("show_more_link"),w=g.offsetTop;if(!g.seen&&w>=c&&w<c+l){g.seen=Date.now();let e=cur.section+(cur.subsection?"_"+cur.subsection:"");(0,P.statlogsValueEvent)("feed_load_more_seen",(0,S.isButtonLocked)(g),e)}}),20),searchUpdate:function(){if(cur.feedEls.search&&u.getLang("news_search")){let e;e=cur.section.indexOf("photos")?cur.section.indexOf("articles")?u.getLang("news_search"):u.getLang("news_articles_search"):u.getLang("news_photo_search"),cur.feedEls.search.setAttribute("placeholder",(0,L.clean)((0,D.unclean)(e))),(0,C.placeholderInit)(cur.feedEls.search,{reload:!0})}},go:function(e,t,o){if(e=e||{},cur._back_local){let m=cur._back_local;m.back?(0,h.showBackLink)(m.back[0],m.back[1],m.back[2]):(0,h.showBackLink)(!1),cur._back_local=!1}if(cur.feedReq)try{cur.feedReq.abort()}catch(b){(0,_.debugLog)(b)}cur.feedReqObj=null;let i=1,n=function(){cur.isFeedLoading=!1};(a.browser.msie||o)&&(i=!1,n=cur.onFrameBlocksDone),cur.wasScroll=!!o&&(0,v.scrollGetY)();let r=window.event&&window.event.target;if(r&&"search"===e.section&&!e._post){let C=nav.getPostParams(r);if(C.post_id&&C.post_click_type){function S(t,o){t&&!e[o]&&(e[o]=t)}S(C.post_id,"_post"),S(C.post_click_type,"_post_click_type"),S(C.post_click_url,"_post_click_url"),S(C.post_click_mention_id,"_post_click_mention_id"),S(C.post_click_cc_key,"_post_click_cc_key"),S(C.ad_data,"_post_ad_data"),S(C.ad_block_unique_id,"_post_ad_block_unique_id")}}let l=cur.feedReqObj={},u={},f=0;const g=()=>{if(!cur.feedReqObj||cur.feedReqObj!==l)return;if(++f>500)return;let e=!0,t={};(0,L.each)(u,(function(o){let i=(0,k.ge)(o);if(i&&(0,k.hasClass)(i,"feed_row"))return i.firstChild?void se.onPostLoaded(i,!0):(t[o]=!0,void(e=!1))})),e||(u=t,setTimeout(g,100))},w=+new Date;cur.feedReq=ajax.post("al_feed.php",(0,L.extend)(e,{part:1}),{onDone:function(o,n,r,a,l){if(!cur.feedEls)return;if((0,d.revertLastInlineVideo)(),(0,k.removeClass)(cur.feedEls.wrap,"feed_has_new"),cur.newPostsCount=0,window.tooltips&&tooltips.destroyAll((0,k.ge)("feed_rows")),boxQueue.hideAll(),layers.fullhide&&!cur.storyLayer&&layers.fullhide(!0),i&&ajax._framenext(),window.wall&&Wall.cancelEdit(),boxQueue.hideAll(),t?t(n||""):(0,k.val)(cur.rowsCont,n||""),se.applyOptions(o,2),!e.norecom&&"notifications"!==e.section){(0,k.val)("feed_recommends",o.recommends||""),(0,k.toggle)("feed_recommends",!!o.recommends);let e="/al_feed.php#"+(0,s.toQueryString)({act:"recom"});ajaxCache[e]&&delete ajaxCache[e],(0,k.toggleClass)(cur.feedEls.wrap,"feed_asc_shown",(0,k.geByClass1)("feed_asc_block","feed_recommends"))}let _;if(r&&(0,y.evalWithLogging)(r),(0,p.checkPageBlocks)(),(0,v.scrollToTop)(0),(0,c.shortCurrency)(),cur.feedEls.wall)switch(_="clear_fix",cur.section){case"updates":_+=" page_block feed_updates";break;case"photos_search":_+=" page_block feed_found_photos";break;case"notifications":_+=" page_block feed_notifications";break;case"coronavirus":case"stayhome":_+=" feed_wall--with-header"}if((0,k.ge)("feed_wall").className=_,(0,k.toggle)("feed_recommends",(0,L.inArray)(cur.section,["news","recommended","videos"])),(0,k.val)("feed_app_widget",a||""),(0,k.toggle)("feed_app_widget",a),a&&l&&(0,y.evalWithLogging)(l),cur.rowsCont&&cur.rowsCont.children&&((0,L.each)(cur.rowsCont.children,(function(){let e=this;(0,k.hasClass)(e,"feed_row")&&(!e.id||e.firstChild?se.onPostLoaded(e,!0):u[e.id]=!0)})),(0,D.isEmpty)(u)||setTimeout(g,10)),cur.q){const e="photos_search"===cur.section?P.servicePhotos:P.serviceNews,t=+new Date-w;(0,P.saveSearchAttemptStats)(e,0,cur.count,(0,k.val)(cur.feedEls.search),0,0,t,"",P.blockNameEmpty,"",!1,0,null,cur.sort),(0,G.updateCounters)(location.href,document.referrer)}setTimeout(se.scrollCheck,200)},onFail:function(){return!1},showProgress:function(){cur.isFeedLoading=!0},frame:i,ads:1,hideProgress:n})},onFeedSearch:function(e,t,o,i){t||(0,P.removeSearchPositionTracker)("photos");let s,n,r=i||cur.section;if(r.indexOf("photos")?r.indexOf("trends")?r.indexOf("articles")?(s="search",n="news"):(s="articles_search",n="articles"):(s="trends_search",n="trends"):(s="photos_search",n="photos"),"search"==s||se.hasSearchParams(se.getSectionParams(s))){s!=cur.section&&se.setSection(s,1);let o=se.getSectionParams(s);cur.disableSort&&(o.disable_sort=1),se.go(o),window.searcher&&O.searcher.highlightHotHashtag(t||(0,k.val)(e))}else se.go(se.getSectionParams(n));uiSearch.onChanged(e),uiSearch.showProgress(e)},onSearchChange:function(){return setTimeout(se.onFeedSearch.pbind(cur.feedEls.search),0),!1},init:function(e){(0,l.feedLoadingStats)(e),setTimeout((function(){(0,L.each)((0,k.geByTag)("textarea",cur.rowsCont),(function(){(0,C.placeholderSetup)(this)})),cur.q&&(0,P.saveSearchAttemptStats)("photos_search"===cur.section?P.servicePhotos:P.serviceNews,0,cur.count,(0,k.val)(cur.feedEls.search),"0",0,"0","",P.blockNameEmpty,"",!1,0,null,cur.sort)}),200),(0,L.extend)(cur,{oid:e.user_id,postTo:e.user_id,phCache:{},phShown:{},subsections:{},feed_session_id:e.feed_session_id||"na",module:"feed",isFeedLoading:!1,customSearchChange:se.onSearchChange,navParams:e.nav_params||{},isGamesInRightBlock:e.is_games_in_right_block,wallPostCb:function(){"news"==cur.section?setTimeout(se.update.pbind(1),1e3):setTimeout(se.switchSection.pbind("news"),1e3)},idleManager:function(){let e,t,o;const i={isIdle:!1,onIdle:null,onUnIdle:null,stop:function(){(0,m.removeEvent)(document,"mousemove keydown",e),(0,m.removeEvent)(window,"focus blur",o)},start:function(){a.browser.mobile||(e=function(){cur.idleManager&&i.isIdle&&(i.isIdle=!1,i.onUnIdle&&i.onUnIdle())},t=function(){cur.idleManager&&(i.isIdle=!0,i.onIdle&&i.onIdle())},o=function(o){"focus"==o.type?e():t()},(0,m.addEvent)(window,"focus blur",o))}};return i}(),currentModule:function(){return"videos"==cur.section?"feed_videos":cur.module},onFrameBlocksDone:function(){cur.isFeedLoading=!1,(0===cur.wasScroll||cur.wasScroll>0||!1===cur.wasScroll&&"search"==cur.section&&cur.q&&"#"==cur.q.substr(0,1))&&(cur.wasScroll=!1)},feedEntriesHTML:{},feedUnreadCount:0,feedInitialTitle:"",feedUnread:[],feedToSort:[],feedEls:{wrap:(0,k.ge)("main_feed"),wall:(0,k.ge)("feed_wall"),search:(0,k.ge)("search_query"),rmenu:(0,k.ge)("feed_rmenu"),newPosts:(0,k.ge)("feed_new_posts")}}),cur.nav.push((function(e,t,o,i){if(void 0!==e[0])return;let s=(0,L.clone)(o);if(delete s[0],void 0===e.section||(0,L.inArray)(cur.section,["notifications","replies"])==(0,L.inArray)(e.section,["notifications","replies"])){if("notifications"==cur.section)return se.switchNotifyList(o.list||"all",(0,L.extend)(s,i.params||{})),!1;if(e.list)return se.switchList(e.list),!1;if(void 0!==e.section&&se.switchSection(e.section||"news",!1,!0),e.notify)return!1;if(e.q)return(0,k.val)(cur.feedEls.search,e.q),se.onFeedSearch(cur.feedEls.search),!1;if(delete e.subsection,(0,D.isEmpty)(e)){let e=(0,k.geByClass1)("feed_section_"+(t.section||"news")+(t.list||""));e&&uiRightMenu.go(e,!1,!1)}return cur.likesTabTT&&cur.likesTabTT.destroy(),se.go((0,L.extend)(s,i.params||{})),!1}})),cur.idleManager.onUnIdle=se.updateTitle,cur.idleManager.onIdle=se.reSortItems,cur.options=cur.options||{},(0,L.extend)(cur.options,e),se.applyOptions(e,3),cur.rowsCont=e.wallCont=(0,k.ge)("feed_rows"),Wall.init(e),cur.rowsCont&&cur.rowsCont.children&&(0,L.each)(cur.rowsCont.children,(function(){let e=this;(0,k.hasClass)(e,"feed_row")&&e.firstChild&&se.onPostLoaded(e,!0)})),cur._back={text:u.getLang("news_return_to_news"),show:[se.startEvents],hide:[function(){clearInterval(cur.updateInt),(0,m.removeEvent)(window,"scroll",se.scrollCheck),(0,m.removeEvent)(window,"resize",se.scrollCheck),cur.idleManager.stop(),clearTimeout(cur.lp_error_to)}],loc:!1},se.startEvents(),(0,Z.initCheckValidationPhone)(),(0,R.friendsRecommLogSend)(!0),setTimeout((function(){se.scrollCheck({type:"init"})}),200);try{const e=nav.objLoc.storybox;if(e){const t=JSON.parse(atob(e));t&&window.StoryPublisher.init((0,i._)({photoUrl:t.url?t.url:t.blob,stickers:t.stickers,attachment:t.attachment,serviceInfo:t.service_info},t))}}catch(e){console.log(e)}},startEvents:function(){cur.idleManager.start(),cur.updateInt=setInterval((function(){se.update(0)}),2e4),(0,m.addEvent)(window,"scroll",se.scrollCheck),(0,m.addEvent)(window,"resize",se.scrollCheck)},mentionClick:function(e,t){let o=e,i=((e.getAttribute("mention")||"").match(/^bp(-?\d+_\d+)$/)||{})[1];if(!i)return nav.go(e,t);for(i=i.split("_");e;e=e.parentNode){let s=(e.id||"").match(/^replies(-?\d+_topic\d+)$/);if(s){if(s[1].split("_")[0]==i[0])return Wall.showReply(o,s[1],i[0]+"topic_"+i[1],t);break}}return nav.go(e,t)},toggleCustomFeedTab:function(e,t){return(0,k.hasClass)(e,"feed_tab_link_hidden")?((0,k.removeClass)(e,"feed_tab_link_hidden"),(0,w.setCookie)("remixcustom_feed_added",t)):(0,S.lockButton)(e),se.checkTabsFilter((0,k.geByClass1)("_feed_custom_"+t),t)},recomSubscribe:function(e,t,o){let i,s,n=o?t:(0,k.domPS)(t),r=o?(0,k.domNS)(t):t;o?(i="/al_feed.php",s={act:"subscr",oid:e,from:nav.objLoc.section,hash:(0,k.val)("feed_recom_hash")}):(i="/al_fans.php",s={act:"unsub",oid:e,hash:(0,k.val)("feed_recom_hash"),no_response:1}),ajax.post(i,s,{onDone:function(){(0,k.toggle)(n,!o),(0,k.toggle)(r,!!o),"recommended"!=nav.objLoc.section&&nav.go(nav.objLoc,!1,{params:{norecom:1}})},showProgress:()=>(0,S.lockButton)(t),hideProgress:()=>(0,S.unlockButton)(t)})},clickBlogReminder:function(e,t,o,i,s,n){if(ajax.post("blog.php",{act:"click_reminder",hash:i,nid:t,accept:1,target:n},{onDone:function(){}}),"_blank"!==(0,k.attr)(e,"target"))return(0,m.cancelEvent)(s),nav.go(o)},hideBlogReminder:function(e,t,o,i){o&&(0,m.cancelEvent)(o),(0,k.re)("feed_blog_reminder"),ajax.post("blog.php",{act:"hide_reminder",hash:e,nid:t,accept:0,target:i},{onDone:function(){}})},preloadVideos:function(e){function t(e){let t=new XMLHttpRequest;t.open("GET",e),t.send()}e&&cur.videoAutoplayScrollHandler&&(cur.videoAutoplayPreloaded=cur.videoAutoplayPreloaded||{},(0,L.each)(e,(function(e,o){t(o.index_url),t(o.index_url.replace(/index-(.+).m3u8/,"seg-1-$1.ts")),cur.videoAutoplayPreloaded[o.video]=o.quality})))},expandJoinedGroups:function(e,t){return(0,m.cancelEvent)(t),(0,k.show)((0,k.geByClass1)("feed_groups_hidden_list",e.parentNode)),(0,k.re)(e),!1},showAllFilters:function(e){(0,k.re)(e);let t=(0,k.geByClass)("hide",e.parentNode);for(let e=0;e<t.length;e++)(0,k.removeClass)(t[e],"hide")},toggleSubscription:function(e,t,o,i,s){let n=(0,k.domClosest)("_ui_menu_wrap",e);n&&uiActionsMenu.toggle(n,!(0,k.hasClass)(n,"shown")),Page.toggleSubscription(e,t,o,i,s,(function(e,t){(0,k.geByClass)("post",cur.rowsCont).forEach((function(o){let s=o.id.split("_"),n=+s[s.length-2].replace("post","");if(i!==n)return;let r=(0,k.geByClass1)("page_action_subscribe",o);(0,k.val)(r,e),(0,k.domData)(r,"act",t)}))}))},onPostLoaded:function(e,t){Wall.onPostLoaded(e,t),this.initPrettyCardGallery(e),t&&!(0,k.hasClass)(e,"_post")&&se.initPhotoCarouselInPost((0,k.geByClass1)("_post",e))},openPostSuggest:function(e,t,o){if(t&&null!=t.type)switch(t.type){case 1:const s=t.postData,n=t.notHideByClick;let r=(0,k.ge)("post_field");return void((r?(0,L.trim)(r.innerHTML).replace("<br>",""):"")||cur.wallAddMedia&&cur.wallAddMedia.attachCount()?(0,E.showFastBox)({title:u.getLang("news_suggest_alert_title")},u.getLang("news_suggest_alert_text"),u.getLang("global_yes"),(function(){(0,g.curBox)().hide(),i(s,n)}),u.getLang("global_cancel")):i(s,n));case 4:return window.open(t.link),void se.suggestionEvent(e,"open",o,t.notHideByClick)}function i(t,i=!1){cur.wallAddMedia&&cur.wallAddMedia.unchooseMedia(),cur.options&&(cur.options.situational_suggest_id=e),t[0]=t[0].replace(/<br>/g,"\n");let s=cur.editing;delete cur.editing,Wall.setDraft(t),se.suggestionEvent(e,"open",o,i),cur.editing=s}},suggestionEvent:(e,t,o,i)=>(ajax.post("al_feed.php",{act:"suggestion_event",suggest_id:e,event_type:t,not_hide_by_click:(0,L.intval)(i)}),i||(0,k.re)((0,k.geByClass1)("_post_suggest")),(0,m.cancelEvent)(o)),closePostSuggest(e,t,o){se.suggestionEvent(e,t,o,!1)},hideRightBlock:function(e,t,o){let i=(0,k.domCA)(e,".page_block");return(0,k.re)(i),cur.isGamesInRightBlock=!1,ajax.post("al_feed.php",{act:"a_hide_right_block",block_type:t,app_id:e.dataset.app_id||0,hash:o}),!1},initPrettyCardGallery:function(e){if(!(0,k.geByClass1)("pretty-cards",e))return!1;window.PrettyCardGallery&&new window.PrettyCardGallery(e)},initPhotoCarouselInPost(e){if(!e)return;const t=(0,q.initPhotoBlockInPost)(e,se.sendPhotoCarouselEvent.bind(se));(0,k.data)(e,"photo_carousel",t),(0,ie.pushNavDestroy)((()=>{(0,k.removeData)(e,"photo_carousel")}))},destroyPhotoCarouselByPost(e){const t=(0,k.data)(e,"photo_carousel");t&&t.destroy()},sendPhotoCarouselEvent(e,t,o=null){if(!t)return;const i=t.querySelector(".post_img"),s=i&&i.getAttribute("data-post-id");if(!s)return;let n="",r="";const a=s.match(/(-?\d+)_p(\d+)/);if(!a||!a[1]||!a[2])return;n=a[1],r=a[2];let l=t.getAttribute("data-photo-raw-id");const c=t.getAttribute("data-pseudopost-type"),d=t.getAttribute("data-post-creation-timestamp");if(!l&&"photo_group"===c&&o){const e=o.target;if(e&&e.href){const t=e.href.match(/\/photo(-?\d+_\d+)/);l=t&&t[1]}}const u={event_type:e,content_type:c,post_owner_id:n,post_id:r,photo_raw_id:l,timestamp:d,ref:se.getModuleRef()};(0,P.statlogsValueEvent)("feed_new_carousel_stat",u)},disablePhotoRecognizeBlock(e){const t=document.getElementById(`${F.BlockTypeIds.PhotoRecognize}`);t&&(cur.feedEntriesHTML[`${F.BlockTypeIds.PhotoRecognize}_ignored`]=(0,k.val)(t),ajax.post("al_feed.php",{act:"disable_recognize_block",hash:e},{onDone:e=>{(0,k.val)(t,e)}}))},enablePhotoRecognizeBlock(e){const t=document.getElementById(`${F.BlockTypeIds.PhotoRecognize}`);t&&ajax.post("al_feed.php",{act:"enable_recognize_block",hash:e},{onDone:()=>{(0,k.val)(t,cur.feedEntriesHTML[`${F.BlockTypeIds.PhotoRecognize}_ignored`])}})},initRightBlocks:e=>{(0,X.initFeedRightBlocks)(e)}}},385295:(e,t,o)=>{o.d(t,{longView:()=>a});var i=o(944615),s=o(795558),n=o(82161);let r={tracking:[],viewed:{}};const a={process:(e,t)=>{const{tracking:o,viewed:a}=r;if(0===o.length)return[];let l=[];return(0,n.each)(o,(function(o,r){let c=(0,s.domFC)(r),d=c.id;if(!c||!d)return;let u=(0,s.domData)(c,"ad-block-uid"),_=""+d;if(u&&(_+="_"+u),!a[_]&&document.body.contains(r))if((0,i.isElemViewable)(r,.5,e,t)){let e=Date.now();r.longViewStartedAt?e-r.longViewStartedAt>=1e3&&(a[_]=!0,l.push((0,n.extend)({},(0,i.postsGetRaws)(r),{long:1}))):r.longViewStartedAt=Date.now()}else r.longViewStartedAt=null})),l},registerElement:e=>!!e&&(!!e.longViewTracking||!e.longViewRegistered&&(e.longViewRegistered=!0,e.longViewTracking=(0,i.isAutoplayAd)(e)||(0,i.isAdWithLongImpression)(e)||(0,i.isAdWithLongImpressionOnly)(e),!!e.longViewTracking&&(r.tracking.push(e),!0)))}},145637:(e,t,o)=>{o.d(t,{ON_BOARDING_BG_RECT_ID:()=>l,default:()=>u});var i=o(795558),s=o(953908),n=o(438221),r=o(23087),a=o(84543);const l="onboarding_bg_rect",c="page_header_cont",d="onboarding";class u{initOnboardingBG(){if(!window.onboardingBG){let e='\n<div id="onboarding_layout">\n  <svg id="onboarding_bg_header" width="100%" height="49px">\n    <rect id="onboarding_bg_rect" class="GroupOnboardingBg" x="0" y="0" width="100%" height="100%" fill-opacity="0.8" fill="#000"></rect>\n  </svg>\n  <svg id="onboarding_bg" width="100%" height="100%">\n  <defs>\n    <mask id="mask" x="0" y="0" width="100%" height="100%">\n      <rect x="0" y="0" width="100%" height="100%" fill="#fff"></rect>\n      <rect id="onboarding_bg_clip" class="GroupOnboardingBgClip" x="0" y="0" width="0" height="0" fill="#000" rx="8" ry="8"></rect>\n    </mask>\n  </defs>\n  <rect id="onboarding_bg_rect" class="GroupOnboardingBg" x="0" y="42" width="100%" height="100%" mask="url(#mask)" fill-opacity="0.8"></rect>\n  </svg>\n</div>\n      ',t=(0,i.se)(e);(0,i.domInsertBefore)(t,window.layerBG),window.onboardingBGHeader=(0,i.ge)("onboarding_bg_header"),window.onboardingBG=(0,i.ge)("onboarding_bg"),window.onboardingBGRect=(0,i.ge)(l),window.onboardingBGClip=(0,i.ge)("onboarding_bg_clip"),window.cur.destroy.push((()=>{(0,i.hide)(window.onboardingBG),(0,i.hide)(window.onboardingBGHeader),(0,i.removeClass)((0,i.ge)(c),d),this.hideDarkness=!0,this.hideTT(),delete window.onboardingBG,delete window.onboardingBGHeader,delete window.onboardingBGRect,delete window.onboardingBGClip,this.opts.onBGClick&&(0,s.removeEvent)(window.onboardingBG,"click",this.opts.onBGClick)}))}this.opts.onBGClick&&(0,s.addEvent)(window.onboardingBG,"click",this.opts.onBGClick)}showTT(){const[,e]=(0,i.getXY)(this.el);this.tt=new a.ElementTooltip(this.el,this.ttParams),this.opts.highlight&&(this.addDarkness(),this.addHighlight()),this.tt.show();const t=this.tt.getContent();(0,r.isElementInViewport)(this.el)&&(0,r.isElementInViewport)(t)||(0,n.scrollToY)(e-42-this.ttParams.scrollOffset)}hideTT(){this.tt&&(this.tt.destroy(),this.removeDarkens(),this.hideDarkness&&((0,s.removeEvent)(window,"scroll"),(0,s.removeEvent)(window,"resize")),this.opts.onBGClick&&window.onboardingBG&&(0,s.removeEvent)(window.onboardingBG,"click",this.opts.onBGClick),this.opts.onHide&&this.opts.onHide())}addHighlight(){window.onboardingBGClip&&(this.highlightElement(),(0,s.addEvent)(window,"scroll",this.onScrollTT.bind(this)),(0,s.addEvent)(window,"resize",this.onResizeTT.bind(this)))}highlightElement(){let e=this.el.offsetWidth,t=this.el.offsetHeight,o=(0,i.getXY)(this.el);(0,i.attr)(window.onboardingBGClip,"width",e+this.border[1]+this.border[3]),(0,i.attr)(window.onboardingBGClip,"height",t+this.border[0]+this.border[2]),(0,i.attr)(window.onboardingBGClip,"x",o[0]-this.border[1]),(0,i.attr)(window.onboardingBGClip,"y",o[1]-this.border[0])}onResizeTT(){this.setDartToFullWidth(),this.highlightElement()}onScrollTT(){let e=this.getPageHeight();window.onboardingBG.height!=e&&this.setDartToFullHeight()}setDartToFullHeight(){(0,i.attr)(window.onboardingBG,"height",this.getPageHeight())}setDartToFullWidth(){(0,i.attr)(window.onboardingBG,"width",this.getPageWidth()),(0,i.attr)(window.onboardingBGHeader,"width",this.getPageWidth())}addDarkness(){(0,i.isVisible)(window.onboardingBG)||(this.setDartToFullHeight(),this.setDartToFullWidth(),(0,i.show)(window.onboardingBG),(0,i.isVisible)(window.onboardingBGHeader)||((0,i.show)(window.onboardingBGHeader),(0,i.addClass)((0,i.ge)(c),d)))}removeDarkens(){this.hideDarkness&&((0,i.hide)(window.onboardingBG),(0,i.hide)(window.onboardingBGHeader),(0,i.removeClass)((0,i.ge)(c),d))}ttOnHide(){this.hideTT()}show(){setTimeout(this.showTT.bind(this),1e3)}getPageWidth(){const e=document.documentElement,t=document.body;return Math.max(t.scrollWidth,e.scrollWidth,t.offsetWidth,e.offsetWidth,t.clientWidth,e.clientWidth)}getPageHeight(){const e=document.documentElement,t=document.body;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)}constructor(e,t,o={}){this.el=e,this.text=t,this.hideDarkness=!0,this.oldColor=!1;var i;let s={autoShow:!1,noAutoHideOnWindowClick:null==(i=o.noAutoHideOnWindowClick)||i,content:t instanceof HTMLElement?t:`${t}`,cls:`feature_intro_tt tutorial_tip_tt ${(()=>{var e;const t=null!=(e=o.class)?e:"";return o.tooltipWhite?t:t+" feature_intro_blue_tt"})()}`,appendToParent:!0,onHide:this.ttOnHide.bind(this),scrollOffset:o.scrollOffset||0,align:o.align||a.ElementTooltip.ALIGN_CENTER};o.side&&(s.forceSide=o.side),o.offset&&(s.offset=o.offset),o.width&&(s.width=o.width),o.shift&&(s.centerShift=o.shift),o.border?this.border=o.border:this.border=[10,10,10,10],o.ttOnHide&&(s.onHide=o.ttOnHide),o.withCloseButton&&(s.withCloseButton=o.withCloseButton,s.onCloseButtonClick=o.onCloseButtonClick),o.align&&(s.align=o.align),this.ttParams=s,this.opts=o,this.initOnboardingBG()}}},23087:(e,t,o)=>{function i(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}o.d(t,{isElementInViewport:()=>i})},719645:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{evalWithLogging:()=>evalWithLogging});var _web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(643897);const evalWithLogging=evalString=>{try{return eval(evalString)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_0__.logEvalError)(e,evalString)}}},827652:(e,t,o)=>{o.d(t,{Likes:()=>y});var i=o(434788),s=o(795558),n=o(953908),r=o(320422),a=o(82161),l=o(893106),c=o(95432),d=o(664988),u=o(514986),_=o(29271),p=o(693982),h=o(234514),f=o(682951),g=o(898298),w=o(999237),m=o(878021),v=o(228411),b=o(362246),k=o(944615);const y={toggle(e,t,o,i){if((0,n.cancelEvent)(t),(0,d.isObject)(window.cur)&&(0,d.isFunction)(cur.viewAsBox))return cur.viewAsBox();if(vk.widget&&!vk.id)return window.Widgets.oauth();const r=(0,s.hasClass)(e,"active");(0,s.addClass)(e,"animate"),this.clientUpdate(o,h.LikeButtonTypes.like,r?-1:1,!r);const a=o.match(/^(video)(?!(_comment))(.*)/)?(0,b.getVideoTrackCode)():void 0,l={act:r?"a_do_unlike":"a_do_like",object:o,hash:i,list:cur.pvListId,wall:2,from:this._getReference(o),from_widget:vk.widget?1:0,track_code:a},c=()=>((0,s.toggleClass)(e,"active",r),this.clientUpdate(o,h.LikeButtonTypes.like,r?1:-1,r),!1);window.ajax.post("like.php",l,{onDone:t=>{if(t.unauth_action_box)return c(),void m.UnauthActionBox.show(t.unauth_action_box);this.update(o,t);const i=o.match(/^(wall|market)(.*)/);i&&cur.onLike&&cur.onLike(e,i[1],i[2],r)},onFail:c});(0,d.intval)((0,s.domData)(e,"count"))>0?y.showLikes(e,o,{fast:!0}):e.tt&&e.tt.destroy&&e.tt.destroy()},_getReference:e=>cur.pvShown?"photo_viewer":e===cur.wallLayer?"wkview":window.mvcur&&window.mvcur.mvShown?"videoview":cur.wallType?"feed"===cur.wallType?"news"===cur.section?`feed_${cur.subsection?cur.subsection:cur.section}`:"recommended"===cur.section?"feed_recommended"+("recent"!==cur.subsection?"_"+cur.subsection:""):(0,a.inArray)(cur.section,["friends","groups","videos","photos"])?"feed_"+(cur.subsection?"_"+cur.subsection:""):`feed_${cur.section}`:"top"===cur.wallType?"wall_top":"wall_"+(cur.onepost?"one":(cur.wallType||"").indexOf("full_")?"page":"full"):cur.module,share(e,t={},o=void 0){if(vk.widget&&!vk.id)return window.Widgets.oauth();if((0,d.isObject)(window.cur)&&(0,d.isFunction)(cur.viewAsBox))return cur.viewAsBox();if(window.cur){const e=(0,k.getTrackCodeFromPost)(o);window.cur.shareButtonTrackCode=e}const{objectType:s,objectId:n}=(0,p.parseLikeObjectId)(e);(vk.widget?window.showBox:u.showBox)("like.php",(0,i._)({act:"publish_box",object:e,from_widget:vk.widget?1:0},t),{onDone:(e,t)=>{t.unauth_action_box&&(e.hide(),m.UnauthActionBox.show(t.unauth_action_box))},stat:[window.jsc("web/page.js"),"page.css",window.jsc("web/wide_dd.js"),"wide_dd.css",window.jsc("web/sharebox.js")]}),"wall"===s&&window.Wall&&window.Wall.triggerAdPostStat(n,"share_post"),cur.RpcMethods&&(cur.RpcMethods.likeFullUpdate=t=>y.update(e,window.cleanObj(t)))},clientUpdate(e,t,o,i){const n=this._getButtonsByType(e,t);if(!n.length)return;const r=(0,d.intval)((0,s.domData)(n[0],"count"))+o;this._updateDom(e,t,r,i),this.updateExternalIndex(e,{type:t,count:r,isActive:i})},update(e,t){if(!isNaN(parseInt(t.like_num))){const o=(0,d.isUndefined)(t.like_my)?void 0:!!(0,d.intval)(t.like_my);this._updateDom(e,h.LikeButtonTypes.like,t.like_num,o,t.like_title),this.updateExternalIndex(e,{type:h.LikeButtonTypes.like,count:t.like_num,isActive:o})}if(!isNaN(parseInt(t.share_num))){const o=(0,d.isUndefined)(t.share_my)?void 0:!!(0,d.intval)(t.share_my);this._updateDom(e,h.LikeButtonTypes.share,t.share_num,o,t.share_title),this.updateExternalIndex(e,{type:h.LikeButtonTypes.share,count:t.share_num})}if((0,a.isNumeric)(t.views_num)&&this._updateDom(e,h.LikeButtonTypes.views,t.views_num,void 0,t.views_title),(0,a.isNumeric)(t.comment_num)&&this._updateDom(e,h.LikeButtonTypes.comment,t.comment_num),t[f.REACTIONS_COUNTS_RESPONSE_FIELD]){const o=!!t.isQueueUpdate;(0,w.triggerReactionsUpdate)(e,t[f.REACTIONS_COUNTS_RESPONSE_FIELD],void 0,{isQueueUpdate:o,isUserAction:!1,previewVisibility:g.previewVisibilityUseCurrent})}},updateComments(e,t){this.update(e,{comment_num:t})},_updateDom(e,t,o,i,n){const r=this._getButtonsByType(e,t),c=t===h.LikeButtonTypes.views;if(!(null==r?void 0:r.length))return;let u="";c?u=o:o>0&&(u=vk.widget?(0,a.formatCount)(o):(0,_.langNumeric)(o,"%s",!0)),c||(o=(0,d.intval)(o));for(let e=0;e<r.length;e++){const a=r[e];if((0,s.hasClass)(a,"no_counter"))continue;const _=c?r[e]:(0,p.getElementLikeButtonCount)(r[e]);var f;if((0,l.animateCount)(_,u,{str:"auto",noWrapWidth:!c,noSpaceIfEmpty:!0}),(0,s.toggleClass)(a,"empty",o<=0),"boolean"==typeof i&&(0,s.toggleClass)(a,"active",i),(0,s.attr)(r[e],"data-count",o),(0,v.updateAriaLabelCounter)(a,o,t),c)null==a||null==a.closest||null==(f=a.closest(".like_views"))||f.setAttribute("title",n||"");const g=r[e].tt;if(g){const e=(0,s.domByClass)(g.container,"_content"),r=(0,s.domByClass)(g.container,"_value"),l=(0,s.domByClass)(g.container,"_title"),c=(0,d.intval)((0,s.val)(r));(0,s.val)(r,o),n&&(0,s.val)(l,n),(0,d.isObject)(g)&&(g.likeInvalidated=!0),(c!==o&&c<7||!1===n)&&(t===h.LikeButtonTypes.like?a.needReinitLikesTT=!0:t===h.LikeButtonTypes.share&&(a.needReinitShareTT=!0)),t===h.LikeButtonTypes.like&&(0,s.toggleClass)(e,"me_hidden",!i),!1===n&&g.destroy&&g.destroy()}}},_getButtonsByType:(e,t)=>(0,s.domQuery)(`._like_${e} ._${t}, ._like_${e} [data-like-button-type="${t}"]`),showLikes(e,t,o={}){if(!e||!(e instanceof HTMLElement)||e.postDontShowLikes)return;if(vk.widget&&vk.show_external_auth_box)return;let i=o.views?{views:1}:o.share?{published:1}:{};o.listId&&(i.list=o.listId),o.like_hash&&(i.like_hash=o.like_hash),o.like_stats_params&&Object.assign(i,o.like_stats_params);const n=!!(0,s.geByClass1)("share",(0,s.gpeByClass)("like_wrap",e));let l=document.body,c=!1;const u=getComputedStyle(e),_=(0,d.intval)(u.getPropertyValue("padding-left").replace("px","")),h=(0,d.intval)(u.getPropertyValue("padding-top").replace("px","")),f=(0,p.getElementLikeButtonIcon)(e);let g=40;"wpost"===o.from&&(g=24);const w=[g-(0,s.getSize)(f)[0]/2-_,10-h];let m=o.cl||"";if(o.share)m+="likes_tt_share";else if(m+="likes_tt_like","widget_community"===o.from)w[0]=6;else if("wcomments"===o.from||"widget_comments"===cur.wallType){const t=16,o=10;w[0]=(0,s.getSize)(e)[0]+t-(0,s.getSize)(f)[0]/2-o}else"photo_carousel"===o.from&&(w[1]=10);if(!!(null==o?void 0:o.isFromReactionsPreview)){const t=e.querySelector("._ReactionsPreview__itemsContainer");if(t){const e=t.querySelector(".ReactionsPreviewItem"),o=(0,s.getXYRect)(e,!1),i=(o.width||0)/2;let n=i;l=t;o.left+o.width/2>window.innerWidth/2&&(c=!0,n=t.offsetWidth-i),w[0]=-n+g}}let v,b;o.share?(v="needReinitLikesTT",b="resetLikesTTTimer"):(v="needReinitShareTT",b="resetShareTTTimer"),clearTimeout(e[b]),(0,r.showTooltip)(e,{url:"/like.php",params:(0,a.extend)({act:"a_get_stats",object:t,has_share:n?1:""},i),appendEl:l,slide:15,shift:w,ajaxdt:o.fast?0:100,showdt:o.fast?0:400,hidedt:200,dir:"auto",checkLeft:!0,needLeft:c,reverseOffset:80,noZIndex:!0,hasover:!0,tip:{over:()=>{y.showLikes(e,t,o)}},typeClass:"like_tt",className:m,onHide:()=>{clearTimeout(e[b]),e[v]&&(e[b]=setTimeout((()=>{delete e[v],e.tt&&e.tt.destroy&&e.tt.destroy()}),200))}})},showShare:function(e,t,o){y.showLikes(e,t,(0,a.extend)(o,{share:1}))},updateViews:(e,t)=>{vk.widget&&vk.show_external_auth_box||window.ajax.post("like.php",{act:"a_get_stats",object:e,views:1},{cache:1,onDone(t,o){const i=(0,s.ce)("div",{innerHTML:o});y._updateDom(e,h.LikeButtonTypes.views,t,void 0,i.innerText||i.textContent)}})},makeTemplate(e,t){if(!e)return"";(t=(0,a.extend)({buttons_prepend:"",object_raw:"",likes_count:"",liked:!1,share_count:"",shared:"",views_count:"",share_opts:{},like_opts:{},class_name:"",like_cont_class:"",like_class_name:"",[f.REACTIONS_COUNTS_RESPONSE_FIELD]:"",reactions_class_name:""},t)).like_active=t.liked?"active":"",t.share_active=t.shared?"active":"",t.comment_active="",t.likes_formatted_count=t.likes_count>0?(0,_.langNumeric)(t.likes_count,"%s",!0):"",t.share_formatted_count=t.share_count>0?(0,_.langNumeric)(t.share_count,"%s",!0):"",t.share_opts=this._convertOptsToString(t.share_opts),t.like_opts=this._convertOptsToString(t.like_opts),t.like_class_name+=t.likes_count>0?"":" empty",t.share_class_name=t.share_count>0?"":"empty";const o=t[f.REACTIONS_COUNTS_RESPONSE_FIELD],i=!!o&&Object.values(o).some((e=>!!e));return t.reactions_class_name+=i?"":" PostBottomAction--empty",(0,s.rs)(e,t)},_convertOptsToString:e=>JSON.stringify(e).replace(/\"/g,"'"),updateExternalIndex(e,t={}){const{objectType:o,objectId:i}=(0,p.parseLikeObjectId)(e);switch(o){case"photo":if(!cur.pvShown||!cur.pvCurPhoto||cur.pvCurPhoto.id!==i)return;const e=cur.pvListId,o=cur.pvIndex,s=cur.pvData[e][o];t.type===h.LikeButtonTypes.like?(s.likes=t.count,s.liked=t.isActive,cur.pvCommsLikes[s.id][1]=t.count):t.type===h.LikeButtonTypes.share&&(s.shares=t.count);break;case"video":if(window.mvcur&&window.mvcur.mvShown&&window.mvcur.videoRaw===i&&t.type===h.LikeButtonTypes.like){const e=window.Videoview.getMvData();e.likes=t.count,void 0!==t.isActive&&(e.liked=t.isActive,window.Videoview.playerOnLiked(t.isActive),window.Videoview.recache())}break;case"clip":t.type===h.LikeButtonTypes.like&&window.Videoview.playerOnLiked(t.isActive)}},showLikesList(e,t){cur.viewAsBox||(0,s.hasClass)((0,s.gpeByClass)("like_btn",e),"no_counter")||(0,c.showWiki)({w:"likes/"+(0,a.clean)(t)},!1,!1,{queue:1})},showSharesList(e,t){cur.viewAsBox||(0,s.hasClass)((0,s.gpeByClass)("like_btn",e),"no_counter")||(0,c.showWiki)({w:"shares/"+(0,a.clean)(t)},!1,!1,{queue:1})}}},120425:(e,t,o)=>{o.d(t,{default:()=>u});var i=o(725296),s=o(221780),n=o(584356),r=o(82161),a=o(953908),l=o(795558),c=o(404145),d=o(672132);const u={init(e,t){let o,u,_,p=(0,l.ge)("video_live_blacklist_search"),h=(0,l.ge)("video_live_blacklist_wrap"),f=(0,l.domByClass)(h,"olist");const g={};function w(e){const i=e;if((e=(0,r.trim)(e).replace(/\s+/g," ").toLowerCase())===u)return;u=e;const n=e?o.search(e):t.list;let a="";if(n.length){const t=new RegExp(e,"i");for(let o,i=0;i<n.length;i++)o=n[i],a+=(0,r.getTemplate)("video_live_blacklist_item",{id:o.id,href:o.href,photo:o.photo,name:e?o.name.replace(t,"<em>$&</em>"):o.name,class:g[o.id]?" olist_item_wrap_on":""})}else a=(0,r.getTemplate)("video_live_blacklist_empty",{text:(0,s.langStr)(s.getLang("global_search_not_found"),"search","<b>"+(0,r.clean)(i)+"</b>")});(0,l.val)(f,a)}e.setOptions({bodyStyle:"padding:0;",onDestroy:function(){uiSearch.destroy(p),_&&_.destroy(),e=o=_=h=p=null}}),t.list.length&&(e.removeButtons().addButton(s.getLang("global_save"),(function(o){ajax.post("al_video.php?act=save_live_blacklist",{exclude:Object.keys(g).join(","),hash:t.save_hash},{onDone:function(t){e.hide(),t&&(0,n.showDoneBox)(t)},showProgress:()=>(0,i.lockButton)(o),hideProgress:()=>(0,i.unlockButton)(o)})})).addButton(s.getLang("global_cancel"),null,"no"),_=new uiScroll(h),w(""),h.onclick=function(e){const t=(0,l.domClosest)("olist_item_wrap",e.target);if(!t)return;(0,a.cancelEvent)(e);const o=(0,l.domData)(t,"id");(0,l.toggleClass)(t,"olist_item_wrap_on")?g[o]=1:delete g[o]},p&&(o=new d.vkIndexer(t.list,(function(e){return e.name+" https://"+(0,c.getHostName)()+e.href})),uiSearch.init(p,{onChange:w}),uiSearch.focus(p)))}}}},__webpack_module_cache__={},deferred,leafPrototypes,getProto,inProgress,loadStylesheet,installedCssChunks;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var o=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(o.exports,o,o.exports,__webpack_require__),o.loaded=!0,o.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(e,t,o,i)=>{if(!t){var s=1/0;for(l=0;l<deferred.length;l++){for(var[t,o,i]=deferred[l],n=!0,r=0;r<t.length;r++)(!1&i||s>=i)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](t[r])))?t.splice(r--,1):(n=!1,i<s&&(s=i));if(n){deferred.splice(l--,1);var a=o();void 0!==a&&(e=a)}}return e}i=i||0;for(var l=deferred.length;l>0&&deferred[l-1][2]>i;l--)deferred[l]=deferred[l-1];deferred[l]=[t,o,i]},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var o=Object.create(null);__webpack_require__.r(o);var i={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var s=2&t&&e;"object"==typeof s&&!~leafPrototypes.indexOf(s);s=getProto(s))Object.getOwnPropertyNames(s).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,__webpack_require__.d(o,i),o},__webpack_require__.d=(e,t)=>{for(var o in t)__webpack_require__.o(t,o)&&!__webpack_require__.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,o)=>(__webpack_require__.f[o](e,t),t)),[])),__webpack_require__.u=e=>75980===e?"menu_settings.fe841ee6e9d1770c7df7.js":9375===e?"voice_message_player.050d74b181d5db2642f0.js":28762===e?"speech.5c7a8bafaa4c80a92840.js":57468===e?"SilentModeForms.8425705394906aebc7de.js":96248===e?"feed-skeleton.6830e5b139046f63a92d.js":59240===e?"performance-stats.d89fb0a11246583657a4.js":void 0,__webpack_require__.miniCssF=e=>e+"."+{57468:"e8a9b5d3b4a38f45d2ec",75980:"519f671449550110bbb1"}[e]+".css",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},__webpack_require__.l=(e,t,o,i)=>{if(inProgress[e])inProgress[e].push(t);else{var s,n;if(void 0!==o)for(var r=document.getElementsByTagName("script"),a=0;a<r.length;a++){var l=r[a];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")=="vk:"+o){s=l;break}}s||(n=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,__webpack_require__.nc&&s.setAttribute("nonce",__webpack_require__.nc),s.setAttribute("data-webpack","vk:"+o),s.src=e),inProgress[e]=[t];var c=(t,o)=>{s.onerror=s.onload=null,clearTimeout(d);var i=inProgress[e];if(delete inProgress[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(o))),t)return t(o)},d=setTimeout(c.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=c.bind(null,s.onerror),s.onload=c.bind(null,s.onload),n&&document.head.appendChild(s)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.p="/dist/",loadStylesheet=e=>new Promise(((t,o)=>{var i=__webpack_require__.miniCssF(e),s=__webpack_require__.p+i;if(((e,t)=>{for(var o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var s=(r=o[i]).getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(s===e||s===t))return r}var n=document.getElementsByTagName("style");for(i=0;i<n.length;i++){var r;if((s=(r=n[i]).getAttribute("data-href"))===e||s===t)return r}})(i,s))return t();((e,t,o,i)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.onerror=s.onload=n=>{if(s.onerror=s.onload=null,"load"===n.type)o();else{var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=a,s.parentNode.removeChild(s),i(l)}},s.href=t,document.head.appendChild(s)})(e,s,t,o)})),installedCssChunks={12495:0},__webpack_require__.f.miniCss=(e,t)=>{installedCssChunks[e]?t.push(installedCssChunks[e]):0!==installedCssChunks[e]&&{57468:1,75980:1}[e]&&t.push(installedCssChunks[e]=loadStylesheet(e).then((()=>{installedCssChunks[e]=0}),(t=>{throw delete installedCssChunks[e],t})))},(()=>{var e={12495:0};__webpack_require__.f.j=(t,o)=>{var i=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==i)if(i)o.push(i[2]);else if(75980!=t){var s=new Promise(((o,s)=>i=e[t]=[o,s]));o.push(i[2]=s);var n=__webpack_require__.p+__webpack_require__.u(t),r=new Error;__webpack_require__.l(n,(o=>{if(__webpack_require__.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=o&&("load"===o.type?"missing":o.type),n=o&&o.target&&o.target.src;r.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",r.name="ChunkLoadError",r.type=s,r.request=n,i[1](r)}}),"chunk-"+t,t)}else e[t]=0},__webpack_require__.O.j=t=>0===e[t];var t=(t,o)=>{var i,s,[n,r,a]=o,l=0;if(n.some((t=>0!==e[t]))){for(i in r)__webpack_require__.o(r,i)&&(__webpack_require__.m[i]=r[i]);if(a)var c=a(__webpack_require__)}for(t&&t(o);l<n.length;l++)s=n[l],__webpack_require__.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return __webpack_require__.O(c)},o=self.webpackChunkvk=self.webpackChunkvk||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var __webpack_exports__=__webpack_require__.O(void 0,[75514,98066,56990,76429,24509,76400,40885,68592,61317,70486],(()=>__webpack_require__(398986)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();