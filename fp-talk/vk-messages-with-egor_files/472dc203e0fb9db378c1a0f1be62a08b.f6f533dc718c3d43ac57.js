(self.webpackChunkvk=self.webpackChunkvk||[]).push([[28081],{943546:(e,t,a)=>{"use strict";a.d(t,{SCHEDULED_CALLS_NEXT_PAGE_COUNT:()=>i,SCHEDULED_CALLS_PAGE_COUNT:()=>s,callSounds:()=>o,initialStateScheduledCalls:()=>l});const s=3,i=10,l={profiles:{},me:window.vk&&window.vk.id},o={end:"/mp3/call_end.mp3",incoming:"/mp3/call_incoming.mp3",outgoing:"/mp3/call_outgoing.mp3",connected:"/mp3/call_connected.mp3",connecting:"/mp3/call_connecting.mp3"}},57177:(e,t,a)=>{"use strict";a.d(t,{decode:()=>o,langUtils:()=>r});var s=a(221780),i=a(788822),l=a(29271);const o=e=>(0,i.escape)((0,i.decodeHTMLEntities)(e)),r={getLang:l.getLang,langReplace:l.langReplace,langSex:(e,t,a)=>(0,s.langSex)(e,a),langNumeric:(e,t,a,i)=>(0,s.langNumeric)(e,a,i),langShortDateTime:e=>(0,s.langDate)(e,l.getLang("global_short_date_time","raw"),0,l.getLang("months_of"),!0),langShortDate:(e,t=!0)=>(0,s.langDate)(e,l.getLang("global_short_date","raw"),0,l.getLang("months_sm_of"),t)}},121883:(e,t,a)=>{"use strict";a.d(t,{changeQuery:()=>b,dispatchDeleteCall:()=>n,dispatchSetCurrentCalls:()=>c,dispatchSetError:()=>u,dispatchSetHistoryCalls:()=>r,dispatchSetLoading:()=>p,dispatchSetShowCreateButton:()=>m,loadCurrentCalls:()=>g,loadHistoryCalls:()=>f,loadProfiles:()=>C,mapProfiles:()=>_,updateProfilesAndUrls:()=>h});var s=a(162532),i=a(455319),l=a(563247),o=a(939723);const r=e=>({type:o.HistoryScreenActionTypes.SET_HISTORY_CALLS,data:e}),n=e=>({type:o.HistoryScreenActionTypes.DELETE_CALL,data:e}),c=e=>({type:o.HistoryScreenActionTypes.SET_CURRENT_CALLS,data:e}),d=e=>({type:o.HistoryScreenActionTypes.SET_PROFILES,data:e}),u=e=>({type:o.HistoryScreenActionTypes.ERROR,data:e}),m=e=>({type:o.HistoryScreenActionTypes.SET_SHOW_CREATE_BUTTON,data:e}),p=e=>({type:o.HistoryScreenActionTypes.SET_LOADING,data:e});function h(e,t){let a=[],s=[];for(let e of t){var i,r,n,c;if((null==e?void 0:e.profiles)&&(null==(i=e.profiles)?void 0:i.length)>0&&(a=[...a,...e.profiles]),"anonyms"in e)(null==e?void 0:e.anonyms)&&(null==(c=e.anonyms)?void 0:c.length)>0&&(a=[...a,...e.anonyms]);(null==e?void 0:e.groups)&&(null==(r=e.groups)?void 0:r.length)>0&&(a=[...a,...e.groups]),(null==e?void 0:e.items)&&(null==(n=e.items)?void 0:n.length)>0&&(s=[...s,...e.items])}return a.length&&C(e,a),s.length&&function(e,t){const a=t.reduce(((e,t)=>{let a=0;a="type"in t?(0,l.getHistoryCallPeerId)(t):(0,l.getCurrentCallPeerId)(t);const s=String(a);return s in e||(null==t?void 0:t.join_link)&&(e[s]=null==t?void 0:t.join_link),e}),{});e({type:o.HistoryScreenActionTypes.SET_URLS,data:a})}(e,s),Promise.resolve(s.length>0)}function g(e){return(0,s.getCurrentCalls)().then((t=>{var a;const s=null!=(a=null==t?void 0:t.items)?a:[];return s instanceof Array&&e(c(s)),t}))}function f(e,t=5,a=0,i=0,l="all",o=[],n=!1){return(0,s.getCallsHistory)(t,a,i,l).then((t=>{var a;const s=null!=(a=null==t?void 0:t.items)?a:[],i=s.length>0||n;let l=[];return s.length>0&&(l=[...o,...s]),i&&e(r(l)),t}))}function _(e){return e.reduce(((e,t)=>{const a=String(t.id);if(!(a in e)){let s=(0,i.normalizeUser)(t);"group"===t.type||"page"===t.type?e["-"+a]=s:e[a]=s}return e}),{})}function C(e,t){const a=_(t);e(d(a))}function b(e){window.nav.setLoc(window.nav.fromStr(e))}},193527:(e,t,a)=>{"use strict";a.d(t,{BaseModal:()=>u});var s,i=a(785893),l=a(667294),o=a(973935),r=a(315954),n=a(659397),c=a(22412),d=a(869048);!function(e){e.Base="CallsBaseModal",e.Backdrop="CallsBaseModal__backdrop",e.Content="CallsBaseModal__content",e.Cross="CallsModalHeader__cross"}(s||(s={}));class u extends l.Component{componentDidMount(){const{disableEscapeClose:e,disableBodyScroll:t}=this.props;e||document.body.addEventListener("keydown",this.onDocumentKeyDown),t&&(this._scrollbarMeasureClass=(0,i.jsx)("div",{className:"CallsBaseModal__scrollbarMeasure"}).props.className,this._bodyHiddenOverflowClass=(0,i.jsx)("div",{className:"CallsBaseModal__bodyHiddenOverflow"}).props.className,this.hideScrollBar())}componentWillUnmount(){const{disableEscapeClose:e,disableBodyScroll:t}=this.props;e||document.body.removeEventListener("keydown",this.onDocumentKeyDown),t&&this.showScrollBar()}renderModal(){const{className:e,enableCrossButton:t,onClose:a}=this.props,s=(0,n.classNames)("CallsBaseModal",e);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"CallsBaseModal__backdrop"}),(0,i.jsx)("div",{className:s,role:"dialog","aria-label":this.props.label||"","aria-modal":"true",onClick:this.onBackdropClick,children:(0,i.jsxs)("div",{className:"CallsBaseModal__content",children:[t&&(0,i.jsxs)("button",{className:"CallsModalHeader__cross",type:"button",onClick:a,children:[(0,i.jsx)(r.Icon24Cancel,{width:22,height:22}),"Закрыть"]}),(0,i.jsx)(d.AppRootProvider,{children:this.props.children})]})})]})}render(){return o.createPortal(this.renderModal(),document.body)}constructor(...e){super(...e),this.getScrollbarWidth=()=>{const e=document.createElement("div");e.classList.add(this._scrollbarMeasureClass),document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},this.hideScrollBar=()=>{const e=document.body.getBoundingClientRect(),t=e.left+e.right<window.innerWidth,a=this.getScrollbarWidth();this.calculatedPadding=window.getComputedStyle(document.body).paddingRight,t&&(document.body.style.paddingRight=`${parseFloat(this.calculatedPadding)+a}px`),document.body.classList.add(this._bodyHiddenOverflowClass)},this.showScrollBar=()=>{document.body.style.paddingRight=this.calculatedPadding,document.body.classList.remove(this._bodyHiddenOverflowClass)},this.onDocumentKeyDown=e=>{const{onClose:t}=this.props;e.key===c.KeyboardCodes.Escape&&t()},this.checkPreventCloseClasses=e=>!!this.props.preventCloseClasses&&this.props.preventCloseClasses.some((t=>{var a;return null==(a=e.target)||null==a.closest?void 0:a.closest(`.${t}`)})),this.onBackdropClick=e=>{const{onClose:t,onBackdropClick:a,disableBackdropClick:s}=this.props;s||e.target instanceof Element&&(e.target.closest(".CallsBaseModal__content")||this.checkPreventCloseClasses(e))||(a?a():t())}}}},769719:(e,t,a)=>{"use strict";a.d(t,{CallChip:()=>o});var s=a(785893),i=a(667294),l=a(659397);const o=(0,i.memo)((({value:e,onClick:t,selected:a,children:i})=>(0,s.jsx)("div",{className:(0,l.classNames)("CallChip",{"CallChip--selected":!!a}),onClick:()=>t(e),children:i})));o.displayName="CallChip"},417174:(e,t,a)=>{"use strict";a.d(t,{CallPhoto:()=>h});var s=a(785893),i=a(667294),l=a(518219),o=a(659397),r=a(22412),n=a(114557),c=a(796317),d=a(496111),u=a(469754),m=a(935562),p=a(22490);const h=({id:e,waves:t=!1,size:a,photo:h="",alt:g,letter:f,showCreatorBadge:_,showAdminBadge:C,className:b,isNFT:v,isOrator:A,isMiniApp:T=!1})=>{const{anonymPhoto:y}=(0,i.useContext)(c.ConfigContext),E=(0,d.isParticipantAnonym)(e);!a&&T&&(a=88);const S=(0,o.classNames)("CallPhoto",b,{"CallPhoto--waves":!!t,[`CallPhoto--${a}`]:!!a&&!v});if(v)return(0,s.jsx)(u.CallPhotoNFT,{imgAlt:g,src:h,showAdminBadge:C,showCreatorBadge:_,size:(0,o.isNumber)(a)?a:void 0,className:S});var D;const M=null!=f?f:String.fromCodePoint(null!=(D=g.codePointAt(0))?D:32).trim(),U=_?(0,s.jsx)(n.UserBadge,{className:"CallPhoto__badge",type:"creator"}):C?(0,s.jsx)(n.UserBadge,{className:"CallPhoto__badge",type:"admin"}):null;return!h&&M||h.includes(r.DEFAULT_AVATAR)||E&&!y?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.ConversationNoPhoto,{id:Math.abs(e),text:M,size:(0,o.isNumber)(a)?void 0:a,className:S}),U]}):!a&&(null==h?void 0:h.includes(r.DEFAULT_GROUP_CALL_PHOTO))||!M?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"CallPhoto--defaultContainer",children:A?(0,s.jsx)(m.Icon56PhoneOutline,{width:96,height:96}):(0,s.jsx)(p.Icon28PhoneOutline,{})}),U]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:h,className:S,alt:g,draggable:!1}),U]})}},469754:(e,t,a)=>{"use strict";a.d(t,{CallPhotoNFT:()=>n});var s=a(785893),i=a(667294),l=a(514995),o=a(114557),r=a(659397);const n=({showAdminBadge:e,showCreatorBadge:t,imgAlt:a,src:n,className:c,size:d})=>{const u=(0,i.useRef)(null),[m,p]=(0,i.useState)(),h=(0,r.isNumber)(d)?d:m;let g;return(0,i.useLayoutEffect)((()=>{if(!u.current||(0,r.isNumber)(d))return;const e=new ResizeObserver((e=>{for(const t of e){const{height:e}=t.contentRect;p(e)}}));return e.observe(u.current),()=>e.disconnect()}),[d]),t?g=(0,s.jsx)(o.UserBadge,{type:"creator"}):e&&(g=(0,s.jsx)(o.UserBadge,{type:"admin"})),(0,s.jsx)("div",{ref:u,className:c,children:(0,s.jsx)(l.AvatarRich,{isNFT:!0,src:n,imgAlt:a,badge:g,size:h})})}},513885:(e,t,a)=>{"use strict";a.d(t,{default:()=>p});var s=a(434788),i=a(785893),l=a(659397),o=a(937107),r=a(463365),n=a(589201),c=a(749856),d=a(589448),u=a(119783),m=a(869048);const p=e=>{const{className:t,appearance:a="white",title:p,actionButtons:h,onClose:g,children:f,footerHint:_,backText:C,onBack:b,hasScroll:v}=e,A=(0,l.classNames)("CallsModal",`CallsModal--${a}`,t),T=!(!f||!v),y=!(!h&&!_);return(0,i.jsx)(o.default,(0,s._)({},e,{className:(0,l.classNames)(A,"vkui__root"),children:(0,i.jsx)(m.AppRootProvider,{children:(0,i.jsx)(u.FocusTrap,{hasFirstFocusableElement:!0,children:(0,i.jsxs)("div",{role:"dialog","aria-label":p,"aria-modal":"true",children:[(0,i.jsx)(r.ModalHeader,{title:p,onClose:g,backText:C,onBack:b}),T&&(0,i.jsx)(d.default.Body,{hasScroll:v,className:"CallsModalBody",children:f}),!T&&(0,i.jsx)(n.ModalBody,{children:f}),y&&(0,i.jsx)(c.ModalFooter,{actionButtons:h,hint:_})]})})})}))}},589201:(e,t,a)=>{"use strict";a.d(t,{ModalBody:()=>i});var s=a(785893);const i=({children:e})=>(0,s.jsx)("div",{className:"CallsModalBody",children:e})},749856:(e,t,a)=>{"use strict";a.d(t,{ModalFooter:()=>l});var s=a(785893),i=a(659397);const l=({className:e,actionButtons:t,hint:a,children:l})=>(0,s.jsx)("div",{className:(0,i.classNames)("CallsModalFooter","vkui__root",e),children:(0,s.jsxs)("div",{className:"CallsModalFooter__inner",children:[a&&(0,s.jsx)("div",{className:"CallsModalFooter__hint",role:"presentation",children:a}),l&&(0,s.jsx)("div",{className:"CallsModalFooter__content",children:l}),t]})})},463365:(e,t,a)=>{"use strict";a.d(t,{ModalHeader:()=>n});var s=a(785893),i=a(659397),l=a(864032),o=a(315954),r=a(558791);const n=({className:e,title:t,onClose:a,backText:n,onBack:c})=>{const d=(0,i.classNames)("CallsModalHeader",e),{getLang:u}=(0,r.useLangContext)();return(0,s.jsxs)("div",{className:d,children:[n&&(0,s.jsxs)("button",{className:"CallsModalHeader__back",type:"button",onClick:c,children:[(0,s.jsx)(l.Icon28ChevronLeftOutline,{className:"CallsModalHeader__backIcon"}),n]}),(0,s.jsx)("h1",{className:"CallsModalHeader__title",children:t}),(0,s.jsxs)("button",{className:"CallsModalHeader__cross",type:"button",onClick:a,children:[(0,s.jsx)(o.Icon24Cancel,{width:22,height:22}),u("calls_close")]})]})}},737950:(e,t,a)=>{"use strict";a.d(t,{DatePicker:()=>f});var s=a(434788),i=a(785893),l=a(667294),o=a(630286),r=a(849081),n=a(364548),c=a(659397),d=a(589897),u=a(627240),m=a(475926),p=a(157021),h=a(553494),g=a(526881);const f=({date:e,onChange:t,time:a,className:f,onSubmit:_,minDate:C,disableTimeSelect:b,disableDateSelect:v})=>{(0,g.useDisabledDateNotification)(v);const[A]=(0,l.useState)((()=>new Date)),{locale:T,getLang:y}=(0,p.useLocale)(),E=(0,l.useCallback)((e=>{t(e,a)}),[a,t]),S=(0,l.useCallback)((({name:i,selected:l})=>{const o=(0,s._)({},a);i===h.ETimeName.HOUR&&(o.hours=+l.value),i===h.ETimeName.MINUTE&&(o.minutes=+l.value),t(e,o)}),[e,a,t]),D=(0,l.useCallback)(((e,t)=>{const a=v||(0,m.isDisablePrevArrow)(A,e);return(0,i.jsxs)("div",{className:"CallsDatePicker__panel",children:[(0,i.jsx)("button",{type:"button",onClick:()=>t(-1,"monthOffset"),className:(0,c.classNames)({"CallsDatePicker__arrow CallsDatePicker__arrow--minus":!0,"CallsDatePicker__arrow CallsDatePicker__arrow--disabled":a}),children:(0,i.jsx)(r.Icon16ChevronLeft,{})}),(0,i.jsx)("button",{type:"button",onClick:()=>t(1,"monthOffset"),className:(0,c.classNames)({"CallsDatePicker__arrow CallsDatePicker__arrow--plus":!0,"CallsDatePicker__arrow CallsDatePicker__arrow--disabled":!!v}),children:(0,i.jsx)(n.Icon16Chevron,{})})]})}),[A,v]),M=v?e:C||A,U=v?e:void 0;return(0,i.jsx)("div",{className:(0,c.classNames)("CallsDatePicker",f),children:(0,i.jsxs)("div",{className:"CallsDatePicker__wrap",children:[(0,i.jsx)(o.Calendar,{date:e,minDate:M,maxDate:U,editableDateInputs:!1,navigatorRenderer:D,lang:"ru",onChange:E,monthDisplayFormat:"MMM yyyy",weekdayDisplayFormat:"iiiiii",dayDisplayFormat:"d",locale:T,showDateDisplay:!1,direction:"horizontal"}),(0,i.jsx)("div",{className:"CallsDatePicker__divider"}),(0,i.jsxs)("div",{className:"CallsDatePicker__time",children:[(0,i.jsxs)("div",{className:(0,c.classNames)({"CallsDatePicker__time__selectWrap--hidden":!!b}),children:[(0,i.jsx)(u.default,{className:"CallsDatePicker__time__select",appearance:"secondary",options:h.hours,value:a.hours,onChange:S,name:h.ETimeName.HOUR}),(0,i.jsx)("span",{className:"CallsDatePicker__time__divider",children:":"}),(0,i.jsx)(u.default,{className:"CallsDatePicker__time__select",appearance:"secondary",options:h.minutes,value:a.minutes,onChange:S,name:h.ETimeName.MINUTE})]}),(0,i.jsx)(d.default,{size:"m",onClick:_,mode:"primary",children:y("calls_btn_ready")})]})]})})}},553494:(e,t,a)=>{"use strict";var s;a.d(t,{ETimeName:()=>s,hours:()=>l,minutes:()=>o}),function(e){e.HOUR="hour",e.MINUTE="minute"}(s||(s={}));const i=new Intl.NumberFormat("ru-RU",{minimumIntegerDigits:2}),l=new Array(24).fill(null).map(((e,t)=>({label:i.format(t),value:t}))),o=new Array(60).fill(null).map(((e,t)=>({label:i.format(t),value:t})))},526881:(e,t,a)=>{"use strict";a.d(t,{useDisabledDateNotification:()=>o});var s=a(667294),i=a(360230),l=a(915961);const o=e=>{const{showText:t}=(0,i.useNotifier)(),{getLang:a}=(0,l.useLang)();(0,s.useEffect)((()=>{if(!e)return;const s=document.querySelectorAll(".CallsDatePicker .rdrDay.rdrDayDisabled"),i=()=>{t(a("calls_notify_disabled_date_selection"))};return s.forEach((e=>e.addEventListener("click",i))),()=>{s.forEach((e=>e.removeEventListener("click",i)))}}),[e,t])}},157021:(e,t,a)=>{"use strict";a.d(t,{useLocale:()=>o});var s=a(667294),i=a(721570),l=a(915961);const o=()=>{const{getLang:e}=(0,l.useLang)();return{locale:(0,s.useMemo)((()=>{const t=i.default,a=[e("Month1"),e("Month2"),e("Month3"),e("Month4"),e("Month5"),e("Month6"),e("Month7"),e("Month8"),e("Month9"),e("Month10"),e("Month11"),e("Month12")];t.localize.months=()=>a,t.localize.month=e=>a[e],t.options.weekStartsOn=1;const s=[e("global_sunday_short"),e("global_monday_short"),e("global_tuesday_short"),e("global_wednesday_short"),e("global_thursday_short"),e("global_friday_short"),e("global_saturday_short")];return t.localize.weekdays=()=>s,t.localize.weekday=e=>s[e],t}),[]),getLang:e}}},475926:(e,t,a)=>{"use strict";a.d(t,{getDateTimeValue:()=>o,getNextDateTime:()=>r,isDisablePrevArrow:()=>i,isSameDate:()=>l});var s=a(605419);const i=(e,t)=>{const a=e.getFullYear(),s=t.getFullYear();return s<a||!(s>a)&&t.getMonth()<=e.getMonth()},l=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),o=(e,t,a=!1)=>{const i=new Date(e);return i.setHours(t.hours),i.setMinutes(t.minutes),a?(0,s.dateToUnixTimestamp)(i):Math.round(i.valueOf())};function r(e,t,a=0){const s=new Date(e.valueOf());s.setHours(t.hours,t.minutes);const i=new Date(s.valueOf()+a);return{date:i,time:{hours:i.getHours(),minutes:i.getMinutes()}}}},960834:(e,t,a)=>{"use strict";a.d(t,{DialogConfirmClose:()=>n,useDialogConfirmCloseController:()=>c});var s=a(785893),i=a(667294),l=a(513885),o=a(589897),r=a(915961);const n=({description:e,onClose:t,onSubmit:a})=>{const{getLang:i}=(0,r.useLang)();return(0,s.jsx)(l.default,{className:"CallsDialogConfirmClose",title:i("calls_confirm"),onClose:t,actionButtons:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.default,{size:"m",onClick:t,mode:"tertiary",children:i("calls_cancel")}),(0,s.jsx)(o.default,{size:"m",mode:"primary",onClick:a,children:i("calls_exit")})]}),children:e})};function c(){const[e,t]=(0,i.useState)(!1),a=(0,i.useCallback)((()=>{t(!1)}),[]);return{open:e,handleOpenDialog:(0,i.useCallback)((()=>{t(!0)}),[]),handleCloseDialog:a}}},224654:(e,t,a)=>{"use strict";a.d(t,{Dropdown:()=>u});var s=a(785893),i=a(667294),l=a(973935),o=a(423570),r=a.n(o),n=a(659397),c=a(464380),d=a(22412);class u extends i.Component{componentDidMount(){this.el=l.findDOMNode(this),"click"===this.props.trigger?(this.el.addEventListener("click",this.onClick),document.addEventListener("mousedown",this.onDocumentClick),window.addEventListener("resize",this.onResize)):(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mouseleave",this.onMouseLeave)),requestAnimationFrame((()=>{if(this.props.rootScrollSelector){const e=document.querySelector(this.props.rootScrollSelector);e||(0,c.debugMessage)(c.DebugMessageType.ERROR,{component:"calls/Dropdown",text:"Invalid $element selector with prop rootScrollSelector",selector:this.props.rootScrollSelector}),null==e||e.addEventListener("scroll",this.onResize)}})),document.body.addEventListener("keydown",this.onKeyDown)}componentWillUnmount(){var e;(Object.keys(this.timeouts).forEach((e=>{clearTimeout(this.timeouts[e])})),"click"===this.props.trigger?(this.el.removeEventListener("click",this.onClick),document.removeEventListener("mousedown",this.onDocumentClick),window.removeEventListener("resize",this.onResize)):(this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("mouseleave",this.onMouseLeave)),this.defaultNode)&&(null==(e=this.defaultNode.parentNode)||e.removeChild(this.defaultNode),delete this.defaultNode);if(this.props.rootScrollSelector){const e=document.querySelector(this.props.rootScrollSelector);null==e||e.removeEventListener("scroll",this.onResize)}document.body.removeEventListener("keydown",this.onKeyDown)}_getElRect(){return this.props.useFixedPosition?this.el.getBoundingClientRect():(0,n.getOffsetRect)(this.el)}update(e){if(!e)return this.setState({dropdown:Object.assign({},this.state.dropdown,{removed:!0})});const{position:t,align:a,horizontalPosition:s,rect:i,marginTop:l,marginLeft:o}=e;let r=i.left,n=i.top;switch(t){case"t":"center"===s?r+=.5*i.width:"right"===s&&(r+=i.width);break;case"r":r+=i.width,n+=.5*i.height;break;case"b":n+=i.height,"center"===s?r+=.5*i.width:"right"===s&&(r+=i.width);break;case"l":n+=.5*i.height}r=Math.round(r+o),n=Math.round(n+l),this.setState({dropdown:{position:t,align:a,x:r,y:n}})}renderDropdown(){if(!this.state.dropdown)return null;const{x:e,y:t,position:a,align:i,removed:l}=this.state.dropdown,o=(0,n.classNames)("CallsDropdownComponent",`CallsDropdownComponent--${a}`,{"CallsDropdownComponent--removed":!!l,[`CallsDropdownComponent--align-${i}`]:"t"===a||"b"===a},`CallsDropdownComponent--${this.props.appearance}`,{"CallsDropdownComponent--position-fixed":!!this.props.useFixedPosition},this.props.className),r=(0,n.classNames)("CallsDropdownComponent__in",this.props.dataContainerClassName);return(0,s.jsxs)("div",{className:o,style:e&&t?{top:t,left:e}:void 0,onTransitionEnd:e=>this.onTransitionEnd(e),onMouseEnter:this.onDropdownMouseEnter,onMouseLeave:this.onDropdownMouseLeave,children:[this.props.dataJsx&&((0,n.isFunction)(this.props.dataJsx)?this.props.dataJsx((()=>this.update())):this.props.dataJsx),this.props.data&&(0,s.jsx)("ul",{className:r,children:this.props.data.map(((e,t)=>(0,s.jsx)("li",{className:(0,n.classNames)("CallsDropdownComponent__item",{CallsDropdownComponent__itemSeparator:e.separator},{CallsDropdownComponent__itemNegative:e.negative},{CallsDropdownComponent__itemNoHover:e.noHover},{"Dropdown__item--disable-hover":this.props.disableCssHover}),onClick:t=>this.onItemClick(t,e),onMouseDown:t=>this.onItemClick(t,e),children:e.text},void 0!==e.id?e.id:t)))})]})}render(){const e=this.renderDropdown();return e?(this.defaultNode||(0,n.isUndefined)(window)||(this.defaultNode=document.createElement("div"),this.defaultNode.classList.add(this.elWrapperClass),document.body.appendChild(this.defaultNode)),(0,s.jsxs)(i.Fragment,{children:[this.props.children,l.createPortal(e,this.defaultNode)]})):this.props.children}constructor(e){super(e),this.onClick=()=>{if(!this.state.dropdown||this.state.dropdown.removed){const{position:e,align:t,marginTop:a,marginLeft:s,horizontalPosition:i}=this.props,l=this._getElRect();this.update({position:e,horizontalPosition:i,align:t,rect:l,marginTop:a,marginLeft:s})}else this.update()},this.onMouseEnter=()=>{this.callerHovered=!0,this.timeouts.appear=setTimeout((()=>{if(this.el&&this.callerHovered){const{position:e,align:t,marginTop:a,marginLeft:s,horizontalPosition:i}=this.props,l=this._getElRect();this.update({position:e,align:t,horizontalPosition:i,rect:l,marginTop:a,marginLeft:s})}}),80)},this.onMouseLeave=()=>{this.callerHovered=!1,this.timeouts.callerDisappear=setTimeout((()=>{this.callerHovered||this.hovered||this.update()}),250)},this.onDropdownMouseEnter=()=>{"hover"===this.props.trigger&&(this.hovered=!0)},this.onDropdownMouseLeave=()=>{"hover"===this.props.trigger&&(this.hovered=!1,this.timeouts.disappear=setTimeout((()=>{this.callerHovered||this.hovered||this.update()}),250))},this.onKeyDown=e=>{e.key===d.KeyboardCodes.Escape&&this.state.dropdown&&this.update()},this.onDocumentClick=e=>{const t=e.target;this.elWrapperClass?!this.state.dropdown||this.state.dropdown.removed||t.closest(`.${this.elWrapperClass}`)||this.el.contains(t)||this.update():!this.state.dropdown||this.state.dropdown.removed||this.el.contains(t)||this.update()},this.onResize=()=>{if(this.state.dropdown&&!this.state.dropdown.removed){const{position:e,align:t,marginTop:a,marginLeft:s,horizontalPosition:i}=this.props,l=this._getElRect();this.update({position:e,align:t,horizontalPosition:i,rect:l,marginTop:a,marginLeft:s})}},this.onTransitionEnd=e=>{"visibility"===e.propertyName&&this.state.dropdown&&this.state.dropdown.removed&&this.setState({dropdown:void 0})},this.onItemClick=(e,t)=>{t.separator||(this.props.disableCloseByItemClick||this.update(),t.onClick&&t.onClick(e))},this.state={},this.timeouts={},this.elWrapperClass=`dropdown-${r()()}`}}u.defaultProps={position:"b",horizontalPosition:"center",align:"center",marginTop:0,marginLeft:0,trigger:"click",className:"",dataContainerClassName:"",appearance:"primary",disableCloseByItemClick:!1,disableCssHover:!1}},119783:(e,t,a)=>{"use strict";a.d(t,{FocusTrap:()=>o});var s=a(785893),i=a(667294),l=a(121951);const o=({autoFocus:e,children:t,hasFirstFocusableElement:a})=>{const o=(0,i.useRef)([]),n=(0,i.useRef)(null),c=(0,i.useRef)(null),d=(0,i.useRef)(null),u=(0,i.useRef)(null);return(0,i.useEffect)((()=>{const e=u.current;e&&(o.current=(0,l.getFocusableElements)(e))}),[t]),(0,i.useEffect)((()=>{var t;return(e||a)&&r()&&!(null==(t=u.current)?void 0:t.contains(document.activeElement))&&(n.current=document.activeElement),()=>{setTimeout((()=>{var e;null==(e=n.current)||e.focus()}))}}),[]),(0,i.useEffect)((()=>{setTimeout((()=>{if(r()&&(e||a)){const t=u.current,s=o.current;if(t){if(a){const e=s.find((e=>e.dataset.focusFirst));if(e)return void e.focus()}if(e){const e=s[0];e&&e.focus()}}}}))}),[]),(0,s.jsxs)("div",{className:"FocusTrap",onFocusCapture:e=>{const t=o.current;u.current&&t.length&&(e.target===(null==c?void 0:c.current)&&t[t.length-1].focus(),e.target===(null==d?void 0:d.current)&&t[0].focus())},children:[(0,s.jsx)("div",{className:"FocusTrap__stub",tabIndex:0,ref:c}),(0,s.jsx)("div",{className:"FocusTrap__content",ref:u,children:t}),(0,s.jsx)("div",{className:"FocusTrap__stub",tabIndex:0,ref:d})]})};function r(){return Boolean(document.activeElement&&document.activeElement!==document.body)}},276744:(e,t,a)=>{"use strict";a.d(t,{ModalDeleteCall:()=>d});var s=a(785893),i=a(513885),l=a(589897),o=a(968755),r=a(915961),n=a(768296),c=a(878198);const d=({onClose:e,call:t,onSubmit:a,onReschedule:d,loading:u})=>{var m;const{getLang:p}=(0,r.useLang)(),{locale:h}=(0,n.useLocale)(),g=new Date(1e3*((null==(m=t.schedule)?void 0:m.time)||0));return(0,s.jsx)(i.default,{className:"CallsModalDeleteCall",onClose:e,title:p("calls_delete_call"),actionButtons:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.default,{size:"m",mode:"secondary",onClick:d,children:p("calls_reschedule_to_other_time")}),(0,s.jsx)(l.default,{size:"m",mode:"primary",onClick:a,disabled:!!u,children:p("calls_delete")})]}),children:p("calls_delete_call_desc").replace("{name}",(0,c.shorten)(t.name||"",30)).replace("{time}",o.timeFormat.format(g)).replace("{datemonth}",(0,o.dateMonthFormat)(g,h))})}},731435:(e,t,a)=>{"use strict";a.d(t,{ModalRescheduleCall:()=>k});var s=a(434788),i=a(785893),l=a(667294),o=a(193527),r=a(589897),n=a(463365),c=a(749856),d=a(915961),u=a(472007),m=a(743459),p=a(694982),h=a(659397),g=a(314087),f=a(681208),_=a(769719),C=a(418855),b=a(344994),v=a(873146),A=a(133385),T=a(159720),y=a(418948),E=a(394706),S=a(493060),D=a(666736),M=a(605419),U=a(590587);const k=({onClose:e,onSubmit:t,call:a,loading:k,userSelectOptions:w,myUserId:N})=>{var x;const{getLang:R}=(0,d.useLang)(),{durationOptions:P,calendarOptions:j}=(0,b.useOptions)();(0,A.useSelectTimezonesScrollOnOpen)({selector:"ModalScheduleCall__select--timezone"});const L=(0,U.useUserOptions)({options:w,myUserId:N}),I=(0,y.useDateTimeValues)({call:a}),O=(0,v.useTimezones)(),B=(0,E.useRRuleEndValue)((0,s._)({recurrenceUntilTime:null==a?void 0:a.schedule.recurrence_until_time},I.rruleEndCtx)),V=(0,D.useRepeatCallOptions)({date:I.dateStartCtx.date,initialValue:(0,M.mapRecurrenceRule)(null==a||null==(x=a.schedule)?void 0:x.recurrence_rule)}),F=(0,f.useFormSelectValue)({options:j,initialValue:C.ECalendar.Other}),G=(0,g.useFormCheckboxesValues)({initialValue:!!a&&!a.skip_notification}),H=(0,l.useRef)(["ModalScheduleCall__dropdown"]),W=".CallsModalRescheduleCall";return(0,i.jsxs)(o.BaseModal,{className:"CallsModalRescheduleCall",onClose:e,preventCloseClasses:H.current,disableBodyScroll:!0,children:[(0,i.jsx)(n.ModalHeader,{title:R("calls_reschedule_title"),onClose:e}),(0,i.jsx)("div",{className:"CallsModalRescheduleCall__disclaimer",children:R("calls_reschedule_disclaimer")}),(0,i.jsx)("div",{className:(0,h.classNames)("ModalScheduleCall__calendar__divider","ModalScheduleCall__calendar__divider--full-width")}),(0,i.jsxs)("div",{className:(0,h.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols"),children:[(0,i.jsx)("span",{children:R("calls_start_time")}),(0,i.jsx)(m.DatePicker,(0,s._)({},I.dateStartCtx,{disableTimeSelect:I.isAllDay,rootScrollSelector:W}))]}),(0,i.jsx)("div",{className:(0,h.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--duration"),children:P.map((e=>(0,i.jsx)(_.CallChip,{value:e,onClick:I.handleChangeDuration,selected:I.duration===e.value,children:e.label},e.value)))}),(0,i.jsxs)("div",{className:(0,h.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols"),children:[(0,i.jsx)("span",{children:R("calls_end")}),(0,i.jsx)(m.DatePicker,(0,s._)({},I.dateEndCtx,{minDate:I.dateStartCtx.date,disabled:I.isAllDay,rootScrollSelector:W}))]}),(0,i.jsxs)("div",{className:(0,h.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__timezone"),children:[(0,i.jsx)("span",{children:R("calls_timezone")}),(0,i.jsx)(p.default,(0,s._)({className:(0,h.classNames)("ModalScheduleCall__select","ModalScheduleCall__select--searchable","ModalScheduleCall__select--timezone")},O,{searchable:!0,enableSearchSelectOnFocus:!0,checkRightSearchableValue:!0}))]}),(0,i.jsx)("div",{className:(0,h.classNames)("ModalScheduleCall__calendar__divider","ModalScheduleCall__calendar__divider--full-width")}),(0,i.jsxs)("div",{className:(0,h.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__calls-repeat"),children:[(0,i.jsx)("div",{children:R("calls_repeat")}),(0,i.jsx)(p.default,(0,s._)({appearance:"fancy",className:"ModalScheduleCall__select"},V))]}),V.value!==T.ERepeatCallVariant.Never&&(0,i.jsxs)("div",{className:(0,h.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols"),children:[(0,i.jsx)("span",{children:R("calls_end_of_rrule")}),(0,i.jsxs)("div",{className:"ModalScheduleCall__select-primary__wrap",children:[(0,i.jsx)(S.DatePickerRruleEnd,{date:B.date,time:B.time,handleChangeDatePicker:B.handleChangeDatePicker,placeholder:B.placeholder,refDropdownTrigger:B.refDropdownTrigger,minDate:I.dateEndCtx.date,rootScrollSelector:W}),(0,i.jsx)(p.default,(0,s._)({},B.selectProps,{placeholder:B.placeholder,forcePlaceholder:!0}))]})]}),(0,i.jsxs)("div",{className:(0,h.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols"),children:[(0,i.jsx)("span",{children:R("calls_add_to_calendar")}),(0,i.jsx)(p.default,(0,s._)({appearance:"fancy",className:"ModalScheduleCall__select"},F))]}),(0,i.jsxs)("label",{className:(0,h.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__switch-panel"),children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:R("calls_remind")}),(0,i.jsx)("div",{className:"ModalScheduleCall__text--muted ModalScheduleCall__setting-description",children:R("calls_remind_desc")})]}),(0,i.jsx)(u.default,(0,s._)({native:!0},G))]}),(0,i.jsx)(c.ModalFooter,{actionButtons:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.default,{size:"m",mode:"tertiary",onClick:e,disabled:!!k,children:R("calls_cancel")}),(0,i.jsx)(r.default,{size:"m",mode:"primary",onClick:()=>{const e=L.select.value!==N?L.displayName:void 0,s={groupId:a.caller_id,name:a.name,muteAudio:a.mute_audio||C.EMediaPermission.Allowed,muteVideo:a.mute_video||C.EMediaPermission.Allowed,onlyAuthUsers:a.only_auth_users?1:0,duration:I.durationMs,start:I.startTimeMs,waitingHall:a.waiting_hall?1:0,calendar:F.value,displayName:e,timezone:O.value,rrule:V.value,skipNotification:G.checked?0:1,feedback:a.feedback?1:0,onlyAdminCanShareMovie:a.only_admin_can_share_movie?1:0};(null==a?void 0:a.schedule.marker_time)&&(s.markerTime=a.schedule.marker_time),V.value!==T.ERepeatCallVariant.Never&&B.value&&(s.recurrenceUntilTime=B.value.valueOf()),t(s)},disabled:!!k,children:R("calls_reschedule_btn")})]})})]})}},932275:(e,t,a)=>{"use strict";a.d(t,{objSwitchKeyValues:()=>s});const s=e=>{const t={};return Object.entries(e).forEach((([e,a])=>{t[a]=e})),t}},743459:(e,t,a)=>{"use strict";a.d(t,{DatePicker:()=>d});var s=a(434788),i=a(820224),l=a(785893),o=a(667294),r=a(737950),n=a(224654),c=a(659397);const d=(0,o.memo)((e=>{var{minDate:t,disabled:a,disableTimeSelect:o,rootScrollSelector:d=".ModalScheduleCall .CallsModalBody .ui_scroll_outer"}=e,u=(0,i._)(e,["minDate","disabled","disableTimeSelect","rootScrollSelector"]);return(0,l.jsx)(n.Dropdown,{className:"ModalScheduleCall__dropdown",appearance:"fancy",dataJsx:e=>(0,l.jsx)(r.DatePicker,(0,s._)({},u,{minDate:t,disableTimeSelect:o,onSubmit:e})),position:"b",horizontalPosition:"left",rootScrollSelector:d,useFixedPosition:!0,marginTop:-24,marginLeft:-38,children:(0,l.jsx)("span",{className:(0,c.classNames)("ModalScheduleCall__select-text","ModalScheduleCall__select-text--datepicker",{"ModalScheduleCall__select-text--disabled":!!a}),children:u.chosenDateText})})}));d.displayName="DatePickerForScheduledCall"},493060:(e,t,a)=>{"use strict";a.d(t,{DatePickerRruleEnd:()=>r});var s=a(785893),i=a(667294),l=a(737950),o=a(224654);const r=(0,i.memo)((e=>{const t=e.rootScrollSelector||".ModalScheduleCall .CallsModalBody";return(0,s.jsx)(o.Dropdown,{className:"ModalScheduleCall__dropdown",appearance:"fancy",dataJsx:t=>(0,s.jsx)(l.DatePicker,{date:e.date,time:e.time,onChange:e.handleChangeDatePicker,disableTimeSelect:!0,minDate:e.minDate,onSubmit:t}),position:"b",horizontalPosition:"left",rootScrollSelector:t,useFixedPosition:!0,marginTop:-24,marginLeft:-3,children:(0,s.jsx)("span",{ref:e.refDropdownTrigger,className:"ModalScheduleCall__select-text"})})}));r.displayName="DatePickerRruleEnd"},356438:(e,t,a)=>{"use strict";a.d(t,{ModalScheduleCall:()=>w});var s=a(434788),i=a(785893),l=a(915961),o=a(513885),r=a(511527),n=a(524117),c=a(314087),d=a(681208),u=a(694982),m=a(472007),p=a(659397),h=a(589897),g=a(960834),f=a(769719),_=a(418855),C=a(694379),b=a(666736),v=a(873146),A=a(590587),T=a(159720),y=a(344994),E=a(133385),S=a(605419),D=a(418948),M=a(743459),U=a(394706),k=a(493060);const w=({onClose:e,headerTitle:t,onSubmit:a,userSelectOptions:w,myUserId:N,loading:x,call:R,isWatchTogetherEnabled:P})=>{const{getLang:j}=(0,l.useLang)(),{calendarOptions:L,durationOptions:I,mediaOptions:O}=(0,y.useOptions)(),{handleCloseDialog:B,handleOpenDialog:V,open:F}=(0,g.useDialogConfirmCloseController)();(0,E.useSelectTimezonesScrollOnOpen)({selector:"ModalScheduleCall__select--timezone"});const{isVkme:G}=(0,C.useVkmeContext)(),H=(0,n.useFormInputValue)({initialValue:()=>(null==R?void 0:R.name)||j("calls_default_meeting_name")}),W=(0,D.useDateTimeValues)({call:R}),z=(0,v.useTimezones)(),q=(0,U.useRRuleEndValue)((0,s._)({recurrenceUntilTime:null==R?void 0:R.schedule.recurrence_until_time},W.rruleEndCtx)),$=(0,b.useRepeatCallOptions)({date:W.dateStartCtx.date,initialValue:(0,S.mapRecurrenceRule)(null==R?void 0:R.schedule.recurrence_rule)}),K=(0,d.useFormSelectValue)({options:L,initialValue:_.ECalendar.Other}),Y=(0,c.useFormCheckboxesValues)({initialValue:!!R&&!R.skip_notification}),J=(0,c.useFormCheckboxesValues)({initialValue:!!(null==R?void 0:R.waiting_hall)}),Q=(0,c.useFormCheckboxesValues)({initialValue:!(null==R?void 0:R.only_admin_can_share_movie)}),Z=(0,c.useFormCheckboxesValues)({initialValue:!(null==R?void 0:R.only_auth_users)}),X=(0,c.useFormCheckboxesValues)({initialValue:()=>!R||!!R.feedback}),ee=(0,d.useFormSelectValue)({options:O,initialValue:()=>(null==R?void 0:R.mute_audio)||_.EMediaPermission.Allowed}),te=(0,d.useFormSelectValue)({options:O,initialValue:()=>(null==R?void 0:R.mute_video)||_.EMediaPermission.Allowed}),ae=(0,A.useUserOptions)({options:w,myUserId:N,forceShow:!(!R||!(null==w?void 0:w.length))}),se=!G;return(0,i.jsxs)(i.Fragment,{children:[F&&(0,i.jsx)(g.DialogConfirmClose,{description:j("calls_confirm_exit_description"),onClose:B,onSubmit:e}),(0,i.jsx)(o.default,{className:(0,p.classNames)("ModalScheduleCall",{"ModalScheduleCall--custom-h":!R&&((null==w?void 0:w.length)||0)>1}),title:t,onClose:V,disableBodyScroll:!0,hasScroll:se,actionButtons:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"ModalScheduleCall__text--muted",children:j("calls_will_copy_to_clipboard")}),(0,i.jsxs)("div",{children:[(0,i.jsx)(h.default,{size:"m",onClick:V,mode:"tertiary",children:j("calls_cancel")}),(0,i.jsx)(h.default,{size:"m",mode:"primary",onClick:()=>{const e=ae.select.value!==N?ae.displayName:void 0,t={name:H.value.trim()||j("calls_default_meeting_name"),muteAudio:ee.value,muteVideo:te.value,onlyAuthUsers:Z.checked?0:1,duration:W.durationMs,start:W.startTimeMs,waitingHall:J.checked?1:0,calendar:K.value,displayName:e,timezone:z.value,rrule:$.value,skipNotification:Y.checked?0:1,feedback:X.checked?1:0,onlyAdminCanShareMovie:Q.checked?0:1};(null==R?void 0:R.schedule.marker_time)&&(t.markerTime=R.schedule.marker_time),ae.select.value!==N&&(t.groupId=ae.select.value),$.value!==T.ERepeatCallVariant.Never&&q.value&&(t.recurrenceUntilTime=q.value.valueOf()),a(t)},disabled:x,children:j(R?"calls_save":"calls_landing_standalone_schedule_call")})]})]}),children:(0,i.jsxs)("div",{className:"ModalScheduleCall__calendar",children:[!!ae.isShow&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:(0,p.classNames)("ModalScheduleCall__calendar__row--user-select","ModalScheduleCall__calendar__row--3-cols"),children:[(0,i.jsx)("div",{children:(0,i.jsx)("img",{className:"ModalScheduleCall__avatar",src:ae.avatarUrl,alt:"user-avatar"})}),(0,i.jsx)("div",{children:ae.displayName}),(0,i.jsx)(u.default,(0,s._)({},ae.select,{className:"ModalScheduleCall__select",appearance:"fancy",disabled:!!R}))]}),(0,i.jsx)("div",{className:(0,p.classNames)("ModalScheduleCall__calendar__divider","ModalScheduleCall__calendar__divider--full-width")})]}),(0,i.jsxs)("div",{className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols"),children:[(0,i.jsx)("span",{children:j("calls_title")}),(0,i.jsx)(r.default,{value:H.value,onChange:H.onChange,isError:H.error})]}),(0,i.jsxs)("div",{className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols"),children:[(0,i.jsx)("span",{children:j("calls_start_time")}),(0,i.jsx)(M.DatePicker,(0,s._)({},W.dateStartCtx,{disableTimeSelect:W.isAllDay}))]}),(0,i.jsx)("div",{className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--duration"),children:I.map((e=>(0,i.jsx)(f.CallChip,{value:e,onClick:W.handleChangeDuration,selected:W.duration===e.value,children:e.label},e.value)))}),(0,i.jsxs)("div",{className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols"),children:[(0,i.jsx)("span",{children:j("calls_end")}),(0,i.jsx)(M.DatePicker,(0,s._)({},W.dateEndCtx,{minDate:W.dateStartCtx.date,disabled:W.isAllDay}))]}),(0,i.jsxs)("div",{className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__timezone"),children:[(0,i.jsx)("span",{children:j("calls_timezone")}),(0,i.jsx)(u.default,(0,s._)({className:(0,p.classNames)("ModalScheduleCall__select","ModalScheduleCall__select--searchable","ModalScheduleCall__select--timezone")},z,{searchable:!0,enableSearchSelectOnFocus:!0,checkRightSearchableValue:!0}))]}),(0,i.jsxs)("div",{className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__calls-repeat"),children:[(0,i.jsx)("div",{children:j("calls_repeat")}),(0,i.jsx)(u.default,(0,s._)({appearance:"fancy",className:"ModalScheduleCall__select"},$))]}),$.value!==T.ERepeatCallVariant.Never&&(0,i.jsxs)("div",{className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols"),children:[(0,i.jsx)("span",{children:j("calls_end_of_rrule")}),(0,i.jsxs)("div",{className:"ModalScheduleCall__select-primary__wrap",children:[(0,i.jsx)(k.DatePickerRruleEnd,{date:q.date,time:q.time,handleChangeDatePicker:q.handleChangeDatePicker,placeholder:q.placeholder,refDropdownTrigger:q.refDropdownTrigger,minDate:W.dateEndCtx.date}),(0,i.jsx)(u.default,(0,s._)({},q.selectProps,{placeholder:q.placeholder,forcePlaceholder:!0}))]})]}),(0,i.jsxs)("div",{className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols"),children:[(0,i.jsx)("span",{children:j("calls_add_to_calendar")}),(0,i.jsx)(u.default,(0,s._)({appearance:"fancy",className:"ModalScheduleCall__select"},K))]}),(0,i.jsxs)("label",{className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__switch-panel"),children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:j("calls_remind")}),(0,i.jsx)("div",{className:"ModalScheduleCall__text--muted ModalScheduleCall__setting-description",children:j("calls_remind_desc")})]}),(0,i.jsx)(m.default,(0,s._)({native:!0},Y))]}),(0,i.jsx)("div",{className:(0,p.classNames)("ModalScheduleCall__calendar__divider","ModalScheduleCall__calendar__divider--full-width")}),(0,i.jsxs)("label",{className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__switch-panel"),children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:j("calls_waiting_hall")}),(0,i.jsx)("div",{className:"ModalScheduleCall__text--muted ModalScheduleCall__setting-description",children:j("calls_menu_waiting_hall_description")})]}),(0,i.jsx)(m.default,(0,s._)({native:!0},J))]}),(0,i.jsxs)("label",{className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__switch-panel"),children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:j("calls_create_call_by_link_anon")}),(0,i.jsx)("div",{className:"ModalScheduleCall__text--muted ModalScheduleCall__setting-description",children:j("calls_create_call_by_link_anon_hint_shedule")})]}),(0,i.jsx)(m.default,(0,s._)({native:!0},Z))]}),(0,i.jsxs)("div",{className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols"),children:[(0,i.jsx)("div",{children:j("calls_microphones")}),(0,i.jsx)(u.default,(0,s._)({position:"t",appearance:"fancy",className:"ModalScheduleCall__select"},ee))]}),(0,i.jsxs)("div",{className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols"),children:[(0,i.jsx)("div",{children:j("calls_participant_menu_mute_video")}),(0,i.jsx)(u.default,(0,s._)({position:"t",appearance:"fancy",className:"ModalScheduleCall__select"},te))]}),(0,i.jsxs)("label",{className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__switch-panel"),children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:j("calls_reactions")}),(0,i.jsx)("div",{className:"ModalScheduleCall__text--muted ModalScheduleCall__setting-description",children:j("calls_reactions_desc")})]}),(0,i.jsx)(m.default,(0,s._)({native:!0},X))]}),P&&(0,i.jsxs)("label",{className:(0,p.classNames)("ModalScheduleCall__calendar__row","ModalScheduleCall__calendar__row--2-cols","ModalScheduleCall__switch-panel"),children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:j("calls_watch_together_movie_settings")}),(0,i.jsx)("div",{className:"ModalScheduleCall__text--muted ModalScheduleCall__setting-description",children:j("calls_watch_together_movie_settings_description")})]}),(0,i.jsx)(m.default,(0,s._)({native:!0},Q))]})]})})]})}},418855:(e,t,a)=>{"use strict";a.d(t,{DURATION_LANG_MAP:()=>r,DURATION_MAP:()=>o,ECalendar:()=>n,EDuration:()=>l,EMediaPermission:()=>c,dateFormatter:()=>m,hour:()=>d,numberFormatter:()=>u,numberWithSignFormatter:()=>p,timezones:()=>i});var s=a(431837);const i={"Pacific/Niue":{id:"Pacific/Niue",title:"Ниуэ",subtitle:"UTC-11",offset:-11},"Pacific/Pago_Pago":{id:"Pacific/Pago_Pago",title:"Самоа/Паго-Паго",subtitle:"UTC-11",offset:-11},"America/Adak":{id:"America/Adak",title:"Гавайско-алеутское время/Адак",subtitle:"UTC-10",offset:-10},"Pacific/Honolulu":{id:"Pacific/Honolulu",title:"Гавайско-алеутское время/Гонолулу",subtitle:"UTC-10",offset:-10},"Pacific/Rarotonga":{id:"Pacific/Rarotonga",title:"Острова Кука/Раротонга",subtitle:"UTC-10",offset:-10},"Pacific/Tahiti":{id:"Pacific/Tahiti",title:"Таити",subtitle:"UTC-10",offset:-10},"Pacific/Marquesas":{id:"Pacific/Marquesas",title:"Маркизские о-ва",subtitle:"UTC-9",offset:-9.5},"America/Anchorage":{id:"America/Anchorage",title:"Аляска/Анкоридж",subtitle:"UTC-9",offset:-9},"America/Juneau":{id:"America/Juneau",title:"Аляска/Джуно",subtitle:"UTC-9",offset:-9},"America/Metlakatla":{id:"America/Metlakatla",title:"Аляска/Метлакатла",subtitle:"UTC-9",offset:-9},"America/Nome":{id:"America/Nome",title:"Аляска/Ном",subtitle:"UTC-9",offset:-9},"America/Sitka":{id:"America/Sitka",title:"Аляска/Ситка",subtitle:"UTC-9",offset:-9},"America/Yakutat":{id:"America/Yakutat",title:"Аляска/Якутат",subtitle:"UTC-9",offset:-9},"Pacific/Gambier":{id:"Pacific/Gambier",title:"о-ва Гамбье",subtitle:"UTC-9",offset:-9},"America/Los_Angeles":{id:"America/Los_Angeles",title:"Тихоокеанское время/Лос-Анджелес",subtitle:"UTC-8",offset:-8},"America/Tijuana":{id:"America/Tijuana",title:"Тихоокеанское время/Тихуана",subtitle:"UTC-8",offset:-8},"America/Vancouver":{id:"America/Vancouver",title:"Тихоокеанское время/Ванкувер",subtitle:"UTC-8",offset:-8},"Pacific/Pitcairn":{id:"Pacific/Pitcairn",title:"Питкэрн",subtitle:"UTC-8",offset:-8},"America/Boise":{id:"America/Boise",title:"Горное время (Северная Америка)/Бойсе",subtitle:"UTC-7",offset:-7},"America/Cambridge_Bay":{id:"America/Cambridge_Bay",title:"Горное время (Северная Америка)/Кеймбридж-Бей",subtitle:"UTC-7",offset:-7},"America/Chihuahua":{id:"America/Chihuahua",title:"Тихоокеанское мексиканское время/Чиуауа",subtitle:"UTC-7",offset:-7},"America/Creston":{id:"America/Creston",title:"Горное время (Северная Америка)/Крестон",subtitle:"UTC-7",offset:-7},"America/Dawson":{id:"America/Dawson",title:"Горное время (Северная Америка)/Доусон",subtitle:"UTC-7",offset:-7},"America/Dawson_Creek":{id:"America/Dawson_Creek",title:"Горное время (Северная Америка)/Доусон-Крик",subtitle:"UTC-7",offset:-7},"America/Denver":{id:"America/Denver",title:"Горное время (Северная Америка)/Денвер",subtitle:"UTC-7",offset:-7},"America/Edmonton":{id:"America/Edmonton",title:"Горное время (Северная Америка)/Эдмонтон",subtitle:"UTC-7",offset:-7},"America/Fort_Nelson":{id:"America/Fort_Nelson",title:"Горное время (Северная Америка)/Форт Нельсон",subtitle:"UTC-7",offset:-7},"America/Hermosillo":{id:"America/Hermosillo",title:"Тихоокеанское мексиканское время/Эрмосильо",subtitle:"UTC-7",offset:-7},"America/Inuvik":{id:"America/Inuvik",title:"Горное время (Северная Америка)/Инувик",subtitle:"UTC-7",offset:-7},"America/Mazatlan":{id:"America/Mazatlan",title:"Тихоокеанское мексиканское время/Масатлан",subtitle:"UTC-7",offset:-7},"America/Ojinaga":{id:"America/Ojinaga",title:"Горное время (Северная Америка)/Охинага",subtitle:"UTC-7",offset:-7},"America/Phoenix":{id:"America/Phoenix",title:"Горное время (Северная Америка)/Финикс",subtitle:"UTC-7",offset:-7},"America/Whitehorse":{id:"America/Whitehorse",title:"Горное время (Северная Америка)/Уайтхорс",subtitle:"UTC-7",offset:-7},"America/Yellowknife":{id:"America/Yellowknife",title:"Горное время (Северная Америка)/Йеллоунайф",subtitle:"UTC-7",offset:-7},"America/Bahia_Banderas":{id:"America/Bahia_Banderas",title:"Центральная Америка/Баия-де-Бандерас",subtitle:"UTC-6",offset:-6},"America/Belize":{id:"America/Belize",title:"Центральная Америка/Белиз",subtitle:"UTC-6",offset:-6},"America/Chicago":{id:"America/Chicago",title:"Центральная Америка/Чикаго",subtitle:"UTC-6",offset:-6},"America/Costa_Rica":{id:"America/Costa_Rica",title:"Центральная Америка/Коста-Рика",subtitle:"UTC-6",offset:-6},"America/El_Salvador":{id:"America/El_Salvador",title:"Центральная Америка/Сальвадор",subtitle:"UTC-6",offset:-6},"America/Guatemala":{id:"America/Guatemala",title:"Центральная Америка/Гватемала",subtitle:"UTC-6",offset:-6},"America/Indiana/Knox":{id:"America/Indiana/Knox",title:"Центральная Америка/Нокс",subtitle:"UTC-6",offset:-6},"America/Indiana/Tell_City":{id:"America/Indiana/Tell_City",title:"Центральная Америка/Телл-Сити",subtitle:"UTC-6",offset:-6},"America/Managua":{id:"America/Managua",title:"Центральная Америка/Манагуа",subtitle:"UTC-6",offset:-6},"America/Matamoros":{id:"America/Matamoros",title:"Центральная Америка/Матаморос",subtitle:"UTC-6",offset:-6},"America/Menominee":{id:"America/Menominee",title:"Центральная Америка/Меномини",subtitle:"UTC-6",offset:-6},"America/Merida":{id:"America/Merida",title:"Центральная Америка/Мерида",subtitle:"UTC-6",offset:-6},"America/Mexico_City":{id:"America/Mexico_City",title:"Центральная Америка/Мехико",subtitle:"UTC-6",offset:-6},"America/Monterrey":{id:"America/Monterrey",title:"Центральная Америка/Монтеррей",subtitle:"UTC-6",offset:-6},"America/North_Dakota/Beulah":{id:"America/North_Dakota/Beulah",title:"Центральная Америка/Бойла",subtitle:"UTC-6",offset:-6},"America/North_Dakota/Center":{id:"America/North_Dakota/Center",title:"Центральная Америка/Центр",subtitle:"UTC-6",offset:-6},"America/North_Dakota/New_Salem":{id:"America/North_Dakota/New_Salem",title:"Центральная Америка/Нью-Сейлем",subtitle:"UTC-6",offset:-6},"America/Rainy_River":{id:"America/Rainy_River",title:"Центральная Америка/Рейни-Ривер",subtitle:"UTC-6",offset:-6},"America/Rankin_Inlet":{id:"America/Rankin_Inlet",title:"Центральная Америка/Ранкин-Инлет",subtitle:"UTC-6",offset:-6},"America/Regina":{id:"America/Regina",title:"Центральная Америка/Реджайна",subtitle:"UTC-6",offset:-6},"America/Resolute":{id:"America/Resolute",title:"Центральная Америка/Резольют",subtitle:"UTC-6",offset:-6},"America/Swift_Current":{id:"America/Swift_Current",title:"Центральная Америка/Свифт-Керрент",subtitle:"UTC-6",offset:-6},"America/Tegucigalpa":{id:"America/Tegucigalpa",title:"Центральная Америка/Тегусигальпа",subtitle:"UTC-6",offset:-6},"America/Winnipeg":{id:"America/Winnipeg",title:"Центральная Америка/Виннипег",subtitle:"UTC-6",offset:-6},"Pacific/Easter":{id:"Pacific/Easter",title:"О-в Пасхи/о-в Пасхи",subtitle:"UTC-6",offset:-6},"Pacific/Galapagos":{id:"Pacific/Galapagos",title:"Галапагосские о-ва",subtitle:"UTC-6",offset:-6},"America/Atikokan":{id:"America/Atikokan",title:"Atikokan",subtitle:"UTC-5",offset:-5},"America/Bogota":{id:"America/Bogota",title:"Колумбия/Богота",subtitle:"UTC-5",offset:-5},"America/Cancun":{id:"America/Cancun",title:"Восточная Америка/Канкун",subtitle:"UTC-5",offset:-5},"America/Detroit":{id:"America/Detroit",title:"Восточная Америка/Детройт",subtitle:"UTC-5",offset:-5},"America/Eirunepe":{id:"America/Eirunepe",title:"Акри время/Эйрунепе",subtitle:"UTC-5",offset:-5},"America/Grand_Turk":{id:"America/Grand_Turk",title:"Восточная Америка/Гранд-Терк",subtitle:"UTC-5",offset:-5},"America/Guayaquil":{id:"America/Guayaquil",title:"Гуаякиль",subtitle:"UTC-5",offset:-5},"America/Havana":{id:"America/Havana",title:"Куба/Гавана",subtitle:"UTC-5",offset:-5},"America/Indiana/Indianapolis":{id:"America/Indiana/Indianapolis",title:"Indianapolis",subtitle:"UTC-5",offset:-5},"America/Indiana/Marengo":{id:"America/Indiana/Marengo",title:"Восточная Америка/Маренго",subtitle:"UTC-5",offset:-5},"America/Indiana/Petersburg":{id:"America/Indiana/Petersburg",title:"Восточная Америка/Питерсберг",subtitle:"UTC-5",offset:-5},"America/Indiana/Vevay":{id:"America/Indiana/Vevay",title:"Восточная Америка/Вевей",subtitle:"UTC-5",offset:-5},"America/Indiana/Vincennes":{id:"America/Indiana/Vincennes",title:"Восточная Америка/Винсеннес",subtitle:"UTC-5",offset:-5},"America/Indiana/Winamac":{id:"America/Indiana/Winamac",title:"Восточная Америка/Уинамак",subtitle:"UTC-5",offset:-5},"America/Iqaluit":{id:"America/Iqaluit",title:"Восточная Америка/Икалуит",subtitle:"UTC-5",offset:-5},"America/Jamaica":{id:"America/Jamaica",title:"Восточная Америка/Ямайка",subtitle:"UTC-5",offset:-5},"America/Kentucky/Louisville":{id:"America/Kentucky/Louisville",title:"Louisville",subtitle:"UTC-5",offset:-5},"America/Kentucky/Monticello":{id:"America/Kentucky/Monticello",title:"Восточная Америка/Монтиселло",subtitle:"UTC-5",offset:-5},"America/Lima":{id:"America/Lima",title:"Перу/Лима",subtitle:"UTC-5",offset:-5},"America/Nassau":{id:"America/Nassau",title:"Восточная Америка/Нассау",subtitle:"UTC-5",offset:-5},"America/New_York":{id:"America/New_York",title:"Восточная Америка/Нью-Йорк",subtitle:"UTC-5",offset:-5},"America/Nipigon":{id:"America/Nipigon",title:"Восточная Америка/Нипигон",subtitle:"UTC-5",offset:-5},"America/Panama":{id:"America/Panama",title:"Восточная Америка/Панама",subtitle:"UTC-5",offset:-5},"America/Pangnirtung":{id:"America/Pangnirtung",title:"Восточная Америка/Пангниртанг",subtitle:"UTC-5",offset:-5},"America/Port-au-Prince":{id:"America/Port-au-Prince",title:"Восточная Америка/Порт-о-Пренс",subtitle:"UTC-5",offset:-5},"America/Rio_Branco":{id:"America/Rio_Branco",title:"Акри время/Риу-Бранку",subtitle:"UTC-5",offset:-5},"America/Thunder_Bay":{id:"America/Thunder_Bay",title:"Восточная Америка/Тандер-Бей",subtitle:"UTC-5",offset:-5},"America/Toronto":{id:"America/Toronto",title:"Восточная Америка/Торонто",subtitle:"UTC-5",offset:-5},"America/Asuncion":{id:"America/Asuncion",title:"Парагвай/Асунсьон",subtitle:"UTC-4",offset:-4},"America/Barbados":{id:"America/Barbados",title:"Атлантическое время/Барбадос",subtitle:"UTC-4",offset:-4},"America/Blanc-Sablon":{id:"America/Blanc-Sablon",title:"Атлантическое время/Бланк-Саблон",subtitle:"UTC-4",offset:-4},"America/Boa_Vista":{id:"America/Boa_Vista",title:"Амазонка/Боа-Виста",subtitle:"UTC-4",offset:-4},"America/Campo_Grande":{id:"America/Campo_Grande",title:"Амазонка/Кампу-Гранди",subtitle:"UTC-4",offset:-4},"America/Caracas":{id:"America/Caracas",title:"Каракас",subtitle:"UTC-4",offset:-4},"America/Cuiaba":{id:"America/Cuiaba",title:"Амазонка/Куяба",subtitle:"UTC-4",offset:-4},"America/Curacao":{id:"America/Curacao",title:"Атлантическое время/Кюрасао",subtitle:"UTC-4",offset:-4},"America/Glace_Bay":{id:"America/Glace_Bay",title:"Атлантическое время/Глейс-Бей",subtitle:"UTC-4",offset:-4},"America/Goose_Bay":{id:"America/Goose_Bay",title:"Атлантическое время/Гус-Бей",subtitle:"UTC-4",offset:-4},"America/Guyana":{id:"America/Guyana",title:"Гайана",subtitle:"UTC-4",offset:-4},"America/Halifax":{id:"America/Halifax",title:"Атлантическое время/Галифакс",subtitle:"UTC-4",offset:-4},"America/La_Paz":{id:"America/La_Paz",title:"Ла-Пас",subtitle:"UTC-4",offset:-4},"America/Manaus":{id:"America/Manaus",title:"Амазонка/Манаус",subtitle:"UTC-4",offset:-4},"America/Martinique":{id:"America/Martinique",title:"Атлантическое время/Мартиника",subtitle:"UTC-4",offset:-4},"America/Moncton":{id:"America/Moncton",title:"Атлантическое время/Монктон",subtitle:"UTC-4",offset:-4},"America/Port_of_Spain":{id:"America/Port_of_Spain",title:"Атлантическое время/Порт-оф-Спейн",subtitle:"UTC-4",offset:-4},"America/Porto_Velho":{id:"America/Porto_Velho",title:"Амазонка/Порту-Велью",subtitle:"UTC-4",offset:-4},"America/Puerto_Rico":{id:"America/Puerto_Rico",title:"Атлантическое время/Пуэрто-Рико",subtitle:"UTC-4",offset:-4},"America/Santiago":{id:"America/Santiago",title:"Чили/Сантьяго",subtitle:"UTC-4",offset:-4},"America/Santo_Domingo":{id:"America/Santo_Domingo",title:"Атлантическое время/Санто-Доминго",subtitle:"UTC-4",offset:-4},"America/Thule":{id:"America/Thule",title:"Атлантическое время/Туле",subtitle:"UTC-4",offset:-4},"Atlantic/Bermuda":{id:"Atlantic/Bermuda",title:"Атлантическое время/Бермудские о-ва",subtitle:"UTC-4",offset:-4},"America/St_Johns":{id:"America/St_Johns",title:"Ньюфаундленд/Сент-Джонс",subtitle:"UTC-3",offset:-3.5},"America/Araguaina":{id:"America/Araguaina",title:"Бразилия/Арагуаина",subtitle:"UTC-3",offset:-3},"America/Argentina/Buenos_Aires":{id:"America/Argentina/Buenos_Aires",title:"Buenos Aires",subtitle:"UTC-3",offset:-3},"America/Argentina/Catamarca":{id:"America/Argentina/Catamarca",title:"Catamarca",subtitle:"UTC-3",offset:-3},"America/Argentina/Cordoba":{id:"America/Argentina/Cordoba",title:"Cordoba",subtitle:"UTC-3",offset:-3},"America/Argentina/Jujuy":{id:"America/Argentina/Jujuy",title:"Jujuy",subtitle:"UTC-3",offset:-3},"America/Argentina/La_Rioja":{id:"America/Argentina/La_Rioja",title:"Аргентина/Ла-Риоха",subtitle:"UTC-3",offset:-3},"America/Argentina/Mendoza":{id:"America/Argentina/Mendoza",title:"Mendoza",subtitle:"UTC-3",offset:-3},"America/Argentina/Rio_Gallegos":{id:"America/Argentina/Rio_Gallegos",title:"Аргентина/Рио-Гальегос",subtitle:"UTC-3",offset:-3},"America/Argentina/Salta":{id:"America/Argentina/Salta",title:"Аргентина/Сальта",subtitle:"UTC-3",offset:-3},"America/Argentina/San_Juan":{id:"America/Argentina/San_Juan",title:"Аргентина/Сан-Хуан",subtitle:"UTC-3",offset:-3},"America/Argentina/San_Luis":{id:"America/Argentina/San_Luis",title:"Аргентина/Сан-Луис",subtitle:"UTC-3",offset:-3},"America/Argentina/Tucuman":{id:"America/Argentina/Tucuman",title:"Аргентина/Тукуман",subtitle:"UTC-3",offset:-3},"America/Argentina/Ushuaia":{id:"America/Argentina/Ushuaia",title:"Аргентина/Ушуая",subtitle:"UTC-3",offset:-3},"America/Bahia":{id:"America/Bahia",title:"Бразилия/Баия",subtitle:"UTC-3",offset:-3},"America/Belem":{id:"America/Belem",title:"Бразилия/Белен",subtitle:"UTC-3",offset:-3},"America/Cayenne":{id:"America/Cayenne",title:"Кайенна",subtitle:"UTC-3",offset:-3},"America/Fortaleza":{id:"America/Fortaleza",title:"Бразилия/Форталеза",subtitle:"UTC-3",offset:-3},"America/Godthab":{id:"America/Godthab",title:"Западная Гренландия/Нуук",subtitle:"UTC-3",offset:-3},"America/Maceio":{id:"America/Maceio",title:"Бразилия/Масейо",subtitle:"UTC-3",offset:-3},"America/Miquelon":{id:"America/Miquelon",title:"Сен-Пьер и Микелон/Микелон",subtitle:"UTC-3",offset:-3},"America/Montevideo":{id:"America/Montevideo",title:"Уругвай/Монтевидео",subtitle:"UTC-3",offset:-3},"America/Paramaribo":{id:"America/Paramaribo",title:"Парамарибо",subtitle:"UTC-3",offset:-3},"America/Punta_Arenas":{id:"America/Punta_Arenas",title:"Пунта-Аренас",subtitle:"UTC-3",offset:-3},"America/Recife":{id:"America/Recife",title:"Бразилия/Ресифи",subtitle:"UTC-3",offset:-3},"America/Santarem":{id:"America/Santarem",title:"Бразилия/Сантарен",subtitle:"UTC-3",offset:-3},"America/Sao_Paulo":{id:"America/Sao_Paulo",title:"Бразилия/Сан-Паулу",subtitle:"UTC-3",offset:-3},"Antarctica/Palmer":{id:"Antarctica/Palmer",title:"Палмер",subtitle:"UTC-3",offset:-3},"Antarctica/Rothera":{id:"Antarctica/Rothera",title:"Ротера",subtitle:"UTC-3",offset:-3},"Atlantic/Stanley":{id:"Atlantic/Stanley",title:"Фолклендские о-ва/Стэнли",subtitle:"UTC-3",offset:-3},"America/Noronha":{id:"America/Noronha",title:"Фернанду-ди-Норонья/Норонья",subtitle:"UTC-2",offset:-2},"Atlantic/South_Georgia":{id:"Atlantic/South_Georgia",title:"Южная Георгия",subtitle:"UTC-2",offset:-2},"America/Scoresbysund":{id:"America/Scoresbysund",title:"Восточная Гренландия/Скорсбисунн",subtitle:"UTC-1",offset:-1},"Atlantic/Azores":{id:"Atlantic/Azores",title:"Азорские о-ва",subtitle:"UTC-1",offset:-1},"Atlantic/Cape_Verde":{id:"Atlantic/Cape_Verde",title:"Кабо-Верде",subtitle:"UTC-1",offset:-1},"Africa/Abidjan":{id:"Africa/Abidjan",title:"Абиджан",subtitle:"UTC-0",offset:0},"Africa/Accra":{id:"Africa/Accra",title:"Аккра",subtitle:"UTC-0",offset:0},"Africa/Bissau":{id:"Africa/Bissau",title:"Бисау",subtitle:"UTC-0",offset:0},"Africa/Casablanca":{id:"Africa/Casablanca",title:"Касабланка",subtitle:"UTC-0",offset:0},"Africa/El_Aaiun":{id:"Africa/El_Aaiun",title:"Эль-Аюн",subtitle:"UTC-0",offset:0},"Africa/Monrovia":{id:"Africa/Monrovia",title:"Монровия",subtitle:"UTC-0",offset:0},"Africa/Sao_Tome":{id:"Africa/Sao_Tome",title:"Сан-Томе",subtitle:"UTC-0",offset:0},"America/Danmarkshavn":{id:"America/Danmarkshavn",title:"Денмарксхавн",subtitle:"UTC-0",offset:0},"Antarctica/Troll":{id:"Antarctica/Troll",title:"Тролль",subtitle:"UTC-0",offset:0},"Atlantic/Canary":{id:"Atlantic/Canary",title:"Западная Европа/Канарские о-ва",subtitle:"UTC-0",offset:0},"Atlantic/Faroe":{id:"Atlantic/Faroe",title:"Faroe",subtitle:"UTC-0",offset:0},"Atlantic/Madeira":{id:"Atlantic/Madeira",title:"Западная Европа/Мадейра",subtitle:"UTC-0",offset:0},"Atlantic/Reykjavik":{id:"Atlantic/Reykjavik",title:"Рейкьявик",subtitle:"UTC-0",offset:0},"Europe/Dublin":{id:"Europe/Dublin",title:"Дублин",subtitle:"UTC-0",offset:0},"Europe/Lisbon":{id:"Europe/Lisbon",title:"Западная Европа/Лиссабон",subtitle:"UTC-0",offset:0},"Europe/London":{id:"Europe/London",title:"Лондон",subtitle:"UTC-0",offset:0},"Africa/Algiers":{id:"Africa/Algiers",title:"Центральная Европа/Алжир",subtitle:"UTC+1",offset:1},"Africa/Ceuta":{id:"Africa/Ceuta",title:"Центральная Европа/Сеута",subtitle:"UTC+1",offset:1},"Africa/Lagos":{id:"Africa/Lagos",title:"Западная Африка/Лагос",subtitle:"UTC+1",offset:1},"Africa/Ndjamena":{id:"Africa/Ndjamena",title:"Западная Африка/Нджамена",subtitle:"UTC+1",offset:1},"Africa/Tunis":{id:"Africa/Tunis",title:"Центральная Европа/Тунис",subtitle:"UTC+1",offset:1},"Europe/Amsterdam":{id:"Europe/Amsterdam",title:"Центральная Европа/Амстердам",subtitle:"UTC+1",offset:1},"Europe/Andorra":{id:"Europe/Andorra",title:"Центральная Европа/Андорра",subtitle:"UTC+1",offset:1},"Europe/Belgrade":{id:"Europe/Belgrade",title:"Центральная Европа/Белград",subtitle:"UTC+1",offset:1},"Europe/Berlin":{id:"Europe/Berlin",title:"Центральная Европа/Берлин",subtitle:"UTC+1",offset:1},"Europe/Brussels":{id:"Europe/Brussels",title:"Центральная Европа/Брюссель",subtitle:"UTC+1",offset:1},"Europe/Budapest":{id:"Europe/Budapest",title:"Центральная Европа/Будапешт",subtitle:"UTC+1",offset:1},"Europe/Copenhagen":{id:"Europe/Copenhagen",title:"Центральная Европа/Копенгаген",subtitle:"UTC+1",offset:1},"Europe/Gibraltar":{id:"Europe/Gibraltar",title:"Центральная Европа/Гибралтар",subtitle:"UTC+1",offset:1},"Europe/Luxembourg":{id:"Europe/Luxembourg",title:"Центральная Европа/Люксембург",subtitle:"UTC+1",offset:1},"Europe/Madrid":{id:"Europe/Madrid",title:"Центральная Европа/Мадрид",subtitle:"UTC+1",offset:1},"Europe/Malta":{id:"Europe/Malta",title:"Центральная Европа/Мальта",subtitle:"UTC+1",offset:1},"Europe/Monaco":{id:"Europe/Monaco",title:"Центральная Европа/Монако",subtitle:"UTC+1",offset:1},"Europe/Oslo":{id:"Europe/Oslo",title:"Центральная Европа/Осло",subtitle:"UTC+1",offset:1},"Europe/Paris":{id:"Europe/Paris",title:"Центральная Европа/Париж",subtitle:"UTC+1",offset:1},"Europe/Prague":{id:"Europe/Prague",title:"Центральная Европа/Прага",subtitle:"UTC+1",offset:1},"Europe/Rome":{id:"Europe/Rome",title:"Центральная Европа/Рим",subtitle:"UTC+1",offset:1},"Europe/Stockholm":{id:"Europe/Stockholm",title:"Центральная Европа/Стокгольм",subtitle:"UTC+1",offset:1},"Europe/Tirane":{id:"Europe/Tirane",title:"Центральная Европа/Тирана",subtitle:"UTC+1",offset:1},"Europe/Vienna":{id:"Europe/Vienna",title:"Центральная Европа/Вена",subtitle:"UTC+1",offset:1},"Europe/Warsaw":{id:"Europe/Warsaw",title:"Центральная Европа/Варшава",subtitle:"UTC+1",offset:1},"Europe/Zurich":{id:"Europe/Zurich",title:"Центральная Европа/Цюрих",subtitle:"UTC+1",offset:1},"Africa/Cairo":{id:"Africa/Cairo",title:"Восточная Европа/Каир",subtitle:"UTC+2",offset:2},"Africa/Johannesburg":{id:"Africa/Johannesburg",title:"Йоханнесбург",subtitle:"UTC+2",offset:2},"Africa/Juba":{id:"Africa/Juba",title:"Джуба",subtitle:"UTC+2",offset:2},"Africa/Khartoum":{id:"Africa/Khartoum",title:"Хартум",subtitle:"UTC+2",offset:2},"Africa/Maputo":{id:"Africa/Maputo",title:"Мапуту",subtitle:"UTC+2",offset:2},"Africa/Tripoli":{id:"Africa/Tripoli",title:"Восточная Европа/Триполи",subtitle:"UTC+2",offset:2},"Africa/Windhoek":{id:"Africa/Windhoek",title:"Виндхук",subtitle:"UTC+2",offset:2},"Asia/Amman":{id:"Asia/Amman",title:"Восточная Европа/Амман",subtitle:"UTC+2",offset:2},"Asia/Beirut":{id:"Asia/Beirut",title:"Восточная Европа/Бейрут",subtitle:"UTC+2",offset:2},"Asia/Damascus":{id:"Asia/Damascus",title:"Восточная Европа/Дамаск",subtitle:"UTC+2",offset:2},"Asia/Famagusta":{id:"Asia/Famagusta",title:"Фамагуста",subtitle:"UTC+2",offset:2},"Asia/Gaza":{id:"Asia/Gaza",title:"Восточная Европа/Газа",subtitle:"UTC+2",offset:2},"Asia/Hebron":{id:"Asia/Hebron",title:"Восточная Европа/Хеврон",subtitle:"UTC+2",offset:2},"Asia/Jerusalem":{id:"Asia/Jerusalem",title:"Израиль/Иерусалим",subtitle:"UTC+2",offset:2},"Asia/Nicosia":{id:"Asia/Nicosia",title:"Восточная Европа/Никосия",subtitle:"UTC+2",offset:2},"Europe/Athens":{id:"Europe/Athens",title:"Восточная Европа/Афины",subtitle:"UTC+2",offset:2},"Europe/Bucharest":{id:"Europe/Bucharest",title:"Восточная Европа/Бухарест",subtitle:"UTC+2",offset:2},"Europe/Chisinau":{id:"Europe/Chisinau",title:"Восточная Европа/Кишинев",subtitle:"UTC+2",offset:2},"Europe/Helsinki":{id:"Europe/Helsinki",title:"Восточная Европа/Хельсинки",subtitle:"UTC+2",offset:2},"Europe/Kaliningrad":{id:"Europe/Kaliningrad",title:"Восточная Европа/Калининград",subtitle:"UTC+2",offset:2},"Europe/Kiev":{id:"Europe/Kiev",title:"Восточная Европа/Киев",subtitle:"UTC+2",offset:2},"Europe/Riga":{id:"Europe/Riga",title:"Восточная Европа/Рига",subtitle:"UTC+2",offset:2},"Europe/Sofia":{id:"Europe/Sofia",title:"Восточная Европа/София",subtitle:"UTC+2",offset:2},"Europe/Tallinn":{id:"Europe/Tallinn",title:"Восточная Европа/Таллин",subtitle:"UTC+2",offset:2},"Europe/Uzhgorod":{id:"Europe/Uzhgorod",title:"Восточная Европа/Ужгород",subtitle:"UTC+2",offset:2},"Europe/Vilnius":{id:"Europe/Vilnius",title:"Восточная Европа/Вильнюс",subtitle:"UTC+2",offset:2},"Europe/Zaporozhye":{id:"Europe/Zaporozhye",title:"Восточная Европа/Запорожье",subtitle:"UTC+2",offset:2},"Africa/Nairobi":{id:"Africa/Nairobi",title:"Найроби",subtitle:"UTC+3",offset:3},"Antarctica/Syowa":{id:"Antarctica/Syowa",title:"С",subtitle:"UTC+3",offset:3},"Asia/Baghdad":{id:"Asia/Baghdad",title:"Саудовская Аравия/Багдад",subtitle:"UTC+3",offset:3},"Asia/Qatar":{id:"Asia/Qatar",title:"Саудовская Аравия/Катар",subtitle:"UTC+3",offset:3},"Asia/Riyadh":{id:"Asia/Riyadh",title:"Саудовская Аравия/Эр-Рияд",subtitle:"UTC+3",offset:3},"Europe/Istanbul":{id:"Europe/Istanbul",title:"Стамбул",subtitle:"UTC+3",offset:3},"Europe/Kirov":{id:"Europe/Kirov",title:"Киров",subtitle:"UTC+3",offset:3},"Europe/Minsk":{id:"Europe/Minsk",title:"Москва/Минск",subtitle:"UTC+3",offset:3},"Europe/Moscow":{id:"Europe/Moscow",title:"Москва",subtitle:"UTC+3",offset:3},"Europe/Simferopol":{id:"Europe/Simferopol",title:"Москва/Симферополь",subtitle:"UTC+3",offset:3},"Europe/Volgograd":{id:"Europe/Volgograd",title:"Волгоград",subtitle:"UTC+3",offset:3},"Asia/Tehran":{id:"Asia/Tehran",title:"Иран/Тегеран",subtitle:"UTC+3",offset:3.5},"Asia/Baku":{id:"Asia/Baku",title:"Азербайджан/Баку",subtitle:"UTC+4",offset:4},"Asia/Dubai":{id:"Asia/Dubai",title:"Дубай",subtitle:"UTC+4",offset:4},"Asia/Tbilisi":{id:"Asia/Tbilisi",title:"Грузия/Тбилиси",subtitle:"UTC+4",offset:4},"Asia/Yerevan":{id:"Asia/Yerevan",title:"Армения/Ереван",subtitle:"UTC+4",offset:4},"Europe/Astrakhan":{id:"Europe/Astrakhan",title:"Астрахань",subtitle:"UTC+4",offset:4},"Europe/Samara":{id:"Europe/Samara",title:"Время в Самаре/Самара",subtitle:"UTC+4",offset:4},"Europe/Saratov":{id:"Europe/Saratov",title:"Саратов",subtitle:"UTC+4",offset:4},"Europe/Ulyanovsk":{id:"Europe/Ulyanovsk",title:"Ульяновск",subtitle:"UTC+4",offset:4},"Indian/Mahe":{id:"Indian/Mahe",title:"Маэ",subtitle:"UTC+4",offset:4},"Indian/Mauritius":{id:"Indian/Mauritius",title:"Маврикий",subtitle:"UTC+4",offset:4},"Indian/Reunion":{id:"Indian/Reunion",title:"Реюньон",subtitle:"UTC+4",offset:4},"Asia/Kabul":{id:"Asia/Kabul",title:"Кабул",subtitle:"UTC+4",offset:4.5},"Antarctica/Mawson":{id:"Antarctica/Mawson",title:"Моусон",subtitle:"UTC+5",offset:5},"Asia/Aqtau":{id:"Asia/Aqtau",title:"Актау",subtitle:"UTC+5",offset:5},"Asia/Aqtobe":{id:"Asia/Aqtobe",title:"Актобе",subtitle:"UTC+5",offset:5},"Asia/Ashgabat":{id:"Asia/Ashgabat",title:"Туркменистан/Ашхабад",subtitle:"UTC+5",offset:5},"Asia/Atyrau":{id:"Asia/Atyrau",title:"Атырау",subtitle:"UTC+5",offset:5},"Asia/Dushanbe":{id:"Asia/Dushanbe",title:"Душанбе",subtitle:"UTC+5",offset:5},"Asia/Karachi":{id:"Asia/Karachi",title:"Пакистан/Карачи",subtitle:"UTC+5",offset:5},"Asia/Oral":{id:"Asia/Oral",title:"Уральск",subtitle:"UTC+5",offset:5},"Asia/Qyzylorda":{id:"Asia/Qyzylorda",title:"Кызылорда",subtitle:"UTC+5",offset:5},"Asia/Samarkand":{id:"Asia/Samarkand",title:"Узбекистан/Самарканд",subtitle:"UTC+5",offset:5},"Asia/Tashkent":{id:"Asia/Tashkent",title:"Узбекистан/Ташкент",subtitle:"UTC+5",offset:5},"Asia/Yekaterinburg":{id:"Asia/Yekaterinburg",title:"Екатеринбург",subtitle:"UTC+5",offset:5},"Indian/Kerguelen":{id:"Indian/Kerguelen",title:"Кергелен",subtitle:"UTC+5",offset:5},"Indian/Maldives":{id:"Indian/Maldives",title:"Мальдивы",subtitle:"UTC+5",offset:5},"Asia/Colombo":{id:"Asia/Colombo",title:"Коломбо",subtitle:"UTC+5",offset:5.5},"Asia/Kolkata":{id:"Asia/Kolkata",title:"Kolkata",subtitle:"UTC+5",offset:5.5},"Asia/Kathmandu":{id:"Asia/Kathmandu",title:"Kathmandu",subtitle:"UTC+5",offset:5.75},"Antarctica/Vostok":{id:"Antarctica/Vostok",title:"Восток",subtitle:"UTC+6",offset:6},"Asia/Almaty":{id:"Asia/Almaty",title:"Алматы",subtitle:"UTC+6",offset:6},"Asia/Bishkek":{id:"Asia/Bishkek",title:"Бишкек",subtitle:"UTC+6",offset:6},"Asia/Dhaka":{id:"Asia/Dhaka",title:"Бангладеш/Дакка",subtitle:"UTC+6",offset:6},"Asia/Omsk":{id:"Asia/Omsk",title:"Омск",subtitle:"UTC+6",offset:6},"Asia/Qostanay":{id:"Asia/Qostanay",title:"Костанай",subtitle:"UTC+6",offset:6},"Asia/Thimphu":{id:"Asia/Thimphu",title:"Тхимпху",subtitle:"UTC+6",offset:6},"Asia/Urumqi":{id:"Asia/Urumqi",title:"Урумчи",subtitle:"UTC+6",offset:6},"Indian/Chagos":{id:"Indian/Chagos",title:"Чагос",subtitle:"UTC+6",offset:6},"Asia/Yangon":{id:"Asia/Yangon",title:"Yangon",subtitle:"UTC+6",offset:6.5},"Indian/Cocos":{id:"Indian/Cocos",title:"Кокосовые о-ва",subtitle:"UTC+6",offset:6.5},"Antarctica/Davis":{id:"Antarctica/Davis",title:"Дейвис",subtitle:"UTC+7",offset:7},"Asia/Bangkok":{id:"Asia/Bangkok",title:"Бангкок",subtitle:"UTC+7",offset:7},"Asia/Barnaul":{id:"Asia/Barnaul",title:"Барнаул",subtitle:"UTC+7",offset:7},"Asia/Ho_Chi_Minh":{id:"Asia/Ho_Chi_Minh",title:"Ho Chi Minh",subtitle:"UTC+7",offset:7},"Asia/Hovd":{id:"Asia/Hovd",title:"Ховд",subtitle:"UTC+7",offset:7},"Asia/Jakarta":{id:"Asia/Jakarta",title:"Джакарта",subtitle:"UTC+7",offset:7},"Asia/Krasnoyarsk":{id:"Asia/Krasnoyarsk",title:"Красноярск",subtitle:"UTC+7",offset:7},"Asia/Novokuznetsk":{id:"Asia/Novokuznetsk",title:"Красноярск/Новокузнецк",subtitle:"UTC+7",offset:7},"Asia/Novosibirsk":{id:"Asia/Novosibirsk",title:"Новосибирск",subtitle:"UTC+7",offset:7},"Asia/Pontianak":{id:"Asia/Pontianak",title:"Понтианак",subtitle:"UTC+7",offset:7},"Asia/Tomsk":{id:"Asia/Tomsk",title:"Томск",subtitle:"UTC+7",offset:7},"Indian/Christmas":{id:"Indian/Christmas",title:"о-в Рождества",subtitle:"UTC+7",offset:7},"Asia/Brunei":{id:"Asia/Brunei",title:"Бруней",subtitle:"UTC+8",offset:8},"Asia/Choibalsan":{id:"Asia/Choibalsan",title:"Улан-Батор/Чойбалсан",subtitle:"UTC+8",offset:8},"Asia/Hong_Kong":{id:"Asia/Hong_Kong",title:"Гонконг",subtitle:"UTC+8",offset:8},"Asia/Irkutsk":{id:"Asia/Irkutsk",title:"Иркутск",subtitle:"UTC+8",offset:8},"Asia/Kuala_Lumpur":{id:"Asia/Kuala_Lumpur",title:"Куала-Лумпур",subtitle:"UTC+8",offset:8},"Asia/Kuching":{id:"Asia/Kuching",title:"Кучинг",subtitle:"UTC+8",offset:8},"Asia/Macau":{id:"Asia/Macau",title:"Китай/Макао",subtitle:"UTC+8",offset:8},"Asia/Makassar":{id:"Asia/Makassar",title:"Макасар",subtitle:"UTC+8",offset:8},"Asia/Manila":{id:"Asia/Manila",title:"Филиппины/Манила",subtitle:"UTC+8",offset:8},"Asia/Shanghai":{id:"Asia/Shanghai",title:"Китай/Шанхай",subtitle:"UTC+8",offset:8},"Asia/Singapore":{id:"Asia/Singapore",title:"Сингапур",subtitle:"UTC+8",offset:8},"Asia/Taipei":{id:"Asia/Taipei",title:"Тайвань/Тайбэй",subtitle:"UTC+8",offset:8},"Asia/Ulaanbaatar":{id:"Asia/Ulaanbaatar",title:"Улан-Батор",subtitle:"UTC+8",offset:8},"Australia/Perth":{id:"Australia/Perth",title:"Западная Австралия/Перт",subtitle:"UTC+8",offset:8},"Australia/Eucla":{id:"Australia/Eucla",title:"Центральная Австралия",subtitle:"UTC+8",offset:8.75},"Asia/Chita":{id:"Asia/Chita",title:"Якутск/Чита",subtitle:"UTC+9",offset:9},"Asia/Dili":{id:"Asia/Dili",title:"Дили",subtitle:"UTC+9",offset:9},"Asia/Jayapura":{id:"Asia/Jayapura",title:"Джаяпура",subtitle:"UTC+9",offset:9},"Asia/Khandyga":{id:"Asia/Khandyga",title:"Якутск/Хандыга",subtitle:"UTC+9",offset:9},"Asia/Pyongyang":{id:"Asia/Pyongyang",title:"Корея/Пхеньян",subtitle:"UTC+9",offset:9},"Asia/Seoul":{id:"Asia/Seoul",title:"Корея/Сеул",subtitle:"UTC+9",offset:9},"Asia/Tokyo":{id:"Asia/Tokyo",title:"Япония/Токио",subtitle:"UTC+9",offset:9},"Asia/Yakutsk":{id:"Asia/Yakutsk",title:"Якутск",subtitle:"UTC+9",offset:9},"Pacific/Palau":{id:"Pacific/Palau",title:"Палау",subtitle:"UTC+9",offset:9},"Australia/Adelaide":{id:"Australia/Adelaide",title:"Центральная Австралия/Аделаида",subtitle:"UTC+9",offset:9.5},"Australia/Broken_Hill":{id:"Australia/Broken_Hill",title:"Центральная Австралия/Брокен-Хилл",subtitle:"UTC+9",offset:9.5},"Australia/Darwin":{id:"Australia/Darwin",title:"Центральная Австралия/Дарвин",subtitle:"UTC+9",offset:9.5},"Antarctica/DumontDUrville":{id:"Antarctica/DumontDUrville",title:"Дюмон-д",subtitle:"UTC+10",offset:10},"Antarctica/Macquarie":{id:"Antarctica/Macquarie",title:"Восточная Австралия/Маккуори",subtitle:"UTC+10",offset:10},"Asia/Ust-Nera":{id:"Asia/Ust-Nera",title:"Владивосток/Усть-Нера",subtitle:"UTC+10",offset:10},"Asia/Vladivostok":{id:"Asia/Vladivostok",title:"Владивосток",subtitle:"UTC+10",offset:10},"Australia/Brisbane":{id:"Australia/Brisbane",title:"Восточная Австралия/Брисбен",subtitle:"UTC+10",offset:10},"Australia/Currie":{id:"Australia/Currie",title:"Восточная Австралия/Керри",subtitle:"UTC+10",offset:10},"Australia/Hobart":{id:"Australia/Hobart",title:"Восточная Австралия/Хобарт",subtitle:"UTC+10",offset:10},"Australia/Lindeman":{id:"Australia/Lindeman",title:"Восточная Австралия/Линдеман",subtitle:"UTC+10",offset:10},"Australia/Melbourne":{id:"Australia/Melbourne",title:"Восточная Австралия/Мельбурн",subtitle:"UTC+10",offset:10},"Australia/Sydney":{id:"Australia/Sydney",title:"Восточная Австралия/Сидней",subtitle:"UTC+10",offset:10},"Pacific/Chuuk":{id:"Pacific/Chuuk",title:"Chuuk",subtitle:"UTC+10",offset:10},"Pacific/Guam":{id:"Pacific/Guam",title:"Гуам",subtitle:"UTC+10",offset:10},"Pacific/Port_Moresby":{id:"Pacific/Port_Moresby",title:"Порт-Морсби",subtitle:"UTC+10",offset:10},"Australia/Lord_Howe":{id:"Australia/Lord_Howe",title:"Лорд-Хау",subtitle:"UTC+10",offset:10.5},"Antarctica/Casey":{id:"Antarctica/Casey",title:"Кейси",subtitle:"UTC+11",offset:11},"Asia/Magadan":{id:"Asia/Magadan",title:"Магадан",subtitle:"UTC+11",offset:11},"Asia/Sakhalin":{id:"Asia/Sakhalin",title:"Сахалин/о-в Сахалин",subtitle:"UTC+11",offset:11},"Asia/Srednekolymsk":{id:"Asia/Srednekolymsk",title:"Среднеколымск",subtitle:"UTC+11",offset:11},"Pacific/Bougainville":{id:"Pacific/Bougainville",title:"Бугенвиль",subtitle:"UTC+11",offset:11},"Pacific/Efate":{id:"Pacific/Efate",title:"Вануату/Эфате",subtitle:"UTC+11",offset:11},"Pacific/Guadalcanal":{id:"Pacific/Guadalcanal",title:"Гуадалканал",subtitle:"UTC+11",offset:11},"Pacific/Kosrae":{id:"Pacific/Kosrae",title:"Косрае",subtitle:"UTC+11",offset:11},"Pacific/Norfolk":{id:"Pacific/Norfolk",title:"Норфолк",subtitle:"UTC+11",offset:11},"Pacific/Noumea":{id:"Pacific/Noumea",title:"Новая Каледония/Нумеа",subtitle:"UTC+11",offset:11},"Pacific/Pohnpei":{id:"Pacific/Pohnpei",title:"Pohnpei",subtitle:"UTC+11",offset:11},"Asia/Anadyr":{id:"Asia/Anadyr",title:"Время по Анадырю/Анадырь",subtitle:"UTC+12",offset:12},"Asia/Kamchatka":{id:"Asia/Kamchatka",title:"Петропавловск-Камчатский",subtitle:"UTC+12",offset:12},"Pacific/Auckland":{id:"Pacific/Auckland",title:"Новая Зеландия/Окленд",subtitle:"UTC+12",offset:12},"Pacific/Fiji":{id:"Pacific/Fiji",title:"Фиджи",subtitle:"UTC+12",offset:12},"Pacific/Funafuti":{id:"Pacific/Funafuti",title:"Фунафути",subtitle:"UTC+12",offset:12},"Pacific/Kwajalein":{id:"Pacific/Kwajalein",title:"Кваджалейн",subtitle:"UTC+12",offset:12},"Pacific/Majuro":{id:"Pacific/Majuro",title:"Маджуро",subtitle:"UTC+12",offset:12},"Pacific/Nauru":{id:"Pacific/Nauru",title:"Науру",subtitle:"UTC+12",offset:12},"Pacific/Tarawa":{id:"Pacific/Tarawa",title:"Тарава",subtitle:"UTC+12",offset:12},"Pacific/Wake":{id:"Pacific/Wake",title:"Уэйк",subtitle:"UTC+12",offset:12},"Pacific/Wallis":{id:"Pacific/Wallis",title:"Уоллис",subtitle:"UTC+12",offset:12},"Pacific/Chatham":{id:"Pacific/Chatham",title:"Чатем",subtitle:"UTC+12",offset:12.75},"Pacific/Apia":{id:"Pacific/Apia",title:"Апиа",subtitle:"UTC+13",offset:13},"Pacific/Enderbury":{id:"Pacific/Enderbury",title:"о-в Эндербери",subtitle:"UTC+13",offset:13},"Pacific/Fakaofo":{id:"Pacific/Fakaofo",title:"Факаофо",subtitle:"UTC+13",offset:13},"Pacific/Tongatapu":{id:"Pacific/Tongatapu",title:"Тонга/Тонгатапу",subtitle:"UTC+13",offset:13},"Pacific/Kiritimati":{id:"Pacific/Kiritimati",title:"Киритимати",subtitle:"UTC+14",offset:14}};var l;!function(e){e["1day"]="1day",e["30minutes"]="30minutes",e["45minutes"]="45minutes",e["1hour"]="1hour",e["2hours"]="2hours",e["3hours"]="3hours",e["4hours"]="4hours",e["5hours"]="5hours"}(l||(l={}));const o={"1day":24*s.HOUR,"30minutes":30*s.MINUTE,"45minutes":45*s.MINUTE,"1hour":s.HOUR,"2hours":2*s.HOUR,"3hours":3*s.HOUR,"4hours":4*s.HOUR,"5hours":5*s.HOUR},r={"1day":"calls_day","30minutes":"calls_min","45minutes":"calls_min","1hour":"calls_hour","2hours":"calls_hour","3hours":"calls_hour","4hours":"calls_hour","5hours":"calls_hour"};var n,c;!function(e){e.iCloud="iCloud",e.Google="Google",e.Outlook="Outlook",e.Other="Other"}(n||(n={})),function(e){e.Allowed="unmute",e.DisabledOnEnter="mute",e.Disabled="mute_permanent"}(c||(c={}));const d=36e5,u=new Intl.NumberFormat("ru-RU",{minimumIntegerDigits:2}),m=new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit"}),p=new Intl.NumberFormat("en-US",{signDisplay:"exceptZero"})},159720:(e,t,a)=>{"use strict";var s;a.d(t,{ERepeatCallVariant:()=>s}),function(e){e.Daily="daily",e.Weekly="weekly",e.WeeklyOnDayType="same_week_day",e.Monthly="monthly",e.Yearly="yearly",e.Never="never"}(s||(s={}))},944296:(e,t,a)=>{"use strict";a.d(t,{EAction:()=>s,getDurationValue:()=>d,getRruleEnd:()=>p,reducer:()=>c});var s,i=a(434788),l=a(418855),o=a(475926),r=a(492694),n=a(659397);!function(e){e.SetDuration="set-duration",e.SetDateStart="set-date-start",e.SetDateEnd="set-date-end",e.ResetStartTime="reset-start-time",e.ResetEndTime="reset-end-time",e.SetRruleEnd="set-rrule-end"}(s||(s={}));const c=(e,t)=>{switch(t.type){case"set-duration":{const a=t.data;if(e.duration===a)return e;const s=(()=>{const t={date:e.dateStart,time:e.timeStart};if(a===l.EDuration["1day"])t.date=new Date(e.dateStart.getFullYear(),e.dateStart.getMonth(),e.dateStart.getDate()),t.time=u(t.date);else if(e.duration===l.EDuration["1day"]){const{roundToNearestMinutes:a}=e;t.date=(0,r.getDateProxy)({roundToNearestMinutes:a,passedDate:e.dateStart,passedTime:u(new Date)}),t.time=u(t.date)}return t})(),n=(0,o.getNextDateTime)(s.date,s.time,d({duration:a})),c=m(e.rruleDateEnd,n.date);return(0,i._)({},e,{duration:t.data,dateEnd:n.date,timeEnd:n.time,dateStart:s.date,timeStart:s.time,rruleDateEnd:c.date})}case"set-date-start":{const{duration:a}=e,{date:s,time:l}=t.data,r=(0,o.getNextDateTime)(s,l,d({duration:a})),n=m(e.rruleDateEnd,r.date);return(0,i._)({},e,{dateStart:s,timeStart:l,dateEnd:r.date,timeEnd:r.time,rruleDateEnd:n.date})}case"set-date-end":{const{rruleDateEnd:a}=e,{date:s,time:l}=t.data,o=m(a,s);return(0,i._)({},e,{dateEnd:s,timeEnd:l,duration:void 0,rruleDateEnd:o.date})}case"reset-start-time":{const{roundToNearestMinutes:t,rruleDateEnd:a}=e,s=(0,r.getDateProxy)({roundToNearestMinutes:t}),n=u(s),c=e.duration===l.EDuration["1day"]?l.EDuration["30minutes"]:e.duration,p=(0,o.getNextDateTime)(s,n,d({duration:c})),h=m(a,p.date);return(0,i._)({},e,{dateStart:s,timeStart:n,dateEnd:p.date,timeEnd:p.time,duration:c,rruleDateEnd:h.date})}case"reset-end-time":{const{roundToNearestMinutes:t,rruleDateEnd:a}=e,s=(0,r.getDateProxy)({roundToNearestMinutes:t}),l=u(s),o=m(a,s);return(0,i._)({},e,{dateEnd:s,timeEnd:l,duration:void 0,rruleDateEnd:o.date})}case"set-rrule-end":{const a=p(t.data.date);return(0,i._)({},e,{rruleDateEnd:a.date,rruleTimeEnd:a.time})}default:return e}};function d({call:e,duration:t}){var a;return(0,n.isUndefined)(t)?(null==e||null==(a=e.schedule)?void 0:a.duration)?1e3*e.schedule.duration:0:l.DURATION_MAP[t]}function u(e){return{hours:e.getHours(),minutes:e.getMinutes()}}function m(e,t){const a={date:e,time:u(e)};if(t.valueOf()>e.valueOf()){const e=p(t);a.date=e.date}return a}function p(e){const t=(0,n.isNumber)(e)?new Date(e):e,a=new Date(t);return a.setHours(23,59,59,0),{date:a,time:u(a)}}},275765:(e,t,a)=>{"use strict";a.d(t,{useCalendarEventDetails:()=>d});var s=a(667294),i=a(915961),l=a(768296),o=a(16482),r=a(605419),n=a(418855),c=a(159720);const d=({meParticipant:e})=>{const{locale:t}=(0,l.useLocale)(),{getLang:a}=(0,i.useLang)(),{dateFormatter:d,timeFormatter:u,formatter:m}=(0,o.useLocaleFormatter)({locale:t}),p=(0,s.useCallback)((e=>{if(!e)return"";let t="";var a;e.timezone&&(t=` (UTC${n.numberWithSignFormatter.format((null==(a=n.timezones[e.timezone])?void 0:a.offset)||0)})`);return m.format(e.start)+t}),[a,d,u,m]);return{getDescription:(0,s.useCallback)((t=>{if(!t||!t.start)return"";let s=`${a("calls_name_invited").replace("{name}",t.displayName||(null==e?void 0:e.name)||"")}:\n`;return t.title!==a("calls_default_meeting_name")&&(s+=`«${t.title}»`,s+="\n"),t.repeatRule!==c.ERepeatCallVariant.Never?s+=(0,r.getOptionText)(t.start,t.repeatRule,a):s+=p(t),s+="\n\n",s+=`${a("calls_join_by_link")}:`,s+="\n",s+=t.join_link,s}),[e,p]),getTitle:p}}},418948:(e,t,a)=>{"use strict";a.d(t,{useDateTimeValues:()=>m});var s=a(667294),i=a(492694),l=a(475926),o=a(932275),r=a(418855),n=a(944296),c=a(605419),d=a(159720);const u=({call:e})=>{var t,a;const s=e?(0,o.objSwitchKeyValues)(r.DURATION_MAP)[1e3*((null==(t=e.schedule)?void 0:t.duration)||0)]:r.EDuration["30minutes"],c=e?new Date(1e3*((null==(a=e.schedule)?void 0:a.time)||0)):new Date,d=e?c:(0,i.getDateProxy)({passedDate:c,roundToNearestMinutes:30}),u={hours:d.getHours(),minutes:d.getMinutes()},m=(0,l.getNextDateTime)(d,u,(0,n.getDurationValue)({call:e,duration:s})),p=m.date,h=m.time,g=(null==e?void 0:e.schedule.recurrence_until_time)?(0,n.getRruleEnd)(1e3*(null==e?void 0:e.schedule.recurrence_until_time)):(0,n.getRruleEnd)(p);return{duration:s,dateStart:d,timeStart:u,dateEnd:p,timeEnd:h,roundToNearestMinutes:30,rruleDateEnd:g.date,rruleTimeEnd:g.time}},m=e=>{var t;const{getChosenDateText:a}=(0,i.useChosenDateText)(),[o,m]=(0,s.useReducer)(n.reducer,e,u),p=o.duration===r.EDuration["1day"],h=(0,s.useMemo)((()=>{const e=(0,l.getDateTimeValue)(o.dateStart,o.timeStart);return(0,l.getDateTimeValue)(o.dateEnd,o.timeEnd)-e}),[o.dateStart,o.timeStart,o.dateEnd,o.timeEnd]),g=(0,s.useMemo)((()=>(0,l.getDateTimeValue)(o.dateStart,o.timeStart)),[o.dateStart,o.timeStart]),f=(0,s.useCallback)((e=>{m({type:n.EAction.SetDuration,data:e.value})}),[]),_=(0,s.useMemo)((()=>{var t;return{date:o.dateStart,time:o.timeStart,onChange:(e,t)=>{m({type:n.EAction.SetDateStart,data:{date:e,time:t}})},onReset:()=>{m({type:n.EAction.ResetStartTime})},chosenDateText:a(o.dateStart,o.timeStart,p),disableDateSelect:(0,c.mapRecurrenceRule)(null==(t=e.call)?void 0:t.schedule.recurrence_rule)!==d.ERepeatCallVariant.Never}}),[o.dateStart,o.timeStart,p,null==(t=e.call)?void 0:t.schedule.recurrence_rule]),C=(0,s.useMemo)((()=>({date:o.dateEnd,time:o.timeEnd,onChange:(e,t)=>{m({type:n.EAction.SetDateEnd,data:{date:e,time:t}})},onReset:()=>{m({type:n.EAction.ResetEndTime})},chosenDateText:p?a(o.dateStart,o.timeStart,p):a(o.dateEnd,o.timeEnd,p)})),[o.dateEnd,o.timeEnd,p,o.dateStart,o.timeStart]),b=(0,s.useMemo)((()=>({date:o.rruleDateEnd,time:o.rruleTimeEnd,chosenDateText:"",onChange:(e,t)=>{m({type:n.EAction.SetRruleEnd,data:{date:e,time:t}})}})),[o.rruleDateEnd,o.rruleTimeEnd]);return{dateStartCtx:_,dateEndCtx:C,duration:o.duration,handleChangeDuration:f,durationMs:h,startTimeMs:g,isAllDay:p,rruleEndCtx:b}}},16482:(e,t,a)=>{"use strict";a.d(t,{useLocaleFormatter:()=>i});var s=a(667294);const i=({locale:e})=>{const t=(0,s.useMemo)((()=>"ru"===e?new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"long",year:"numeric"}):new Intl.DateTimeFormat("en-US",{day:"2-digit",month:"long",year:"numeric"})),[e]),a=(0,s.useMemo)((()=>"ru"===e?new Intl.DateTimeFormat("ru-RU",{hour12:!1,hour:"2-digit",minute:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"})),[e]);return{formatter:(0,s.useMemo)((()=>{const t="ru"===e?"ru-RU":"en-US";return new Intl.DateTimeFormat(t,{day:"2-digit",month:"long",year:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"})}),[e]),dateFormatter:t,timeFormatter:a}}},344994:(e,t,a)=>{"use strict";a.d(t,{useOptions:()=>c});var s=a(667294),i=a(464380),l=a(915961),o=a(878198),r=a(431837),n=a(418855);const c=()=>{const{getLang:e}=(0,l.useLang)(),t=(0,s.useMemo)((()=>({[n.EMediaPermission.Allowed]:e("calls_create_call_by_link_phone_option_allow_always"),[n.EMediaPermission.DisabledOnEnter]:e("calls_create_call_by_link_phone_option_disallow_entrance"),[n.EMediaPermission.Disabled]:e("calls_create_call_by_link_phone_option_disallow_always")})),[e]),a=(0,s.useMemo)((()=>{const t=i.browser.os(),a=[];for(const s of Object.values(n.ECalendar))switch(s){case n.ECalendar.Outlook:(0,o.hasIn)(t,"Windows","MacOS")&&a.push({label:s,value:s});break;case n.ECalendar.iCloud:(0,o.hasIn)(t,"MacOS")&&a.push({label:s,value:s});break;case n.ECalendar.Google:{const t=e("calls_calendar").replace("{name}",n.ECalendar.Google);a.push({label:t,value:s});break}case n.ECalendar.Other:{const t=e("calls_will_add_to_another_calendar");a.push({label:t,value:s});break}}return a}),[e]),c=(0,s.useMemo)((()=>Object.keys(n.EMediaPermission).map((e=>({label:t[n.EMediaPermission[e]],value:n.EMediaPermission[e]})))),[e]),d=(0,s.useMemo)((()=>{const t=(e,t,a)=>{switch(e){case"m":return a("calls_min",t).replace("{time}",t.toString());case"h":return a("calls_hour_v2",t).replace("{hours}",t.toString());case"d":return a("calls_all_day")}};return Object.values(n.EDuration).map((a=>{const s=n.DURATION_LANG_MAP[a],{value:i,type:l}=(()=>{switch(s){case"calls_min":return{value:n.DURATION_MAP[a]/r.MINUTE,type:"m"};case"calls_hour":return{value:n.DURATION_MAP[a]/r.HOUR,type:"h"};default:return{value:n.DURATION_MAP[a]/r.DAY,type:"d"}}})();return{label:t(l,i,e),value:a}}))}),[e]);return{calendarOptions:a,durationOptions:d,mediaOptions:c}}},394706:(e,t,a)=>{"use strict";a.d(t,{useRRuleEndValue:()=>n});var s,i=a(667294),l=a(681208),o=a(492694),r=a(915961);!function(e){e[e.Never=0]="Never",e[e.Date=1]="Date"}(s||(s={}));const n=({recurrenceUntilTime:e,date:t,time:a,onChange:s})=>{const{getLang:n}=(0,r.useLang)(),{getChosenDateText:c}=(0,o.useChosenDateText)(),d=(0,i.useRef)(null),[u,m]=(0,i.useState)(!!e),p=(0,i.useCallback)(((e,t)=>{m(!0),s(e,t)}),[s]),h=(0,i.useCallback)((e=>{switch(e){case 1:var t;null==(t=d.current)||null==t.click||t.click();break;case 0:m(!1)}}),[]),g=(0,i.useMemo)((()=>[{value:0,label:n("calls_never")},{value:1,label:n(u?"calls_change_date":"calls_choose_date")}]),[t,u]),f=(0,l.useFormSelectValue)({options:g,initialValue:()=>e?1:0,onChange:h}),_=1===f.value?c(t,a,!0):f.label,C=1===f.value?t:null;return{date:t,time:a,handleChangeDatePicker:p,selectProps:f,refDropdownTrigger:d,placeholder:_,value:C}}},666736:(e,t,a)=>{"use strict";a.d(t,{useRepeatCallOptions:()=>n});var s=a(667294),i=a(915961),l=a(681208),o=a(159720),r=a(605419);const n=({date:e,initialValue:t=o.ERepeatCallVariant.Never})=>{const{getLang:a}=(0,i.useLang)(),n=(0,s.useMemo)((()=>[{value:o.ERepeatCallVariant.Never,label:(0,r.getOptionText)(e,o.ERepeatCallVariant.Never,a)},{value:o.ERepeatCallVariant.Daily,label:(0,r.getOptionText)(e,o.ERepeatCallVariant.Daily,a)},{value:o.ERepeatCallVariant.Weekly,label:(0,r.getOptionText)(e,o.ERepeatCallVariant.Weekly,a)},{value:o.ERepeatCallVariant.WeeklyOnDayType,label:(0,r.getOptionText)(e,o.ERepeatCallVariant.WeeklyOnDayType,a)},{value:o.ERepeatCallVariant.Monthly,label:(0,r.getOptionText)(e,o.ERepeatCallVariant.Monthly,a)},{value:o.ERepeatCallVariant.Yearly,label:(0,r.getOptionText)(e,o.ERepeatCallVariant.Yearly,a)}]),[e]);return(0,l.useFormSelectValue)({options:n,initialValue:t})}},133385:(e,t,a)=>{"use strict";a.d(t,{useSelectTimezonesScrollOnOpen:()=>i});var s=a(667294);const i=({selector:e})=>{(0,s.useEffect)((()=>{if(!window.hasOwnProperty("MutationObserver"))return;const t=document.querySelector(`.${e}`),a=document.querySelector(`.${e} input`);if(!t||!a)return;const s=new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes){if(!(e instanceof HTMLElement&&e.classList.contains("CallsSelect__menu")))continue;const a=e.querySelector(".CallsSelect__option--selected");if(!a)continue;const s=t.getBoundingClientRect();let i=a.getBoundingClientRect().top-s.top-s.height;requestAnimationFrame((()=>{e.scrollTo({top:i})}))}else if("attributes"===s.type){var a;if(!(s.target instanceof HTMLInputElement))continue;null==(a=t.querySelector(".CallsSelect__menu"))||a.scrollTo({top:0})}}));return s.observe(t,{childList:!0}),s.observe(a,{attributes:!0}),()=>{s.disconnect()}}),[e])}},873146:(e,t,a)=>{"use strict";a.d(t,{useTimezones:()=>r});var s=a(667294),i=a(878198),l=a(681208),o=a(418855);const r=({initialTimezone:e}={})=>{var t;const a="ru"===((null==(t=window.langConfig)?void 0:t.locale)||"ru")?"title":"id",[r]=(0,s.useState)((()=>(0,i.getCallable)(e)||(new Intl.DateTimeFormat).resolvedOptions().timeZone)),c=(0,s.useMemo)((()=>{const e=o.timezones[r];if(e)return{label:n(e,a),value:e.id}}),[r,a]),d=(0,s.useMemo)((()=>(0,i.objectReduce)(o.timezones,((e,t)=>(e.push({label:n(t,a),value:t.id}),e)),[])),[a]);return(0,l.useFormSelectValue)({options:d,initialValue:null==c?void 0:c.value})};function n(e,t){const a=e.offset>=0?`+${e.offset}`:e.offset;return`${e[t]}, UTC${a}`}},590587:(e,t,a)=>{"use strict";a.d(t,{useUserOptions:()=>o});var s=a(667294),i=a(681208),l=a(915961);const o=({options:e,myUserId:t,forceShow:a})=>{const{getLang:o}=(0,l.useLang)(),r=(0,s.useRef)([]),n=(0,i.useFormSelectValue)({options:e||r.current}),c=!!(a||e&&e.length>1),d=(0,s.useMemo)((()=>n.value===t?o("calls_from_myself"):n.label),[n.value,n.options,n.label]),u=(0,s.useMemo)((()=>{const t=null==e?void 0:e.find((e=>e.value===n.value));return t&&(t.profile.photo_100||t.profile.photo_50||t.profile.photo_200)||""}),[n.value,e]);return{isShow:c,select:n,displayName:d,avatarUrl:u}}},605419:(e,t,a)=>{"use strict";a.d(t,{dateToUnixTimestamp:()=>c,getOptionText:()=>v,getUserSelectOptions:()=>S,getWeekDayLang:()=>b,google:()=>m,ics:()=>_,mapFormData:()=>U,mapGoogleIcsUrl:()=>E,mapRecurrenceRule:()=>T,openLinkInNewTab:()=>p});var s=a(434788),i=a(968755),l=a(878198),o=a(159720),r=a(418855),n=a(659397);const c=e=>"number"==typeof e?Math.round(e/1e3):Math.round(e.valueOf()/1e3),d=(e,t=r.hour,a=!1)=>{let s=e.valueOf(),i=s+t;if(a){const e=60*(new Date).getTimezoneOffset()*1e3;s+=e,i+=e}return{start:c(s),end:c(i)}},u=(e,t)=>{var a;const s="number"==typeof e?new Date(e):e;if(!t)return s;const i=60*((null==(a=r.timezones[t])?void 0:a.offset)||0)*60*1e3,l=60*s.getTimezoneOffset()*1e3,o=s.valueOf()-i-l;return new Date(o)},m=e=>{const t=u(e.start,e.timezone),{end:a,start:s}=d(t,e.duration,!0),i={action:"TEMPLATE",dates:h(1e3*s)+"/"+h(1e3*a),text:e.title,details:e.description,location:e.location,trp:!0},l=new URLSearchParams(i);return e.repeatRule&&l.append("recur",`RRULE:${g(e.start,e.repeatRule,e.repeatRuleEnd)}`),`https://calendar.google.com/calendar/render?${l.toString()}`},p=(e,t,a=!0)=>{const s=document.createElement("a");s.download=`VK_Calls_Meeting_${r.dateFormatter.format(t)}.ics`,Object.assign(s,{target:a?"_blank":"_self",href:e}).click(),s.remove()};function h(e){const t="number"==typeof e?new Date(e):e;let a=t.getFullYear().toString();return a+=r.numberFormatter.format(t.getMonth()+1),a+=r.numberFormatter.format(t.getDate()),a+="T",a+=r.numberFormatter.format(t.getHours()),a+=r.numberFormatter.format(t.getMinutes()),a+="00Z",a}function g(e,t,a){let s="";switch(t){case o.ERepeatCallVariant.Never:case void 0:break;case o.ERepeatCallVariant.Daily:s="FREQ=DAILY;INTERVAL=1";break;case o.ERepeatCallVariant.Monthly:s=`FREQ=MONTHLY;BYMONTHDAY=${e.getDate()};INTERVAL=1`;break;case o.ERepeatCallVariant.Weekly:s="FREQ=WEEKLY;INTERVAL=1";break;case o.ERepeatCallVariant.WeeklyOnDayType:s=C(e)?"FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR;INTERVAL=1":"FREQ=WEEKLY;BYDAY=SU,SA;INTERVAL=1";break;case o.ERepeatCallVariant.Yearly:s=`FREQ=YEARLY;BYMONTH=${e.getMonth()+1};BYMONTHDAY=${e.getDate()}`}if(a)switch(t){case o.ERepeatCallVariant.Daily:case o.ERepeatCallVariant.Monthly:case o.ERepeatCallVariant.Weekly:case o.ERepeatCallVariant.WeeklyOnDayType:case o.ERepeatCallVariant.Yearly:s+=`;UNTIL=${h(a)}`}return s}const f=e=>e.replace(/,/gm,",").replace(/;/gm,";").replace(/\r\n/gm,"\n").replace(/\n/gm,"\\n").replace(/(\\n)[\s\t]+/gm,"\\n"),_=e=>{const t=f(e.description||""),a=f(e.location||""),{start:s,end:i}=d(e.start,e.duration),l=e.timezone||(new Intl.DateTimeFormat).resolvedOptions().timeZone,o=h(1e3*s),r=h(1e3*i),n=[{key:"BEGIN",value:"VCALENDAR"},{key:"VERSION",value:"2.0"},{key:"PRODID",value:"-//VK//VK Calls Web//"},{key:"CALSCALE",value:"GREGORIAN"},{key:"METHOD",value:"PUBLISH"},{key:"CLASS",value:"PUBLIC"},{key:"TZURL",value:`http://tzurl.org/zoneinfo-outlook/${l}`},{key:"X-LIC-LOCATION",value:l},{key:"BEGIN",value:"VTIMEZONE"},{key:"TZID",value:l},{key:"END",value:"VTIMEZONE"},{key:"BEGIN",value:"VEVENT"},{key:"CREATED",value:o},{key:"DTSTART",value:`TZID=${l}:${o.slice(0,-1)}`},{key:"DTEND",value:`TZID=${l}:${r.slice(0,-1)}`},{key:"TZID",value:l},{key:"SUMMARY",value:e.title},{key:"DESCRIPTION",value:t},{key:"LOCATION",value:a},{key:"ORGANIZER",value:e.organizer},{key:"RRULE",value:g(e.start,e.repeatRule,e.repeatRuleEnd)},{key:"END",value:"VEVENT"},{key:"END",value:"VCALENDAR"}];let c="";return n.forEach((e=>{if(e.value)switch(!0){case"DTSTART"===e.key:case"DTEND"===e.key:c+=`${e.key};${encodeURIComponent(`${e.value}\n`)}`;break;case"ORGANIZER"==e.key:{const t=e.value;c+=`${e.key};${encodeURIComponent(`CN=${t.name}:MAILTO:${t.email}\n`)}`;break}default:c+=`${e.key}:${encodeURIComponent(`${e.value}\n`)}`}})),`data:text/calendar;charset=utf8,${c}`};function C(e){switch(e.getDay()){case 0:case 6:return!1;default:return!0}}const b=(e,t)=>{switch(e){case 0:return t("calls_on_sunday");case 1:return t("calls_on_monday");case 2:return t("calls_on_tuesday");case 3:return t("calls_on_wednesday");case 4:return t("calls_on_thursday");case 5:return t("calls_on_friday");case 6:return t("calls_on_saturday")}},v=(e,t,a)=>{switch(t){case o.ERepeatCallVariant.Daily:return a("calls_every_day");case o.ERepeatCallVariant.Monthly:return a("calls_day_of_each_month").replace("{date}",e.getDate());case o.ERepeatCallVariant.Weekly:return((e,t)=>{switch(e.getDay()){case 0:return t("calls_on_each_sunday");case 1:return t("calls_on_each_monday");case 2:return t("calls_on_each_tuesday");case 3:return t("calls_on_each_wednesday");case 4:return t("calls_on_each_thursday");case 5:return t("calls_on_each_friday");case 6:return t("calls_on_each_saturday");default:return""}})(e,a);case o.ERepeatCallVariant.WeeklyOnDayType:return(0,l.capitalize)((0,i.getTypeOfDay)(e,a));case o.ERepeatCallVariant.Yearly:return a("calls_each_year");case o.ERepeatCallVariant.Never:return a("calls_never")}},A=(e,t)=>{switch(t){case o.ERepeatCallVariant.WeeklyOnDayType:return C(e)?"weekdays":"weekend";case void 0:return"never";default:return t}},T=e=>{switch(e){case"weekdays":case"weekend":return o.ERepeatCallVariant.WeeklyOnDayType;case void 0:return o.ERepeatCallVariant.Never;default:return e}},y=(e,t)=>(null==e?void 0:e.location)?e.location:t("calls_default_meeting_name"),E=(e,t)=>({start:e.start,title:e.title,description:e.description,repeatRule:e.repeatRule,location:y(e,t),duration:e.duration,timezone:e.timezone,repeatRuleEnd:e.repeatRuleEnd}),S=e=>{if(e)return[{value:e.id,label:e.name,profile:(0,s._)({},e,{photo_100:e.photo})}]},D=e=>{const t=u(new Date(e.start),e.timezone),a=c(t),s={mute_audio:e.muteAudio,mute_video:e.muteVideo,mute_screen_sharing:e.muteVideo,name:e.name,only_auth_users:e.onlyAuthUsers,duration:(i=e.duration,Math.round(i/1e3)),time:a,recurrence_rule:A(t,e.rrule),waiting_hall:e.waitingHall,feedback:e.feedback,only_admin_can_share_movie:e.onlyAdminCanShareMovie};var i;return(0,n.isUndefined)(e.groupId)||(s.group_id=e.groupId),(0,n.isUndefined)(e.skipNotification)||(s.skip_notification=e.skipNotification),e.rrule!==o.ERepeatCallVariant.Never&&((0,n.isUndefined)(e.recurrenceUntilTime)||(s.recurrence_until_time=((e,t)=>{if(!e)return;const a="number"==typeof e?new Date(e):e,s=u(a,t);return c(s)})(e.recurrenceUntilTime))),s},M=(e,t)=>{const a=(0,s._)({},D(e),{call_id:t.call_id});return e.markerTime&&(a.marker_time=e.markerTime),a};function U(e,t){return t?M(e,t):D(e)}},700677:(e,t,a)=>{"use strict";a.d(t,{ReactionsBanner:()=>p,useBanner:()=>m});var s=a(785893),i=a(667294),l=a(86894),o=a(915961),r=a(22412),n=a(97547),c=a(334909),d=a(659397);const u=e=>{const t=n.videoOptionsStorage.getOptions()[r.EVideoOptionType.LAST_SHOWN_BANNER],a=e.findIndex((e=>e.type===t));return e[(a+1)%e.length]};function m(e){const[t]=(0,i.useState)((()=>u(e)));return(0,i.useEffect)((()=>{n.videoOptionsStorage.saveOption(r.EVideoOptionType.LAST_SHOWN_BANNER,t.type)}),[t]),t}const p=()=>{const{getLang:e}=(0,o.useLang)(),[t]=(0,i.useState)((()=>(e=>[{type:r.ECallsBannerType.Vmoji,pic1x:(0,c.getCDNLink)("calls-banner-vmoji-c-1x.png",6),pic2x:(0,c.getCDNLink)("calls-banner-vmoji-c-2x.png",6),langTitle:e("calls_banner_vmoji_title"),langDesc1stRow:e("calls_banner_vmoji_desc_1"),langDesc2ndRow:e("calls_banner_vmoji_desc_2"),link:`https://${(0,c.getHostName)()}/@vk-kak-vmoji-mozhet-pomoch-vam-v-vk-zvonkah`},{type:r.ECallsBannerType.SessionRooms,pic1x:(0,c.getCDNLink)("session-rooms-c-1x.png",4),pic2x:(0,c.getCDNLink)("session-rooms-c-2x.png",4),langTitle:e("calls_split_participants_in_halls"),langDesc1stRow:e("calls_organize_work_in_groups"),langDesc2ndRow:e("calls_for_finding_joint_solutions"),link:`https://${(0,c.getHostName)()}/@vk-kak-sozdavat-zaly-v-zvonkah-na-neogranichennoe-kolichestvo-u`},{type:r.ECallsBannerType.Reactions,pic1x:(0,c.getCDNLink)("reactions-c-1x.png"),pic2x:(0,c.getCDNLink)("reactions-c-2x.png"),langTitle:e("calls_call_reactions"),langDesc1stRow:e("calls_express_your_feelings"),langDesc2ndRow:e("calls_support_speakers"),link:`https://${(0,c.getHostName)()}/@vk-kak-otpravlyat-reakcii-v-zvonkah`},{type:r.ECallsBannerType.WatchTogether,pic1x:(0,c.getCDNLink)("watch-together-c-1x.png"),pic2x:(0,c.getCDNLink)("watch-together-c-2x.png"),langTitle:e("calls_watch_movies_together"),langDesc1stRow:e("calls_discuss_movies"),langDesc2ndRow:e("calls_and_series_in_call"),link:`https://${(0,c.getHostName)()}/@vk-sovmestniy-prosmotr`}])(e))),a=m(t),n=e("calls_learn_more");return(0,s.jsxs)("div",{className:"CallsReactionsBanner",children:[(0,s.jsx)(l.Headline,{level:"1",weight:"2",className:"CallsReactionsBanner__headline",children:a.langTitle}),(0,s.jsx)(l.Spacing,{size:4}),(0,s.jsx)(l.Subhead,{weight:"3",className:"CallsReactionsBanner__subhead",children:a.langDesc1stRow}),(0,s.jsx)(l.Subhead,{weight:"3",className:"CallsReactionsBanner__subhead",children:a.langDesc2ndRow}),(0,s.jsx)(l.Spacing,{size:12}),(0,s.jsx)(l.Button,{mode:"secondary",href:a.link,target:"_blank",size:"m","aria-label":`${a.langTitle}. ${a.langDesc1stRow} ${a.langDesc2ndRow}, ${n}`,children:n}),(0,s.jsx)("img",{className:(0,d.classNames)("CallsReactionsBanner__img",{"CallsReactionsBanner__img--centered":a.type===r.ECallsBannerType.Vmoji}),src:a.pic1x,srcSet:`${a.pic2x} 2x`,alt:"Reactions Banner"})]})}},832065:(e,t,a)=>{"use strict";a.d(t,{Description:()=>U,ScheduledCallRow:()=>w});var s=a(434788),i=a(820224),l=a(785893),o=a(667294),r=a(512334),n=a(479720),c=a(415080),d=a(400485),u=a(521767),m=a(376499),p=a(25398),h=a(277659),g=a(432483),f=a(951203),_=a(417174),C=a(915961),b=a(768296),v=a(159720),A=a(496111),T=a(968755),y=a(86894),E=a(881310),S=a(384627),D=a(129502);const M=e=>{var{call:t,isToday:a}=e,s=(0,i._)(e,["call","isToday"]);const{getLang:o}=(0,C.useLang)(),r=()=>null==s.onCallEnter?void 0:s.onCallEnter(t),n=()=>null==s.onCallDelete?void 0:s.onCallDelete(t),f=()=>null==s.onCallCopyText?void 0:s.onCallCopyText(t),_=()=>null==s.onCallCopyLink?void 0:s.onCallCopyLink(t),b=()=>null==s.onCallEdit?void 0:s.onCallEdit(t),v=()=>null==s.onCallMessage?void 0:s.onCallMessage(t),T=(()=>{const e=[(0,l.jsx)(E.DropdownActionSheetItem,{onClick:r,before:(0,l.jsx)(c.Icon20PhoneOutline,{}),children:o("calls_landing_standalone_join")},1),(0,l.jsx)(E.DropdownActionSheetItem,{onClick:_,before:(0,l.jsx)(d.Icon20Chain,{}),children:o("calls_copy_link")},2),(0,l.jsx)(E.DropdownActionSheetItem,{onClick:f,before:(0,l.jsx)(u.Icon20ArticleBoxOutline,{}),children:o("calls_copy_text")},3),(0,l.jsx)(E.DropdownActionSheetItem,{onClick:b,before:(0,l.jsx)(m.Icon20WriteOutline,{}),children:o("calls_edit_call")},4)];return(0,A.isParticipantGroup)(t.caller_id)||e.push((0,l.jsx)(E.DropdownActionSheetItem,{onClick:v,before:(0,l.jsx)(p.Icon20MessageOutline,{}),children:o("calls_goto_chat")},5)),e.push((0,l.jsx)(E.DropdownActionSheetItem,{onClick:n,before:(0,l.jsx)(h.Icon20DeleteOutline,{}),type:"destructive",children:o("calls_delete")},6)),e})();return(0,l.jsxs)("div",{className:"CallsScheduledCallRowAsideMenu",children:[a&&(0,l.jsx)(y.Button,{onClick:r,mode:"secondary","aria-describedby":s.labelId,size:"s",children:o("calls_landing_standalone_join")}),(0,l.jsx)(S.DropdownActionSheet,{action:"hover",placement:"bottom-end",content:(0,l.jsx)(l.Fragment,{children:T}),children:(0,l.jsx)(D.SmallIconButton,{"aria-expanded":"false","aria-label":o("calls_actions"),"aria-describedby":s.labelId,children:(0,l.jsx)(g.Icon24MoreHorizontal,{})})})]})},U=({call:e,isToday:t,isTomorrow:a})=>{var s;const{getLang:i}=(0,C.useLang)(),{locale:o}=(0,b.useLocale)(),r=(()=>{var t,a,s;const i=new Date(1e3*((null==(t=e.schedule)?void 0:t.time)||0));return{start:T.timeFormat.format(i),startDate:i,end:T.timeFormat.format(new Date(1e3*((null==(a=e.schedule)?void 0:a.time)||0)+1e3*((null==(s=e.schedule)?void 0:s.duration)||0)))}})(),n=(()=>{var s,l;const n=!(!t&&!a);let c=(0,T.getRepeatDescription)(r.startDate,(null==(s=e.schedule)?void 0:s.recurrence_rule)||"never",i,o,n),d=", ";if(!c){if(n)return"";c=(0,T.dateMonthFormat)(r.startDate,o)}return(n||(null==(l=e.schedule)?void 0:l.recurrence_rule)===v.ERepeatCallVariant.Daily)&&(d=" · "),`${d}${c}`})();return(0,l.jsxs)("div",{className:"CallsScheduledCallRowDescription",children:[(0,l.jsxs)("div",{className:"CallsScheduledCallRowDescription--time",children:["never"!==(null==(s=e.schedule)?void 0:s.recurrence_rule)&&(0,l.jsx)(f.Icon12Repost,{}),(0,l.jsx)("span",{className:"CallsScheduledCallRowSubDescription",children:`${r.start} — ${r.end}${n}`})]}),e.group&&(0,l.jsx)("div",{children:e.group.name})]})},k=e=>{var t,a,o,{call:c,isToday:d}=e,u=(0,i._)(e,["call","isToday"]);const m=(null==(t=c.group)?void 0:t.photo_50)||(null==(a=c.chat)?void 0:a.photo_50),p=`${c.call_id}_${c.caller_id}`;return(0,l.jsx)(r.default,{className:"CallsScheduledCallRow",selectable:!1,canBeHovered:!1,aside:(0,l.jsx)(M,(0,s._)({call:c,isToday:d,labelId:p},u)),children:(0,l.jsx)("div",{id:p,children:(0,l.jsx)(n.default,{className:"CallsScheduledCallRowEntity",photo:(0,l.jsx)(_.CallPhoto,{id:(null==(o=c.chat)?void 0:o.peer_id)||1,photo:m,alt:c.name||"",size:"34"}),title:c.name,description:(0,l.jsx)(U,{call:c,isToday:d,isTomorrow:u.isTomorrow})})})})},w=(0,o.memo)(k)},968755:(e,t,a)=>{"use strict";a.d(t,{dateMonthFormat:()=>m,getRepeatDescription:()=>T,getTypeOfDay:()=>v,mapCalls:()=>b,timeFormat:()=>c});var s=a(434788),i=a(512796),l=a(605419),o=a(159720),r=a(878198);const n=864e5,c=new Intl.DateTimeFormat("ru-RU",{hour12:!1,hour:"2-digit",minute:"2-digit"}),d=new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long"}),u=new Intl.DateTimeFormat("en-US",{day:"numeric",month:"long"}),m=(e,t)=>"ru"===t?d.format(e):u.format(e),p=new Intl.DateTimeFormat("ru-RU",{month:"long"}),h=new Intl.DateTimeFormat("en-US",{month:"long"}),g=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth(),f=(e,t)=>g(e,t)&&e.getDate()===t.getDate(),_=(e,t)=>{const a=new Date(e.valueOf()+n);return f(a,t)},C=()=>{let e=!1;return{getDayTitle:(t,a,s,i)=>{switch(!0){case f(t,a):e=!0;return`${i("calls_today")}, ${m(a,s)}`;case _(t,a):e=!0;return`${i("calls_tomorrow")}, ${m(a,s)}`;case l=t,o=a,Math.abs(l.valueOf()-o.valueOf())/n<7:return e?i("calls_five_days_tops").replace("{days}",5):i("calls_five_days_tops").replace("{days}",7);case g(t,a):return i("calls_this_month");default:{let e=(0,r.capitalize)(((e,t)=>"ru"===t?p.format(e):h.format(e))(a,s));return((e,t)=>e.getFullYear()===t.getFullYear())(t,a)||(e+=`, ${a.getFullYear()}`),e}}var l,o}}},b=({now:e,items:t,locale:a,getLang:l,groups:o})=>{const r=(e=>e?null==e?void 0:e.reduce(((e,t)=>(0,s._)({},e,{[t.id]:t})),{}):null)(o),n=new Map,{getDayTitle:c}=C(),d=new Set;if(t)for(const o of t){let t=(0,s._)({},(0,i._)(o));var u,m;const h=!(!r||!t.caller_id)&&r[Math.abs(t.caller_id)];h&&(t.group=h);const g=new Date(1e3*((null==(u=t.schedule)?void 0:u.time)||0)),C=c(e,g,a,l);if(t.caller_id&&d.add(t.caller_id),n.has(C)){var p;if(!(null==(m=n.get(C))?void 0:m.calls.has(t.call_id)))null==(p=n.get(C))||p.calls.set(t.call_id,t)}else{const a=new Map;a.set(t.call_id,t),n.set(C,{title:C,calls:a,isToday:f(e,g)||void 0,isTomorrow:_(e,g)||void 0})}}let h=0;const g=[];for(const e of n.values()){const t=[...e.calls.values()];h+=t.length,g.push((0,s._)({},e,{calls:t}))}return{calls:g,callerIds:d,total:h}},v=(e,t)=>{switch(e.getDay()){case 0:case 6:return t("calls_on_dayoffs");default:return t("calls_on_workdays")}},A=(e,t,a)=>a?"":`${m(e,t)} · `,T=(e,t,a,s,i)=>{switch(t){case o.ERepeatCallVariant.Daily:return a("calls_daily");case o.ERepeatCallVariant.Monthly:{let t=A(e,s,i);return t+=a("calls_monthly"),t}case o.ERepeatCallVariant.Weekly:{let t=A(e,s,i);return t+=a("calls_on").replace("{day}",(0,l.getWeekDayLang)(e.getDay(),a)),t}case"weekdays":case"weekend":case o.ERepeatCallVariant.WeeklyOnDayType:{let t=A(e,s,i);return t+=v(e,a),t}case o.ERepeatCallVariant.Yearly:{let t=A(e,s,i);return t+=a("calls_yearly"),t}default:return""}}},694982:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var s=a(434788),i=a(785893),l=a(667294),o=a(973935),r=a(659397),n=a(511527),c=a(84562),d=a(22412);class u extends l.Component{getLabel(e){return this.props.searchable?this.props.value||"":e.placeholder||"Select..."}UNSAFE_componentWillReceiveProps(e){this.setState({filteredOptions:e.options,allOptions:e.options}),this.props.editable&&void 0!==e.customValue?this.setState({selected:{label:e.customValue,value:e.customValue}}):void 0!==e.value&&e.value!==this.state.selected?this.setState({selected:this.getOptionByValue(e.options,e.value)}):void 0===e.value&&this.setState({selected:{label:this.getLabel(e),value:""}})}componentDidMount(){this.el=o.findDOMNode(this),document.addEventListener("mousedown",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,!1),document.body.addEventListener("keydown",this.handleBodyKeyDown,!1)}componentWillUnmount(){this.mounted=!1,document.removeEventListener("mousedown",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,!1),document.body.removeEventListener("keydown",this.handleBodyKeyDown,!1)}toggle(e){this.setState({opened:e},(()=>{var e,t,a,s;this.state.opened?null==(t=(e=this.props).onShow)||t.call(e):null==(s=(a=this.props).onHide)||s.call(a)}))}render(){const{className:e,appearance:t,style:a,searchable:s,editable:l,disabled:o,position:n,isFluid:c,alwaysNotEmpty:d}=this.props,{selected:u,opened:m}=this.state,p=!d&&u&&"object"==typeof u&&!u.value||!1;let h=s||l?"secondary":t,g=(0,r.classNames)("CallsSelect",`CallsSelect--${h}`,`CallsSelect--${n}`,{"CallsSelect--opened":!!m,"CallsSelect--disabled":!!o,"CallsSelect--empty":p,"CallsSelect--isFluid":c},e);const f=this.buildControl(u);return(0,i.jsxs)("div",{className:g,style:a,children:[f,this.state.opened&&this.renderMenu()]})}constructor(e){let t;super(e),this.handleMouseDown=e=>{const{opened:t}=this.state,{onFocus:a,alwaysOpened:s,disabled:i,searchable:l}=this.props;a&&"function"==typeof a&&a(t),"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),i||s||this.toggle(!!l||!t))},this.getOptionByValue=(e,t)=>{for(let a=0;a<e.length;a++){if(!e.hasOwnProperty(a))continue;const s=e[a];if("object"==typeof s){if("group"===s.type&&void 0!==s.items){const e=this.getOptionByValue(s.items||[],t);if(e)return e}if(s.value===t)return s}else if(s===t)return s}},this.setValue=(e,t,a)=>{a&&a.stopPropagation(),"object"==typeof t&&this.props.searchable&&(t=t.props.title);const s={value:e,label:"object"==typeof t?t:t.toString()};this.fireChangeEvent(s),this.setState({selected:s}),this.props.alwaysOpened||this.toggle(!1)},this.fireChangeEvent=e=>{e!==this.state.selected&&this.props.onChange&&this.props.onChange({name:this.props.name,selected:e})},this.renderOption=e=>{let t=(0,r.classNames)("CallsSelect__option",{"CallsSelect__option--selected":e===this.state.selected}),a=void 0!==e.value?e.value:e.label||e,s=void 0!==e.label?e.label:e;return(0,i.jsxs)("div",{className:t,onClick:e=>this.setValue(a,s,e),title:e.title,children:[s,(0,i.jsx)(c.Icon16CheckOutline,{className:"CallsSelect__option--SelectedIcon"})]},a)},this.buildMenu=()=>{let e=this.state.filteredOptions.map((e=>"string"!=typeof e&&"group"===e.type?(0,i.jsxs)("div",{className:"CallsSelect__group",children:[e.name&&(0,i.jsx)("div",{className:"CallsSelect__title",children:e.name}),e.items&&e.items.map((e=>this.renderOption(e)))]},e.name):this.renderOption(e)));return e.length?e:(0,i.jsx)("div",{className:"CallsSelect__noresults",children:this.props.searchPlaceholder})},this.renderMenu=()=>this.props.customMenu?this.props.customMenu(this.state.filteredOptions,this.setValue,this.state.selected):(0,i.jsx)("div",{className:"CallsSelect__menu",children:this.buildMenu()}),this.filterOptions=(e,t)=>{let a=e.toLowerCase();return t.filter((e=>"string"==typeof e?e.toLowerCase().includes(a):"string"==typeof e.label?e.label.toLowerCase().includes(a):"object"==typeof e.label&&e.label.props.title.toLowerCase().indexOf(a)>=0))},this.handleSearchType=e=>{const t=e.target.value,a=this.filterOptions(t,this.state.allOptions);this.setState({selected:{value:t,label:t},filteredOptions:a}),this.toggle(!0),this.props.onType&&this.props.onType(t)},this.handleSearchFocus=e=>{this.props.enableSearchSelectOnFocus&&e.target.select(),this.props.onInputFocus&&this.props.onInputFocus(e)},this.handleEditableType=e=>{this.setState({opened:!0}),this.props.onEdit&&this.props.onEdit(e.target.value)},this.buildControl=e=>{let t,a,l="";const{searchable:o,editable:c,inputOtherProps:d,placeholder:u,forcePlaceholder:m}=this.props,p=(0,r.classNames)("CallsSelect__input",d&&d.className);return e&&"string"==typeof e&&(l=e),e&&"object"==typeof e&&(e&&"string"==typeof e.label&&(l=m&&"string"==typeof u&&u?u:e.label),e&&"object"==typeof e.label&&o&&(l=e.label.props.title||""),e&&"object"==typeof e.label&&!o&&(a=e.placeholder||e.label)),t=o?(0,i.jsxs)("div",{className:"CallsSelect__control",onClick:this.handleMouseDown,children:[(0,i.jsx)(n.default,(0,s._)({placeholder:this.props.placeholder,value:l||"",onChange:this.handleSearchType.bind(this),onFocus:this.handleSearchFocus.bind(this),onBlur:e=>{var t,a;return null==(a=(t=this.props).onInputBlur)?void 0:a.call(t,e,this.state.filteredOptions)},disabled:this.props.disabled,isControlledOutside:!0},d,{className:p})),(0,i.jsx)("span",{className:"CallsSelect__arrow"})]}):c?(0,i.jsxs)("div",{className:"CallsSelect__control",onClick:this.handleMouseDown,children:[(0,i.jsx)(n.default,(0,s._)({placeholder:this.props.placeholder,id:this.props.id,value:l||"",onChange:this.handleEditableType,onFocus:this.props.onInputFocus,onBlur:this.props.onInputBlur,disabled:this.props.disabled,isControlledOutside:!0,autoComplete:"off"},d,{className:p})),(0,i.jsx)("span",{className:"CallsSelect__arrow"})]}):(0,i.jsxs)("div",{className:"CallsSelect__control",onClick:this.handleMouseDown,children:[(0,i.jsx)("div",{className:"CallsSelect__placeholder",children:l||a}),(0,i.jsx)("span",{className:"CallsSelect__arrow"})]}),t},this.handleBodyKeyDown=e=>{e.key===d.KeyboardCodes.Escape&&this.mounted&&this.state.opened&&!this.props.alwaysOpened&&this.toggle(!1)},this.checkRightSearchableValue=()=>{const{selected:e}=this.state,{options:t,value:a}=this.props;if(a&&this.props.searchable){const s=this.getOptionByValue(t,a);s&&"object"==typeof s&&"object"==typeof e&&s.value!==e.value&&this.setState({selected:s,filteredOptions:t})}},this.handleDocumentClick=e=>{var t;const{opened:a}=this.state,{alwaysOpened:s,checkRightSearchableValue:i}=this.props,l=!!(null==(t=this.el)?void 0:t.contains(e.target));this.mounted&&a&&!s&&!l&&this.toggle(!1),i&&!l&&this.checkRightSearchableValue()},t=void 0!==e.value?e.editable&&void 0!==e.customValue?{label:e.customValue,value:e.customValue}:this.getOptionByValue(e.options,e.value):{label:this.getLabel(e),value:""},this.state={filteredOptions:e.options,allOptions:e.options,selected:t,opened:!!e.alwaysOpened},this.mounted=!0}}u.defaultProps={appearance:"primary",searchPlaceholder:"No options found",searchable:!1,editable:!1,inputOtherProps:{},onShow:()=>{},onHide:()=>{},position:"b"}},129502:(e,t,a)=>{"use strict";a.d(t,{SmallIconButton:()=>n});var s=a(434788),i=a(820224),l=a(785893),o=a(659397),r=a(86894);const n=(0,r.withAdaptivity)((e=>{var{children:t}=e,a=(0,i._)(e,["children"]);const n=(0,r.usePlatform)();return(0,l.jsx)(r.Tappable,(0,s._)({activeEffectDelay:200,activeMode:"background"},a,{Component:"button",className:(0,o.classNames)("SmallIconButton",n===r.IOS&&"SmallIconButton--ios"),children:t}))}),{sizeY:!0});n.displayName="SmallIconButton"},114557:(e,t,a)=>{"use strict";a.d(t,{UserBadge:()=>o});var s=a(785893),i=a(659397),l=a(526322);const o=({className:e,type:t})=>(0,s.jsx)("div",{className:(0,i.classNames)("UserBadge",`UserBadge--${t}`,e),children:(0,s.jsx)(l.StarIcon,{})})},796317:(e,t,a)=>{"use strict";a.d(t,{ConfigContext:()=>l});var s=a(667294),i=a(22412);const l=(0,s.createContext)({debugLog:!1,incomingCall:!1,streaming:!0,streamingPrivacy:!0,fullHD:!1,anonymPhoto:!0,showFeedbackScreen:!1,enableVideoSlots:!1,videoSlotsCount:i.VIDEO_SLOTS_COUNT,browserWarnings:null,allowCallByName:!1,enableScreenTrack:!1,enableProducerScreenTrack:!1,badNetworkP2P:!1,desktopAppNotification:!1,sferum:!1,lazyLoading:!1,enableDomainBender:!1,enableMultipleDevices:!1,enableParticipantListChunk:!1,enableAudioShare:!1,enableRoomControl:!1,enableChangeName:!1})},346880:(e,t,a)=>{"use strict";a.d(t,{LangContext:()=>s});const s=(0,a(667294).createContext)({getLang:e=>e,langReplace:(e,t)=>e,langSex:(e,t)=>t,langNumeric:(e,t)=>`${t}`,langShortDateTime:e=>`${e}`,langShortDate:e=>`${e}`})},121951:(e,t,a)=>{"use strict";a.d(t,{getFocusableElements:()=>i});const s=["a[href]","area[href]",'input:not([disabled]):not([hidden]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([hidden]):not([aria-hidden])","textarea:not([disabled])","button:not([disabled])","iframe","audio","video","[contenteditable]",'[tabindex]:not([tabindex="-1"])'];function i(e=document){return Array.from(e.querySelectorAll(s.join())).filter((e=>null!==e.offsetParent)).filter((e=>-1!==e.tabIndex))}},888385:(e,t,a)=>{"use strict";a.d(t,{getApiWrapper:()=>o,setApiWrappers:()=>l});let s=null,i=null;const l=(e,t)=>{s=e,i=t},o=(e=!0)=>e?s:i},431837:(e,t,a)=>{"use strict";function s(e){const t=new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}a.d(t,{DAY:()=>o,HOUR:()=>l,MINUTE:()=>i,SECOND_JS:()=>n,WEEK:()=>r,isSameYear:()=>c,isToday:()=>s});const i=6e4,l=60*i,o=86400,r=7*o,n=1e3,c=(e,t)=>e.getFullYear()===t.getFullYear()},455118:(e,t,a)=>{"use strict";a.d(t,{get:()=>i});var s=a(659397);const i=(e,t)=>{if(!(0,s.isString)(e)&&!(0,s.isArray)(e))return;const a=(0,s.isArray)(e)?e:e.split(".").filter(Boolean),i=a.length-1;let l=t;for(let e=0;e<a.length;e+=1){if(!(0,s.isObjectLike)(l))return;const t=l[a[e]];if(!t)return;if(e===i)return t;l=t}}},563247:(e,t,a)=>{"use strict";a.d(t,{getCurrentCallOwner:()=>o,getCurrentCallPeerId:()=>l,getHistoryCallPeerId:()=>i,getHistoryItemOwner:()=>r});var s=a(723062);function i(e){const{chat:t,user_ids:a,items:i}=e;let l=0;if(t)t.id&&(l=s.Ranges.convertChatIdToChatPeerId(t.id));else if(a.length)l=a[0];else{var o;(null==i?void 0:i.length)&&(null==(o=i[0])?void 0:o.chat)&&i[0].chat.id&&(l=s.Ranges.convertChatIdToChatPeerId(i[0].chat.id))}return l}function l(e){let t=0;return(null==e?void 0:e.chat)?t=s.Ranges.convertChatIdToChatPeerId(e.chat.id):e.user_ids.length&&(t=e.user_ids[0]),t}function o(e,t){let a,{chat:s,user_ids:i}=e;if(!s&&i.length){let e=i[0];e in t&&(a=t[e])}return{member:a,chat:s}}function r(e,t){let a,{chat:s,user_ids:i,items:l}=e;if(!s)if(i.length){let e=i[0];e in t&&(a=t[e])}else{var o,r;if((null==l?void 0:l.length)&&(null==(o=l[0])?void 0:o.chat))s=null==(r=l[0])?void 0:r.chat}return{member:a,chat:s}}},97547:(e,t,a)=>{"use strict";a.d(t,{CallChangeNameStorage:()=>m,EEffectAppType:()=>s,EffectAppType:()=>r,customExternalDomainStorage:()=>u,effectStorage:()=>c,onboardingStorage:()=>d,videoOptionsStorage:()=>n});var s,i=a(434788),l=a(22412),o=a(659397);!function(e){e.VkCalls="vkcalls",e.Sferum="sferum"}(s||(s={}));class r{static setAppType(e){r._appType=e}static getAppType(){return r._appType}static getLsKeys(){return r._lsKeysMap[r._appType]}}r._appType="vkcalls",r._lsKeysMap={vkcalls:l.LS_KEYS,sferum:l.LS_SFERUM_KEYS};const n={queryOption:e=>n.getOptions()[e],getOptions(){try{const e=r.getLsKeys(),t=o.localStorage.getItem(e.VIDEO_OPTIONS);if("string"!=typeof t)throw new Error("no value stored");return JSON.parse(t)}catch(e){return n.getDefaultOptions()}},saveOption(e,t){const a=(0,i._)({},n.getOptions(),{[e]:t}),s=r.getLsKeys();return o.localStorage.setItem(s.VIDEO_OPTIONS,JSON.stringify(a)),a},saveOptions(e){const t=r.getLsKeys();return o.localStorage.setItem(t.VIDEO_OPTIONS,JSON.stringify(e)),e},getDefaultOptions:()=>({calls_is_video_mirrored:!0})},c={getEffect(){const e=r.getLsKeys(),t=o.localStorage.getItem(e.VIRTUAL_BACKGROUND_EFFECT);return"string"!=typeof t?l.EVideoEffectType.NONE:/^\d+$/.test(t)?+t:t},saveEffect(e){const t=r.getLsKeys();o.localStorage.setItem(t.VIRTUAL_BACKGROUND_EFFECT,`${e}`)},getEffectTs(){const e=r.getLsKeys(),t=o.localStorage.getItem(e.VIRTUAL_BACKGROUND_EFFECT_SELECTED_TS);return"string"!=typeof t?0:+t},saveEffectTs(e){const t=r.getLsKeys();o.localStorage.setItem(t.VIRTUAL_BACKGROUND_EFFECT_SELECTED_TS,`${e}`)},clearEffectTs(){const e=r.getLsKeys();o.localStorage.removeItem(e.VIRTUAL_BACKGROUND_EFFECT_SELECTED_TS)}},d={getPreviousBanner:()=>o.localStorage.getItem(l.PREVIOUS_ONBOARDING_BANNER),setPreviousBanner:e=>{e&&o.localStorage.setItem(l.PREVIOUS_ONBOARDING_BANNER,e)},setUsedFeature:e=>{e&&o.localStorage.setItem(`${e}FeatureIsUsed`,"true")},getUsedFeature:e=>!!e&&!!o.localStorage.getItem(`${e}FeatureIsUsed`)},u={getValue(){let e=o.localStorage.getItem(l.LS_KEYS.CUSTOM_EXTERNAL_DOMAIN);if(e||(e=sessionStorage.getItem(l.LS_KEYS.CUSTOM_EXTERNAL_DOMAIN)),e)return e}},m={getOptions(){try{const e=o.localStorage.getItem(l.LS_KEYS.CHANGED_NAME);if("string"!=typeof e)throw new Error("no value stored");return JSON.parse(e)}catch(e){return}},saveOptions:e=>(o.localStorage.setItem(l.LS_KEYS.CHANGED_NAME,JSON.stringify(e)),e)}},465768:(e,t,a)=>{"use strict";a.d(t,{handlePromiseError:()=>i});var s=a(464380);const i=(...e)=>{(0,s.debugMessage)(s.DebugMessageType.ERROR,...e)}},334909:(e,t,a)=>{"use strict";a.d(t,{getCDNLink:()=>r,getHistorySectionUrl:()=>n,getHostName:()=>i,getVideoRecordsLink:()=>l,openAsrList:()=>o});var s=a(496111);function i(){var e;const t=null==(e=window.location.host.match(/\.?([^.]+\.[^.]+)$/))?void 0:e[1];return t&&/^vk\.(com|ru)$/.test(t)?t:"vk.com"}function l(e){const t=`https://${i()}`;return(0,s.isParticipantGroup)(e)?t+`/video/playlist/${e}_-8`:t+function(e){return`/video/@${e}/recorded_calls`}(e)}function o(){window.open&&window.open(`https://${i()}/calls?section=decoding`,"_blank")}function r(e,t=1){return`https://st.mycdn.me/static/misc/0-0-${t}/${e}`}function n(e){return`calls?section=${e}`}},939723:(e,t,a)=>{"use strict";var s,i,l;a.d(t,{EHistoryScreenPopup:()=>l,HistoryScreenActionTypes:()=>i,HistoryScreenSections:()=>s}),function(e){e.ALL="",e.MISS="missed",e.FRIENDS="friends",e.CURRENT="current",e.SCHEDULED="scheduled",e.HISTORY="history",e.DECODING="decoding",e.RECORDS="records"}(s||(s={})),function(e){e.DELETE_CALL="DELETE_CALL",e.SET_CURRENT_CALLS="SET_CURRENT_CALLS",e.SET_HISTORY_CALLS="SET_HISTORY_CALLS",e.SET_PROFILES="SET_PROFILES",e.SET_URLS="SET_URLS",e.ERROR="ERROR",e.SET_LOADING="SET_LOADING",e.SET_SHOW_CREATE_BUTTON="SET_SHOW_CREATE_BUTTON",e.SET_SCHEDULED_CALLS_PREVIEW="SET_SCHEDULED_CALLS_PREVIEW",e.SET_SCHEDULED_CALLS="SET_SCHEDULED_CALLS",e.SET_POPUP="SET_POPUP",e.SET_SCHEDULED_EDITABLE_CALL="set_scheduled_editable_call",e.SET_CALLS_QUEUE_RESPONSE="set_calls_queue_response"}(i||(i={})),function(e){e.EditCalendarEvent="popup_edit_calendar_event",e.DeleteCalendarEvent="popup_delete_calendar_event",e.RescheduleCalendarEvent="popup_reschedule_calendar_event"}(l||(l={}))},953063:(e,t,a)=>{"use strict";a.d(t,{useFetchData:()=>l});var s=a(667294),i=a(151582);const l=({cb:e,initialLoading:t})=>{const[a,l]=(0,s.useState)(!!t),[o,r]=(0,s.useState)(null),n=(0,i.useIsMounted)();return{fetchData:(0,s.useCallback)(((...t)=>(l(!0),r(null),e(...t).catch((e=>{throw r(e),e})).finally((()=>{n()&&l(!1)})))),[e]),loading:a,error:o}}},314087:(e,t,a)=>{"use strict";a.d(t,{useFormCheckboxesValues:()=>l});var s=a(667294),i=a(878198);const l=({name:e,initialValue:t}={})=>{const[a,l]=(0,s.useState)((()=>!!(0,i.getCallable)(t)));return{name:e,checked:a,onChange:(0,s.useCallback)((e=>{l(e.target.checked)}),[])}}},492694:(e,t,a)=>{"use strict";a.d(t,{getDateProxy:()=>c,useChosenDateText:()=>n});var s=a(667294),i=a(475926),l=a(768296),o=a(915961);a(878198);const r=new Intl.NumberFormat("ru-RU",{minimumIntegerDigits:2}),n=()=>{const{locale:e}=(0,l.useLocale)(),{getLang:t}=(0,o.useLang)(),a=(0,s.useMemo)((()=>{const t="ru"===e?"ru-RU":"en-US";return{DMMMM:new Intl.DateTimeFormat(t,{day:"2-digit",month:"long"}),YYYY:new Intl.DateTimeFormat("en-US",{year:"numeric"})}}),[e]);return{getChosenDateText:(0,s.useCallback)(((e,s,l=!1)=>{const o=new Date;let n=t("calls_today");if(o.getFullYear()!==e.getFullYear()?(n=a.DMMMM.format(e),n+=` ${a.YYYY.format(e)}`):(0,i.isSameDate)(o,e)||(n=a.DMMMM.format(e)),l)return n;const c=r.format(s.hours),d=r.format(s.minutes);return t("calls_date_in_time").replace("{date}",n).replace("{time}",`${c}:${d}`)}),[a,t])}};function c({passedDate:e,passedTime:t,roundToNearestMinutes:a}={}){let s=new Date(e||Date.now());if(t&&(s.setHours(t.hours),s.setMinutes(t.minutes)),a){const e=6e4*a;s=new Date(Math.ceil(s.getTime()/e)*e)}return s}},524117:(e,t,a)=>{"use strict";a.d(t,{useFormInputValue:()=>i});var s=a(667294);const i=({initialValue:e,validator:t})=>{const[a,i]=(0,s.useState)(e||""),[l,o]=(0,s.useState)(!1),r=(0,s.useRef)(!1),n=(0,s.useCallback)((e=>{r.current=!0,i(e.target.value)}),[]);return(0,s.useEffect)((()=>{r.current&&t&&o(t(a))}),[a,t]),{value:a,error:l,onChange:n}}},681208:(e,t,a)=>{"use strict";a.d(t,{useFormSelectValue:()=>l});var s=a(667294),i=a(915961);const l=({initialValue:e,options:t,onChange:a})=>{var l;const{getLang:o}=(0,i.useLang)(),[r,n]=(0,s.useState)(e||(null==(l=t[0])?void 0:l.value)),c=(0,s.useCallback)((e=>{const t=e.selected.value;n(t),null==a||a(t)}),[]),d=(0,s.useMemo)((()=>{const e=t.find((e=>e.value===r));return e?e.label:""}),[r,t]);return{value:r,onChange:c,options:t,label:d,searchPlaceholder:o("calls_search_empty_list")}}},151582:(e,t,a)=>{"use strict";a.d(t,{useIsMounted:()=>i});var s=a(667294);const i=()=>{const e=(0,s.useRef)(!0),t=(0,s.useCallback)((()=>e.current),[]);return(0,s.useEffect)((()=>()=>{e.current=!1}),[]),t}},915961:(e,t,a)=>{"use strict";a.d(t,{useLang:()=>l});var s=a(667294),i=a(346880);const l=()=>(0,s.useContext)(i.LangContext)},558791:(e,t,a)=>{"use strict";a.d(t,{useLangContext:()=>l});var s=a(667294),i=a(346880);const l=()=>(0,s.useContext)(i.LangContext)},768296:(e,t,a)=>{"use strict";a.d(t,{useLocale:()=>s});const s=()=>{var e;return{locale:(null==(e=window.langConfig)?void 0:e.locale)||"ru"}}},360230:(e,t,a)=>{"use strict";a.d(t,{useNotifier:()=>o});var s=a(434788),i=a(667294),l=a(878198);const o=()=>({showErrorMessage:(0,i.useCallback)(((...e)=>{var t;const a=null==window||null==(t=window.Calls)||null==t.notifierGetter?void 0:t.notifierGetter();return((null==a?void 0:a.showEvent)||l.noop)((0,s._)({},e[0],{type:"calls-standalone"}),e[1])}),[]),showText:(0,i.useCallback)((e=>{var t;const a=null==window||null==(t=window.Calls)||null==t.notifierGetter?void 0:t.notifierGetter();return((null==a?void 0:a.showEvent)||l.noop)({type:"calls-standalone--text",text:e})}),[])})},598593:(e,t,a)=>{"use strict";a.d(t,{usePromiseError:()=>r});var s=a(667294),i=a(360230),l=a(915961),o=a(465768);const r=()=>{const{showErrorMessage:e}=(0,i.useNotifier)(),{getLang:t}=(0,l.useLang)();return{handleError:(0,s.useCallback)((a=>{var s;switch(null==(s=a.error)?void 0:s.error_msg){case"Invalid request: Invalid name":e({title:t("calls_error_invalid_name_title"),text:t("calls_error_invalid_name_desc")});break;case"Flood control":e({title:t("calls_error_flood_control_title"),text:t("calls_error_flood_control_desc")});break;case"Internal server error":e({title:t("calls_error_internal_title"),text:t("calls_error_internal_desc")});break;case"Invalid request: Invalid time":case"Invalid request: Call already ended":e({title:t("calls_error_invalid_time_title"),text:t("calls_error_invalid_time_desc")});break;case"Invalid request: Invalid duration":e({title:t("calls_error_invalid_time_title"),text:t("calls_error_invalid_duration_desc")});break;case"Invalid request: Invalid recurrence times":case"Invalid request: Invalid recurrence time params":e({title:t("calls_error_invalid_recurrence_times_title"),text:t("calls_error_invalid_recurrence_times_desc")});break;default:(0,o.handlePromiseError)(a)}}),[t,e])}}},752540:(e,t,a)=>{"use strict";a.d(t,{useRef:()=>l});var s=a(667294),i=a(878198);const l=e=>{const t=(0,s.useRef)(!1),a=(0,s.useRef)();return t.current||a.current||(a.current=(0,i.getCallable)(e),t.current=!0),a}},302617:(e,t,a)=>{"use strict";a.d(t,{ECallActionEventType:()=>n.CallActionEventType,useSendStatsData:()=>c});var s=a(434788),i=a(667294),l=a(50533),o=a(495457),r=a(732297),n=a(292071);const c=()=>{const e=(0,l.useSelector)((e=>{var t;return null==(t=e.callData)?void 0:t.callId})),t=(0,l.useSelector)((e=>e.peer)),a=(0,i.useMemo)((()=>(0,o.isGroupCallByPeer)(t)),[t]);return{sendStatsData:(0,i.useCallback)(((i,l={})=>{r.callStats.logEvent((0,s._)({call_event_type:i,session_id:e,peer_id:t,is_group_call:a},l))}),[e,t,a])}}},40982:(e,t,a)=>{"use strict";a.d(t,{mapSharingChannel:()=>n,useSendStatsDataCallScheduled:()=>r});var s=a(434788),i=a(302617),l=a(732297),o=a(418855);const r=()=>({sendCallScheduled:({creatorId:e,sharingChannel:t,isEdit:a,session_id:o})=>{const r=a?i.ECallActionEventType.SCHEDULED_CALL_EDITED:i.ECallActionEventType.CALL_SCHEDULED;var c,d;c=r,d={sharing_channel:n(t),peer_id:e||0,session_id:o},l.callStats.logEvent((0,s._)({call_event_type:c,is_group_call:!1},d))}});function n(e){switch(e){case o.ECalendar.Google:return"calendar_google";case o.ECalendar.Other:return"other";case o.ECalendar.Outlook:return"calendar_outlook";case o.ECalendar.iCloud:return"calendar_icloud"}}},694379:(e,t,a)=>{"use strict";a.d(t,{VkmeContext:()=>i,useVkmeContext:()=>l});var s=a(667294);const i=(0,s.createContext)({isVkme:!1,vkmeHistoryCallsContainerElement:null}),l=()=>(0,s.useContext)(i)},526322:(e,t,a)=>{"use strict";a.d(t,{StarIcon:()=>o});var s=a(434788),i=a(512796),l=a(785893);const o=e=>{var t=(0,s._)({},(0,i._)(e));return(0,l.jsx)("svg",(0,s._)({width:"10",height:"10",viewBox:"0 0 10 10",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t,{children:(0,l.jsx)("path",{d:"M6.80486 3.06621L9.19457 3.30079C10.0261 3.38241 10.2811 4.21346 9.63901 4.75944L7.76813 6.35033L8.46267 8.94201C8.69075 9.79313 7.98312 10.3084 7.27435 9.79614L5.0011 8.15325L2.72785 9.79614C2.02194 10.3063 1.31141 9.79324 1.53953 8.94201L2.23406 6.35033L0.363183 4.75944C-0.281598 4.21116 -0.0275869 3.38278 0.807493 3.30079L3.19677 3.06621L4.24943 0.583062C4.57908 -0.194562 5.42332 -0.194173 5.75269 0.583142L6.80486 3.06621Z"})}))}},162532:(e,t,a)=>{"use strict";a.d(t,{baseUserFields:()=>p,callsCheckParticipantName:()=>ye,callsDeleteParticipantName:()=>Te,callsEditParticipantName:()=>Ae,callsGetJoinHistory:()=>ge,callsGetParticipants:()=>fe,callsGetReactions:()=>he,callsGetUserSettings:()=>_e,callsSetUserSettings:()=>Ce,deleteAsrTranscriptions:()=>Me,fetchCallsAnonymQueue:()=>Ee,fetchCallsQueue:()=>q,fetchUrl:()=>K,forceCallFinish:()=>D,friendsSearch:()=>te,getAnonymCallToken:()=>U,getAsrTranscriptions:()=>De,getCallAuthToken:()=>T,getCallParticipants:()=>k,getCallParticipantsApiCall:()=>H,getCallUrlLink:()=>y,getCallsHistory:()=>Y,getConversationsByCall:()=>M,getCurrentCalls:()=>z,getFriends:()=>ee,getGroupById:()=>N,getGroupMembers:()=>F,getGroupsForCall:()=>V,getGroupsForStreaming:()=>W,getSearchVideo:()=>ue,getUpcomingLives:()=>x,getVideos:()=>R,getWatchTogetherOwnerVideos:()=>de,getWatchTogetherRecommended:()=>ce,loadCallPeers:()=>f,loadCallPeersByPeerIds:()=>g,loadChatMembers:()=>A,loadFriends:()=>S,loadPrivacySettings:()=>B,loadUsers:()=>j,logCallReceived:()=>L,makeCallsAnonymQueueUrl:()=>Se,makeCallsQueueUrl:()=>$,messagesDeleteScheduledCall:()=>re,messagesEditCall:()=>ne,messagesGetCallPreview:()=>E,messagesGetConversations:()=>ae,messagesGetScheduledCalls:()=>oe,messagesSearch:()=>le,messagesSend:()=>se,messagesStartCall:()=>ie,photosDelete:()=>X,photosGetAllImages:()=>J,photosSaveBackgroundPhoto:()=>Z,retryLoadCallPeers:()=>v,searchCallParticipants:()=>pe,searchGroupMembers:()=>G,sendVideoEdit:()=>P,stopVideoStream:()=>O,videoGet:()=>me,videoLiveGetSpectators:()=>I,videoStartStreaming:()=>w});var s=a(11010),i=a(434788),l=a(393356),o=a(878198),r=a(888385),n=a(464380),c=a(455118),d=a(465768);function u(e){return(t,a,s)=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:e}),(0,r.getApiWrapper)()()(e,t,s,a).then((t=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:e,data:t}),t))))}const m=["photo_200","sex","screen_name","first_name_gen","is_nft","animated_avatar","custom_names_for_calls"].join(","),p=["photo_200","sex","screen_name","first_name_gen","is_nft","animated_avatar","custom_names_for_calls"].join(","),h=["name","photo_100","photo_200","can_upload_video","custom_names_for_calls"].join(","),g=e=>(0,r.getApiWrapper)()()("messages.getConversationsById",{peer_ids:e,extended:1,fields:p}),f=e=>(0,r.getApiWrapper)()()("messages.getConversationsById",{peer_ids:[e],extended:1,fields:p});let _=0,C=[],b=[];const v=(0,o.exponentialRetry)(((e,t=50)=>(C.push(e),new Promise((e=>{b.push(e),_||(_=window.setTimeout((()=>{g(C).then((e=>{b.forEach((t=>{t(e)})),b=[]})).catch(d.handlePromiseError),C=[],_=0}),t))}))))),A=e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"messages.getConversationMembers",data:{peerId:e}}),(0,r.getApiWrapper)()()("messages.getConversationMembers",{peer_id:e,fields:m.concat(",can_call"),extended:1}).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"messages.getConversationMembers",data:e}),e)))),T=(e,t=0)=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallToken",data:{isDev:e,groupId:t}}),(0,r.getApiWrapper)()()("messages.getCallToken",{env:e?"development":"production",group_id:t},{version:l.API_VERSION}).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallToken",data:e}),e)))),y=((0,o.exponentialRetry)(T),(e,t,a=0)=>{const s={call_id:e,invalidate:t?1:0,group_id:a};return(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"messages.getJoinLink",data:s}),(0,r.getApiWrapper)()()("messages.getJoinLink",s).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"messages.getJoinLink",data:e}),e)))}),E=(e,t=!1,a={})=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallPreview",data:{link:e,fields:p,device_id:"anyId"}}),(0,r.getApiWrapper)(!t)()("messages.getCallPreview",{link:e,fields:p,device_id:"anyId",extended:1},a).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallPreview",data:e}),e)))),S=()=>{const e={fields:m.concat(",can_call"),filters:"without_dead",order:"hints"};return(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"friends.get",data:e}),(0,r.getApiWrapper)()()("friends.get",e).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"friends.get",data:e}),e)))},D=e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"messages.forceCallFinish",data:{call_id:e}}),(0,r.getApiWrapper)()()("messages.forceCallFinish",{call_id:e}).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"messages.forceCallFinish",data:e}),e)))),M=(e,t={})=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"messages.getConversationsByCall",data:(0,i._)({call_ids:e,fields:p},t)}),(0,r.getApiWrapper)()()("messages.getConversationsByCall",(0,i._)({call_ids:e,fields:p},t)).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"messages.getConversationsByCall",data:e}),e)))),U=(e,t,a,s,i)=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"messages.getAnonymCallToken",data:{link:e,user_id:t,name:a,secret:s,device_id:"anyId"}}),(0,r.getApiWrapper)(!1)()("messages.getAnonymCallToken",{link:e,user_id:t,name:a,secret:s,device_id:"anyId"},i).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"messages.getAnonymCallToken",data:e}),e)))),k=(e,t,a,s=!1,i)=>{const n=[];let c=Array.from(new Set(t));for(;c.length;)c.length>1e3?(n.push(c.slice(0,1e3)),c=c.slice(1e3)):(n.push(c),c=[]);const d=(0,o.exponentialRetry)((function(t,i){const o=s?{call_id:e,peer_ids:i.join(","),fields:p,device_id:"anyId",secret:t.secret,user_id:a}:{call_id:e,peer_ids:i.join(","),fields:p};return(0,r.getApiWrapper)(!s)()("messages.getCallParticipants",o,{version:l.API_VERSION}).then((e=>({count:e.count+t.count,secret:e.secret,profiles:(t.profiles||[]).concat(e.profiles||[]),anonyms:(t.anonyms||[]).concat(e.anonyms||[]),groups:(t.groups||[]).concat(e.groups||[])})))})),u=Promise.resolve({secret:i,count:0});return n.reduce(((e,t)=>e.then((e=>d(e,t)))),u)},w=e=>(0,r.getApiWrapper)()()("video.startStreaming",e),N=e=>(0,r.getApiWrapper)()()("groups.getById",{group_ids:e,fields:h},{version:l.API_VERSION}),x=e=>(0,r.getApiWrapper)()()("video.getUpcomingLives",{owner_ids:e}),R=(e,t,a)=>(0,r.getApiWrapper)()()("video.get",{owner_id:e,videos:t,need_privacy:a}),P=(e,t,a,s,i)=>(0,r.getApiWrapper)()()("video.edit",{owner_id:e,video_id:t,name:a,desc:s,privacy_view:i}),j=e=>(0,r.getApiWrapper)()()("users.get",e),L=e=>(0,r.getApiWrapper)()()("messages.callReceived",{call_id:e}),I=e=>(0,r.getApiWrapper)()()("video.liveGetSpectators",{owner_id:e.owner_id,video_id:e.video_id}),O=(e=null)=>(0,n.stopStream)(e),B=e=>(0,r.getApiWrapper)()()("account.getPrivacySettings",e),V=()=>(0,r.getApiWrapper)()()("messages.getGroupsForCall",{count:200}),F=(e,t=0,a=10)=>{let s={fields:m.concat(",can_call_from_group"),group_id:e,offset:t,count:a,sort:"time_asc"};return(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"groups.getMembers",params:s}),(0,r.getApiWrapper)()()("groups.getMembers",s).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"groups.getMembers",data:e}),e)))},G=(e,t="")=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"users.search",data:{groupId:e,q:t}}),(0,r.getApiWrapper)()()("users.search",{fields:m.concat(",can_call_from_group"),group_id:e,q:t}).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"users.search",data:e}),e))));function H(e,t,a=!1,s="",o=0){let c={call_id:e,peer_ids:t.join(","),fields:p};return a&&(c=(0,i._)({},c,{device_id:"anyId",secret:s,user_id:o})),(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallParticipants",data:c}),(0,r.getApiWrapper)(!a)()("messages.getCallParticipants",c,{version:l.API_VERSION}).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallParticipant",response:e}),e)))}function W(){return(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"video.getGroupsForStreaming"}),(0,r.getApiWrapper)()()("video.getGroupsForStreaming",{}).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"video.getGroupsForStreaming",response:e}),e)))}function z(e=m){let t={fields:e};return(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"messages.getCurrentCalls",data:t}),(0,r.getApiWrapper)()()("messages.getCurrentCalls",t).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"messages.getCurrentCalls",response:e}),e)))}function q(e){return function(e){return(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"queue.subscribe",data:e}),(0,r.getApiWrapper)()()("queue.subscribe",e,{grouping:!1}).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"queue.subscribe",response:e}),e)))}({queue_ids:`calls_${e}`}).then((t=>{const{base_url:a,queues:s}=t,{key:i,timestamp:l}=s[0];return{baseUrl:a,key:i,timestamp:l,userId:e}}))}function $(e){const{baseUrl:t,key:a,userId:s,timestamp:i}=e;return`${t}?act=a_check&key=${a}&id=${s}&ts=${i}&wait=20`}function K(e){return fetch(e).then((e=>e.json()))}function Y(e=5,t=0,a=0,s="all"){let i={count:e,start_from:t,fields:m+",last_name_gen",filter:s,group_id:a};return(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"messages.getCallHistory",data:i}),(0,r.getApiWrapper)()()("messages.getCallHistory",i).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"messages.getCallHistory",response:e}),e)))}const J=(e={})=>{const t=(0,r.getApiWrapper)(!0)();return(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"photos.get",params:e}),t("photos.get",(0,i._)({album_id:"-166"},e)).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"photos.get",response:e}),e)))},Q=e=>["error_msg","error_code"].some((t=>(0,c.get)(t,e)))?Promise.reject(e):Promise.resolve(e),Z=e=>{const t=(0,r.getApiWrapper)(!0)(),a=(0,r.getApiWrapper)(!0)();return(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"photos.getCallBackgroundsPhotoUploadServer"}),t("photos.getCallBackgroundsPhotoUploadServer",{}).then(Q).then((t=>{(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"photos.getCallBackgroundsPhotoUploadServer",response:t});const a=new FormData;return a.append("file1",e,e.name),(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:`[photoUploadUrl] ${t.upload_url}`,formData:a}),fetch(t.upload_url,{method:"POST",body:a}).then((e=>e.json())).then(Q)})).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"[photoUploadUrl]",json:e}),(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"photos.saveBackgroundPhoto",json:e}),a("photos.saveBackgroundPhoto",{response_json:JSON.stringify(e)})))).then(Q)},X=e=>{const t=(0,r.getApiWrapper)(!0)();return(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"photos.delete",params:e}),t("photos.delete",e).then(Q)},ee=(e=10,t=0,a="hints")=>{const s={fields:m.concat(",can_call,online_info"),count:e,offset:t,order:a,filters:"without_dead"};return(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"friends.get",data:s}),(0,r.getApiWrapper)()()("friends.get",s).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"friends.get",data:e}),e)))},te=(e,t="",a=10,s=0)=>{const i={user_id:e,q:t,fields:m.concat(",can_call,online_info,photo_50"),count:a,offset:s};return(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"friends.search",data:i}),(0,r.getApiWrapper)()()("friends.search",i).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"friends.search",data:e}),e)))},ae=(e={extended:1,count:30})=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"messages.getConversations",data:e}),(0,r.getApiWrapper)()()("messages.getConversations",e).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"messages.getConversations",data:e}),e)))),se=(e={})=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"messages.send",data:e}),(0,r.getApiWrapper)()()("messages.send",e).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"messages.send",data:e}),e)))),ie=e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"messages.startCall",data:e}),(0,r.getApiWrapper)()()("messages.startCall",e).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"messages.startCall",data:e}),e)))),le=(e={})=>{const t=(0,i._)({count:20,extended:1},e);return(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"messages.search",data:t}),(0,r.getApiWrapper)()()("messages.search",t).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"messages.search",data:e}),e)))},oe=(e={})=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"messages.getScheduledCalls",data:e}),(0,r.getApiWrapper)()()("messages.getScheduledCalls",e).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"messages.getScheduledCalls",data:e}),e)))),re=e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"messages.deleteScheduledCall",data:e}),(0,r.getApiWrapper)()()("messages.deleteScheduledCall",e).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"messages.deleteScheduledCall",data:e}),e)))),ne=e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"messages.editCall",data:e}),(0,r.getApiWrapper)()()("messages.editCall",e).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"messages.editCall",data:e}),e)))),ce=(e={},t={})=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"video.getWatchTogetherRecommendedVideos",params:e}),(0,r.getApiWrapper)()()("video.getWatchTogetherRecommendedVideos",e,{},t).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"video.getWatchTogetherRecommendedVideos",data:e}),e))).then(Q)),de=(e={},t={})=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"video.getWatchTogetherOwnerVideos",params:e}),(0,r.getApiWrapper)()()("video.getWatchTogetherOwnerVideos",e,{},t).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"video.getWatchTogetherOwnerVideos",data:e}),e))).then(Q)),ue=(e={},t)=>(e.united_video_only=1,e.extended=1,(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"video.search",params:e}),(0,r.getApiWrapper)()()("video.search",e,{version:"5.167"},t).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"video.search",data:e}),e))).then(Q)),me=(e,t)=>{const a=(0,i._)({extended:1},e);return(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"video.get",data:a}),(0,r.getApiWrapper)()()("video.get",a,void 0,t).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"video.get",data:e}),e)))},pe=(e,{userId:t,isAnon:a=!1,secret:s,search:o},c)=>{const d="messages.getCallParticipants",u={call_id:e,fields:p,search:o},m=a?(0,i._)({},u,{device_id:"anyId",secret:s,user_id:t}):u;return(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:d,params:m}),(0,r.getApiWrapper)(!a)()(d,m,{version:l.API_VERSION},c).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:d,data:e}),{count:e.count,secret:e.secret,profiles:e.profiles||[],anonyms:e.anonyms||[],groups:e.groups||[]})))},he=(e={},t)=>{const a="calls.getReactions";return(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:a,params:e}),(0,r.getApiWrapper)()()(a,e,void 0,t).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:a,data:e}),e)))},ge=(e,t)=>{const a="calls.getCallJoinHistory";return(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:a,params:e}),(0,r.getApiWrapper)()()(a,e,void 0,t).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:a,data:e}),e.csv)))},fe=(e,t)=>{const a="calls.getParticipants";e.fields=p,(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:a,params:e});return(0,r.getApiWrapper)()()(a,e,void 0,t).then((e=>((0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:a,data:e}),e)))},_e=()=>be("calls.getUserSettings",{},{maxRetries:0}),Ce=e=>be("calls.setUserSettings",e);function be(e,t,a,s){return ve.apply(this,arguments)}function ve(){return(ve=(0,s._)((function*(e,t,a,s){(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:e,params:t});const i=(0,r.getApiWrapper)(),l=yield i()(e,t,a,s);return(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:e,data:l}),l}))).apply(this,arguments)}const Ae=e=>(0,r.getApiWrapper)()()("calls.editParticipantName",e).then((e=>e)),Te=e=>(0,r.getApiWrapper)()()("calls.deleteParticipantName",e).then((e=>e)),ye=e=>(0,r.getApiWrapper)()()("calls.checkParticipantName",e,void 0).then((e=>e));function Ee(e,t,a){const s={anonym_auth_user_id:e,secret:t,device_id:a};return(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"request",method:"calls.subscribeToQueue",data:s}),(0,r.getApiWrapper)()()("calls.subscribeToQueue",s).then((e=>{(0,n.debugMessage)(n.DebugMessageType.DEBUG,{type:"response",method:"calls.subscribeToQueue",response:e});const{secret:t,queue_subscription_info:a}=e;return{secret:t,queue_subscription_info:a}}))}function Se(e,t){const{base_url:a,queues:s}=e.queue_subscription_info,{key:i,timestamp:l}=s[0];return`${a}?act=a_check&key=${i}&id=${t}&ts=${l}&wait=20`}const De=u("calls.getAsrTranscriptions"),Me=(u("calls.editAsrTranscription"),u("calls.deleteAsrTranscriptions"))},911426:(e,t,a)=>{"use strict";a.d(t,{CallsLongpoll:()=>n});var s=a(11010),i=a(434788),l=a(162532),o=a(774351),r=a(464380);class n{init(){var e=this;return(0,s._)((function*(){try{const t=yield e.apiQueueSubscribe(e.userId);e.urlData=t}catch(e){(0,r.debugMessage)(r.DebugMessageType.ERROR,{type:"request",method:"queue.subscribe",error:e,text:"could not subscribe to Calls event queue"})}}))()}wait(){var e=this;return(0,s._)((function*(){if(!e.closed)try{if(e.urlData||(yield e.init()),!e.urlData)throw new Error("no urlData!");const t=(0,l.makeCallsQueueUrl)(e.urlData),a=yield e.fetchCallsLongpoll(t);e.closed||e.onResponse(a),e.urlData=(0,i._)({},e.urlData,{timestamp:a.ts})}catch(t){const a=e.retryCount;if(a>100)return;yield(0,o.pause)(a*a,null),e.retryCount+=1,e.urlData=null}finally{e.wait()}}))()}fetchCallsLongpoll(e){var t=this;return(0,s._)((function*(){return(0,l.fetchUrl)(e).then((a=>{var s;if((null==a?void 0:a.error)||(null==a?void 0:a.failed))throw(0,r.debugMessage)(r.DebugMessageType.ERROR,{type:"response.(error|failed)",method:e,data:{error:null==a?void 0:a.error,failed:null==a?void 0:a.failed}}),new Error("re-init subscription");if((null==a?void 0:a.ts)===(null==(s=t.urlData)?void 0:s.timestamp))throw(0,r.debugMessage)(r.DebugMessageType.ERROR,{type:"response.ts",method:e,data:a}),new Error("re-init subscription");return a}))}))()}destroy(){this.closed=!0}constructor(e,t,a){this.userId=e,this.onResponse=t,this.retryCount=0,this.urlData=null,this.apiQueueSubscribe=a||l.fetchCallsQueue}}},94176:(e,t,a)=>{"use strict";a.d(t,{EMOBAPP:()=>o,EMailRuGoals:()=>s,EOS:()=>l,E_MOBAPP_QR_MODAL:()=>r,mailRuCounter:()=>p,useMailRuCounter:()=>h});var s,i,l,o,r,n,c=a(434788),d=a(752540),u=a(878198);!function(e){e.StartP2PCall="start_p2p_call",e.StartGroupCall="start_group_call",e.AcceptCall="accept_call",e.JoinCall="join_call",e.ScheduledCall="scheduled_call",e.DownloadAppLend="download_app_lend",e.DownloadAppVkCalls="download_app_vk_calls",e.DownloadAppVkCommon="download_app_vk_common",e.DownloadAppJoinDeeplink="download_app_join_deeplink"}(s||(s={})),function(e){e.VkCom="2579437",e.CallsVkCom="3252492"}(i||(i={})),function(e){e.Windows="windows",e.Linux="linux",e.Mac="mac"}(l||(l={})),function(e){e.IOs="ios_mobapp",e.Android="android_mobapp",e.Rustore="rustore_mobapp"}(o||(o={})),function(e){e.Android="android_qr",e.IOs="ios_qr",e.Rustore="rustore_qr"}(r||(r={})),function(e){e.VkRooms="vkrooms"}(n||(n={}));class m{push(e,t){var a;const s=window._tmr||this.events,i={id:(0,u.hasIn)(window.location.hostname,"calls.vk.com","calls.vk.ru")||(0,u.hasIn)(window.location.pathname,"/calls-standalone")?"3252492":"2579437",type:"reachGoal",goal:e,userid:String((null==(a=window.vk)?void 0:a.id)||0)};if(t&&(i.params=t),"join_call"===e){var l;const e=(null==(l=window.vk)?void 0:l.id)?1:0;i.params=(0,c._)({},i.params||{},{login:e})}s.push(i)}constructor(){this.events=[]}}const p=new m,h=()=>({mailRuCounter:(0,d.useRef)((()=>new m)).current})},535727:(e,t,a)=>{"use strict";a.d(t,{usePatchChildrenRef:()=>o});var s=a(667294),i=a(488543);const l=e=>"string"==typeof e.type,o=e=>{const t=(0,s.isValidElement)(e)&&(l(e)?e.ref:e.props.getRootRef),a=(0,i.useExternRef)(t);return(0,s.useEffect)((()=>{a.current||console.error("Кажется, в children передан компонент, который не поддерживает свойство getRootRef. Мы не можем получить ссылку на корневой dom-элемент этого компонента")}),[null==e?void 0:e.type,a]),[a,(0,s.isValidElement)(e)?(0,s.cloneElement)(e,{[l(e)?"ref":"getRootRef"]:a}):e]}},423570:(e,t,a)=>{var s,i,l=a(685217),o=a(45327),r=0,n=0;e.exports=function(e,t,a){var c=t&&a||0,d=t||[],u=(e=e||{}).node||s,m=void 0!==e.clockseq?e.clockseq:i;if(null==u||null==m){var p=l();null==u&&(u=s=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==m&&(m=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:n+1,f=h-r+(g-n)/1e4;if(f<0&&void 0===e.clockseq&&(m=m+1&16383),(f<0||h>r)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");r=h,n=g,i=m;var _=(1e4*(268435455&(h+=122192928e5))+g)%4294967296;d[c++]=_>>>24&255,d[c++]=_>>>16&255,d[c++]=_>>>8&255,d[c++]=255&_;var C=h/4294967296*1e4&268435455;d[c++]=C>>>8&255,d[c++]=255&C,d[c++]=C>>>24&15|16,d[c++]=C>>>16&255,d[c++]=m>>>8|128,d[c++]=255&m;for(var b=0;b<6;++b)d[c+b]=u[b];return t||o(d)}},512796:(e,t,a)=>{"use strict";function s(e){if(null==e)throw new TypeError("Cannot destructure "+e);return e}a.d(t,{_:()=>s})}}]);try{stManager.done("dist/472dc203e0fb9db378c1a0f1be62a08b.f6f533dc718c3d43ac57.js")}catch(e){}